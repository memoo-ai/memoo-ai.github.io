import{j as e,b as W,d as Me,e as Fe}from"./rainbowkit-BwrhBfIg.js";import{r as s,e as Ne,h as Le,u as Ve}from"./react-DYnGVO3U.js";import{C as re,P as Ue}from"./countdown-BPM5m0UX.js";import{r as He,C as Ee,c as S}from"./index-CUXDnwud.js";import{B as T,f as qe,g as ze,a as X,b as ve,h as We,i as Qe,j as Ke,k as Ge,d as Je}from"./index-DAgxB8fP.js";import{a as Ie,f as y,g as Xe,b as q,d as Te,e as Ye,h as Ze,i as be,j as ie,B as et}from"./button-D2w9G43I.js";import{R as le,z as ne,D as tt,E as K,U as G}from"./index-C9D1i919.js";import{s as P,M as H,I as ee,S as st,a as at}from"./useManageContract-6okNu0Ft.js";import{R as lt}from"./index-DgFk5IGt.js";import{g as nt,m as ot,q as rt,r as it,P as ct,s as dt,v as mt,w as pt,a as xt,d as ut,n as ft,c as ht,j as gt,h as z,B as R,i as _e}from"./index-2QJzUN5n.js";import{m as Oe,f as jt,g as Nt,a as wt,b as vt,c as bt}from"./airdrop-CMrzmQ7s.js";import{u as Se}from"./useEthers-_v9Q9ExJ.js";import{S as Re,g as Ct,a as yt}from"./common-CEyVQsJ1.js";import{g as De,r as kt,F as U,a as Et,b as It,T as Tt,U as _t,u as Ot,d as St}from"./token-BeLTO0Wm.js";import"./CheckCircleFilled-CPRDrbA1.js";import"./maths-CNprVtit.js";import"./progress-pemdDKV3.js";const Y=t=>t?typeof t=="function"?t():t:null,Rt=t=>{const{componentCls:a,popoverColor:o,titleMinWidth:n,fontWeightStrong:r,innerPadding:l,boxShadowSecondary:d,colorTextHeading:u,borderRadiusLG:p,zIndexPopup:m,titleMarginBottom:i,colorBgElevated:g,popoverBg:v,titleBorderBottom:x,innerContentPadding:N,titlePadding:c}=t;return[{[a]:Object.assign(Object.assign({},He(t)),{position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:m,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text",transformOrigin:"var(--arrow-x, 50%) var(--arrow-y, 50%)","--antd-arrow-background-color":g,width:"max-content",maxWidth:"100vw","&-rtl":{direction:"rtl"},"&-hidden":{display:"none"},[`${a}-content`]:{position:"relative"},[`${a}-inner`]:{backgroundColor:v,backgroundClip:"padding-box",borderRadius:p,boxShadow:d,padding:l},[`${a}-title`]:{minWidth:n,marginBottom:i,color:u,fontWeight:r,borderBottom:x,padding:c},[`${a}-inner-content`]:{color:o,padding:N}})},it(t,"var(--antd-arrow-background-color)"),{[`${a}-pure`]:{position:"relative",maxWidth:"none",margin:t.sizePopupArrow,display:"inline-block",[`${a}-content`]:{display:"inline-block"}}}]},Dt=t=>{const{componentCls:a}=t;return{[a]:ct.map(o=>{const n=t[`${o}6`];return{[`&${a}-${o}`]:{"--antd-arrow-background-color":n,[`${a}-inner`]:{backgroundColor:n},[`${a}-arrow`]:{background:"transparent"}}}})}},Pt=t=>{const{lineWidth:a,controlHeight:o,fontHeight:n,padding:r,wireframe:l,zIndexPopupBase:d,borderRadiusLG:u,marginXS:p,lineType:m,colorSplit:i,paddingSM:g}=t,v=o-n,x=v/2,N=v/2-a,c=r;return Object.assign(Object.assign(Object.assign({titleMinWidth:177,zIndexPopup:d+30},dt(t)),mt({contentRadius:u,limitVerticalRadius:!0})),{innerPadding:l?0:12,titleMarginBottom:l?0:p,titlePadding:l?`${x}px ${c}px ${N}px`:0,titleBorderBottom:l?`${a}px ${m} ${i}`:"none",innerContentPadding:l?`${g}px ${c}px`:0})},Pe=nt("Popover",t=>{const{colorBgElevated:a,colorText:o}=t,n=ot(t,{popoverBg:a,popoverColor:o});return[Rt(n),Dt(n),rt(n,"zoom-big")]},Pt,{resetStyle:!1,deprecatedTokens:[["width","titleMinWidth"],["minWidth","titleMinWidth"]]});var Bt=function(t,a){var o={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&a.indexOf(n)<0&&(o[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)a.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(o[n[r]]=t[n[r]]);return o};const At=(t,a,o)=>!a&&!o?null:s.createElement(s.Fragment,null,a&&s.createElement("div",{className:`${t}-title`},Y(a)),s.createElement("div",{className:`${t}-inner-content`},Y(o))),$t=t=>{const{hashId:a,prefixCls:o,className:n,style:r,placement:l="top",title:d,content:u,children:p}=t;return s.createElement("div",{className:S(a,o,`${o}-pure`,`${o}-placement-${l}`,n),style:r},s.createElement("div",{className:`${o}-arrow`}),s.createElement(pt,Object.assign({},t,{className:a,prefixCls:o}),p||At(o,d,u)))},Mt=t=>{const{prefixCls:a,className:o}=t,n=Bt(t,["prefixCls","className"]),{getPrefixCls:r}=s.useContext(Ee),l=r("popover",a),[d,u,p]=Pe(l);return d(s.createElement($t,Object.assign({},n,{prefixCls:l,hashId:u,className:S(o,p)})))};var Ft=function(t,a){var o={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&a.indexOf(n)<0&&(o[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)a.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(o[n[r]]=t[n[r]]);return o};const Lt=t=>{let{title:a,content:o,prefixCls:n}=t;return s.createElement(s.Fragment,null,a&&s.createElement("div",{className:`${n}-title`},Y(a)),s.createElement("div",{className:`${n}-inner-content`},Y(o)))},Vt=s.forwardRef((t,a)=>{var o,n;const{prefixCls:r,title:l,content:d,overlayClassName:u,placement:p="top",trigger:m="hover",children:i,mouseEnterDelay:g=.1,mouseLeaveDelay:v=.1,onOpenChange:x,overlayStyle:N={}}=t,c=Ft(t,["prefixCls","title","content","overlayClassName","placement","trigger","children","mouseEnterDelay","mouseLeaveDelay","onOpenChange","overlayStyle"]),{getPrefixCls:b}=s.useContext(Ee),h=b("popover",r),[C,j,I]=Pe(h),k=b(),A=S(u,j,I),[L,f]=xt(!1,{value:(o=t.open)!==null&&o!==void 0?o:t.visible,defaultValue:(n=t.defaultOpen)!==null&&n!==void 0?n:t.defaultVisible}),w=(_,$)=>{f(_,!0),x?.(_,$)},E=_=>{_.keyCode===gt.ESC&&w(!1,_)},B=_=>{w(_)};return C(s.createElement(ut,Object.assign({placement:p,trigger:m,mouseEnterDelay:g,mouseLeaveDelay:v,overlayStyle:N},c,{prefixCls:h,overlayClassName:A,ref:a,open:L,onOpenChange:B,overlay:l||d?s.createElement(Lt,{prefixCls:h,title:l,content:d}):null,transitionName:ft(k,"zoom-big",c.transitionName),"data-popover-inject":!0}),ht(i,{onKeyDown:_=>{var $,M;s.isValidElement(i)&&((M=i==null?void 0:($=i.props).onKeyDown)===null||M===void 0||M.call($,_)),E(_)}})))}),we=Vt;we._InternalPanelDoNotUseOrYouWillBeFired=Mt;const ce=({children:t})=>{const[a,o]=s.useState(!1),[n,r]=s.useState(!1),{idoLaunchedDetail:l,airdropClaim:d}=s.useContext(D),{getSign:u}=Se(),p=s.useCallback(async()=>{if(!(!d||!l))try{r(!0);const m=await u(),{data:i}=await Oe({ticker:l?.ticker??"",signature:m?.rawSignature??"",timestap:m?.msg??""});console.log("contractAddress:",l?.contractAddress),console.log("airdropCount:",new T(i?.airdropCount)),console.log("jsonData:",i?.jsonData),console.log("signature:",i?.signature),await d(l?.contractAddress,new T(i?.airdropCount),`0x${i?.hexMessage}`,`0x${i?.hexSignature}`),o(!1),P.success("Claim Successful")}catch(m){console.error(m),P.error("Claim Failed")}finally{r(!1)}},[d,l]);return e.jsxs(e.Fragment,{children:[e.jsx(H,{className:"min-w-[604px]",wrapClassName:"memoo_modal",title:"Airdrop Unlocked",open:a,onCancel:()=>o(!1),footer:null,destroyOnClose:!0,children:e.jsxs("div",{className:"airdrop_claims flex flex-col",children:[e.jsxs("div",{className:"flex flex-col items-center gap-y-[18px]",children:[e.jsx("img",{className:"w-[111px] object-contain",src:"/create/img-claim.png"}),e.jsxs("span",{className:"font-404px text-[32px] text-green",children:[l?.tokenName," has arrived!"]}),e.jsx("p",{className:"whitespace-pre font-OCR text-base leading-[18px] text-white text-center",children:`Thanks for being part of the
Dogwifhat community.`})]}),e.jsxs("div",{className:"relative mt-[26px]",children:[e.jsx("img",{className:"absolute left-[25px] top-[50%] translate-y-[-50%] z-10",src:"/create/icon-airdrop-unlock.png"}),e.jsx(z,{className:"memoo_input h-[66px] font-404px text-white text-[24px] text-center",value:Number(l?.count).toLocaleString()})]}),e.jsx(R,{className:"memoo_button mt-4 h-[50px]",onClick:p,loading:n,children:"Confirm"})]})}),s.Children.map(t,m=>s.isValidElement(m)?s.cloneElement(m,{onClick:()=>o(!0)}):m)]})};ce.displayName=ce.name;const Be=({children:t})=>{W(),Me();const[a,o]=s.useState(!1),{openConnectModal:n}=Fe();return e.jsx("div",{children:n?e.jsx("div",{children:e.jsx("div",{onClick:()=>{n(),o(!0)},children:t})}):e.jsxs("div",{children:[" ",t]})})};var Ut={VITE_PROJECT_ID:"12054aa070d1f1a41e3420b5d40b665d",VITE_APP_BASE:"/memoo-interface",VITE_ENV:"production",VITE_NODE_TYPE:"mainnet",VITE_EXPLORER_API:"https://explorer-api.zklink.io",VITE_EXPLORER_URL:"https://explorer.zklink.io",VITE_NODE_CHAIN_ID:"1123",VITE_SHARE_URI:"https://app-beta.memoo.ai/",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const Ce=Ut.VITE_TWITTER_FOLLOW_REDIRECT_URI;let oe=!1;function Ht(){const{stage:t,idoQueueDetail:a,idoLaunchedDetail:o,idoActiveDetail:n,triggerRefresh:r,ticker:l,airdropClaim:d}=s.useContext(D),[u,p]=s.useState(!1),[m]=Ne();s.useState(!1);const{address:i}=W(),g=s.useMemo(()=>[{user:a?.twitter,link:"",followed:a?.projectTwitterBind},{user:a?.platformTwitter,link:"",followed:a?.platformTwitterBind}],[a]),v=s.useMemo(()=>t==="in-queue",[t]),x=s.useMemo(()=>{let h=Date.now(),C=(t==="launch"?o?.rewardEndsIn??0:n?.rewardEndsIn??0)*1e3;return console.log("now:",h),console.log("rewardEndsIn:",(t==="launch"?o?.rewardEndsIn??0:n?.rewardEndsIn??0)*1e3),h<C},[o,n,t]),N=s.useMemo(()=>{const h=o?.status==="Launched"||o?.status==="IDO",C=a?.projectTwitterBind&&a?.platformTwitterBind;return h&&C},[o,n,t]),c=s.useMemo(()=>t==="launch"||t==="1st-claim"||t==="2st-claim",[t]),b=s.useCallback(async h=>{try{let j=(await De()).data;const I={ticker:l,twitter:h,clientId:j};localStorage.setItem(le,JSON.stringify(I)),Ie(j,Ce),console.assert(!!h,"twitter is not found"),p(!0),await jt(h)}catch(C){console.error(C)}finally{p(!1)}},[]);return s.useEffect(()=>{(async()=>{const h=m.get("ticker"),C=m.get("code"),j=m.get("state");let I=null;try{I=JSON.parse(localStorage.getItem(le)??"")}catch{}if(I&&!oe){if(j==="twitter"&&C&&I){oe=!0;const{ticker:k,twitter:A,clientId:L}=I,w=await kt({appClientId:L,code:C,codeVerifier:"challenge",grantType:"authorization_code",redirectUri:Ce,refreshToken:"",twitter:A??"elonmusk"});if(console.log("follow res: ",w),!w.data){P.error("Failed to follow. Please try again later.");return}localStorage.removeItem(le),oe=!1,r?.()}console.log("ticker: ",h)}})()},[m]),e.jsxs("div",{className:"airdrop_claim px-5 pt-9 pb-5",children:[e.jsxs("div",{className:"head flex justify-between",children:[e.jsxs("h3",{className:"flex items-center gap-x-2 font-404px text-green text text-lg",children:["airdrop"," ",e.jsx(we,{children:e.jsx(ee,{title:`Lorem ipsum dolor sit amet consectetur adipiscing elit.
                Morbi fringilla ipsum turpisı sit amet tempus est malesuadased.
                Integer fringilla magnavel orci ultricies fermentum.
                Suspendisse sem est.`,color:"#fff",bgColor:"#396D93"})})]}),v&&e.jsx("span",{className:"endsin font-OCR text-white",children:"Ends in"})]}),e.jsxs("div",{className:"in_queue flex justify-between",children:[e.jsxs("p",{className:"text-deep-green text-xs whitespace-pre-wrap",children:["Complete tasks to be",`
`,"eligible for token airdrop."," "]}),v&&e.jsx(re,{instant:a?.airdropEndsIn&&typeof a?.airdropEndsIn=="number"?a?.airdropEndsIn*1e3:0})]}),e.jsx("ul",{className:"follow_list flex flex-col gap-y-2 mt-4",children:g.map((h,C)=>e.jsxs("li",{className:"follow_list_item flex items-center w-full justify-between px-3 py-3.5",children:[e.jsxs("p",{className:S("leading-5 font-OCR whitespace-pre-wrap",{"text-white":!h.followed&&t==="in-queue"||!i,"text-deep-green":h.followed||t!=="in-queue"}),children:["Follow @",h.user,`
`,"on twitter"]}),e.jsx(Be,{children:t==="in-queue"&&e.jsx("img",{onClick:()=>h.followed?null:b(h.user?h.user:""),className:S("w-5",{"cursor-pointer":!h.followed,"opacity-30":h.followed&&i}),src:`/create/icon-${h.followed?"followed":"outlink-media"}.png`})})]},C))}),N&&(x?e.jsxs("div",{className:"mt-5 airdrop-unlock flex flex-col items-center gap-y-2",children:[e.jsxs("div",{className:"flex gap-x-3.5",children:[e.jsx("img",{className:"w-5 object-contain",src:"/create/icon-airdrop-lock.png"}),e.jsx(re,{onEnded:h=>h&&r?.(),instant:(t==="launch"?o?.rewardEndsIn??0:n?.rewardEndsIn??0)*1e3})]}),e.jsx("p",{className:"text-white font-OCR leading-20 text-sm",children:"Wait for your airdrop to unlock."})]}):e.jsxs("div",{className:"mt-5 airdrop-unlock flex flex-col items-center gap-y-2",children:[e.jsx("img",{className:"w-5 object-contain",src:"/create/icon-airdrop-unlock.png"}),e.jsxs("p",{className:"text-white font-404px leading-20 text-2xl",children:[Number(o?.count).toLocaleString()," WIF"]})]})),!i&&e.jsxs("div",{className:"flex flex-col items-center mt-[29px]",children:[e.jsx(qe,{className:""}),e.jsx("h5",{className:"font-OCR text-[14px] text-[#fff] line-[20px]",children:"Connect wallet to access"})]}),e.jsx(ce,{children:e.jsx(R,{disabled:!a?.claimFlag,className:S("uppercase w-full claim_btn h-12 font–404px mt-5",{"mt-20":v,"mt-5":x||c}),children:"claim"})}),e.jsx(Re,{fullscreen:!0,spinning:u})]})}const J=[1/4,1/2,1],de=({children:t})=>{const[a,o]=s.useState(!1),[n,r]=s.useState(0),{memooConfig:l,defaultConfig:d,idoBuy:u,idoQueueDetail:p}=s.useContext(D),[m,i]=s.useState(!1),[g,v]=s.useState(!1),x=s.useMemo(()=>!l||!d?ne:new T(Number(d.totalSupply)).dividedBy(10**d.defaultDecimals),[l,d]);console.log("config-totalSupplyBN:",x);const N=s.useMemo(()=>{if(!l||!d)return ne;const j=new T(Number(l.allocation.ido)).dividedBy(1e4),I=new T(Number(d.idoPrice)).dividedBy(10**d.defaultDecimals);return x.multipliedBy(j).multipliedBy(I)},[l,x,d]),c=s.useMemo(()=>l?new T(l.idoUserBuyLimit??tt).dividedBy(1e4):ne,[l]),b=s.useMemo(()=>N.multipliedBy(c),[N]),h=s.useMemo(()=>(r(parseFloat(y(N.multipliedBy(J[0]).multipliedBy(c)))),console.log("grades[0]:",J[0]),console.log("capped:",N),console.log("capped.multipliedBy:",N.multipliedBy(J[0]).multipliedBy(c)),console.log("idoUserBuyLimitBN:",c),J.map((j,I)=>({label:e.jsxs("div",{className:"imo_opt",children:[e.jsxs("span",{children:[y(N.multipliedBy(j).multipliedBy(c))," ETH"]}),e.jsxs("span",{children:[y(x.multipliedBy(j).multipliedBy(c))," TOKEN"]})]},I),value:parseFloat(y(N.multipliedBy(j).multipliedBy(c)))}))),[N,c,x]),C=s.useCallback(async()=>{if(!(!u||!p))try{v(!0),await u(p?.contractAddress,new T(n)),o(!1),P.success("Participate Successful")}catch(j){console.error(j),P.error("Participate Failed")}finally{v(!1)}},[p,u,n]);return e.jsxs(e.Fragment,{children:[e.jsx(H,{className:"min-w-[604px]",wrapClassName:"memoo_modal",title:"IMO Participation",open:a,onCancel:()=>o(!1),footer:null,destroyOnClose:!0,children:e.jsxs("div",{className:"imo_participation flex flex-col",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex items-center gap-x-3",children:[e.jsx("span",{className:"text-white font-OCR text-base leading-[18px]",children:"Contribute"}),e.jsx(ee,{className:"h-[12px] ",placement:"bottom",title:`${Number(y(N))/7*6} ETH will be used to create liquidity pair while${Number(Number(y(N))/7)}  ETH is collected as IMO platform fee.`,color:"#fff",bgColor:"#396D93"})]}),e.jsx("p",{className:"whitespace-pre font-OCR text-white text-base leading-[18px]",children:`Total IDO raise is always
capped at ${y(N)} ETH`})]}),e.jsx(lt.Group,{className:"memoo_radio_group mt-[28px] mb-[28px] grid grid-cols-3",options:h,onChange:j=>r(j.target.value),value:n,optionType:"button"}),e.jsx("p",{className:"whitespace-pre font-OCR text-[#4889B7] text-[10px] leading-[14px]",children:`Contribution capped at ${y(b)} ETH per wallet: To counteract potential centralization,
individual wallet holding limits will be established, ensuring that every purchasing
entity's holding is limited to maximum of ${c.multipliedBy(100).toString()}% percentage of the total supply.`}),e.jsxs(_e,{className:"font-OCR text-[12px] text-[#4889B7] my-[24px]",onChange:j=>i(j.target.checked),children:["I accept MeMoo’s ",e.jsx("a",{className:"contents text-green",children:"Terms & Conditions."})]}),e.jsx(R,{disabled:!m,className:"memoo_button mt-4 h-[50px]",loading:g,onClick:C,children:"Confirm"})]})}),s.Children.map(t,j=>s.isValidElement(j)?s.cloneElement(j,{onClick:()=>o(!0)}):j)]})};de.displayName=de.name;const qt=()=>{const{idoActiveDetail:t,idoQueueDetail:a}=s.useContext(D),[o,n]=s.useState(!1);console.log("idoActiveDetail?.endsIn:",t?.endsIn);const r=s.useMemo(()=>[{key:"Price",value:`$${y(t?.price?t?.price:0)??0}`,tip:null},{key:"Total Raised",value:`${t?.totalRaised===""?0:t?.totalRaised??"NA/NA"} ETH`,tip:`Total IMO raise is always capped 
 at 2.33 ETH`},{key:"Contributed",value:`${a?.contributed??"NA"}/${a?.maxContributed??"NA"} ETH`,tip:`Contributed per wallet 
 is capped at 0.066 ETH`}],[t,a]),l=s.useMemo(()=>a?a?.contributed>=a?.maxContributed:!0,[a]);return e.jsxs("div",{className:"imo_participate px-5 pt-9 pb-5",children:[e.jsx("div",{className:"head",children:e.jsx("h3",{className:"flex items-center gap-x-2 font-404px text-green text text-lg uppercase",children:"imo"})}),e.jsxs("div",{className:"content flex flex-col items-center",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("span",{className:"font-OCR text-sm text-white",children:"Ends in"}),e.jsx(re,{className:"imo_countdown flex gap-x-2 mt-5",format:([d,u,p,m])=>[e.jsxs("div",{children:[e.jsx("time",{children:d}),e.jsx("span",{children:"D"})]},"days"),e.jsxs("div",{children:[e.jsx("time",{children:u}),e.jsx("span",{children:"H"})]},"hours"),e.jsxs("div",{children:[e.jsx("time",{children:p}),e.jsx("span",{children:"M"})]},"minutes"),e.jsxs("div",{children:[e.jsx("time",{children:m}),e.jsx("span",{children:"S"})]},"seconds")],instant:(t?.endsIn??0)*1e3,onEnded:d=>{n(d)}}),e.jsx("p",{className:"mt-3 text-white font-OCR leading-5 text-sm",children:"Fair Distribution Policy"}),e.jsx("p",{className:"text-deep-green text-center font-OCR leading-14 text-xs",children:"Wallet capped at 1% token supply per address."})]}),e.jsx("ul",{className:"mt-6 params_list flex flex-col gap-y-6 w-full",children:r.map(d=>e.jsxs("li",{className:"flex justify-between",children:[e.jsxs("label",{className:"text-white text-xs font-OCR leading-4 flex items-center gap-x-1.5",children:[d.key," ",d.tip&&e.jsx(ee,{className:"h-[12px] ",placement:"bottom",title:d.tip,color:"#fff",bgColor:"#396D93"})]}),e.jsx("var",{className:"text-white text-lg font-OCR leading-5",children:d.value})]},d.key))}),e.jsx(de,{children:e.jsx(R,{disabled:l||o,className:S("mt-5 uppercase w-full participate_btn h-12 font–404px",{}),children:"participate"})})]})]})},me=({children:t})=>{const[a,o]=s.useState(!1),[n,r]=s.useState(!1),{idoQueueDetail:l,idoClaim:d}=s.useContext(D),{getSign:u}=Se(),p=s.useCallback(async()=>{if(!(!d||!l))try{r(!0);const m=await u(),{data:i}=await Oe({ticker:l?.ticker??"",signature:m?.rawSignature??"",timestap:m?.msg??""});await d(l?.contractAddress),o(!1),P.success("Claim Successful")}catch(m){console.error(m),P.error("Claim Failed")}finally{r(!1)}},[d,l]);return e.jsxs(e.Fragment,{children:[e.jsx(H,{className:"min-w-[604px]",wrapClassName:"memoo_modal",title:"IMO ALLOCATION UNLOCKED",open:a,onCancel:()=>o(!1),footer:null,destroyOnClose:!0,children:e.jsxs("div",{className:"airdrop_claims flex flex-col",children:[e.jsxs("div",{className:"flex flex-col items-center gap-y-[18px]",children:[e.jsx("img",{className:"w-[111px] object-contain",src:"/create/img-claim.png"}),e.jsxs("span",{className:"font-404px text-[32px] text-green",children:[l?.ticker," has arrived!"]}),e.jsxs("p",{className:"whitespace-pre font-OCR text-base leading-[18px] text-white text-center",children:["For your participation of ",l?.contributed," ETH in ",l?.tokenName," IMO, ",e.jsx("br",{})," you can now unlock you allocation below."]})]}),e.jsxs("div",{className:"relative mt-[26px]",children:[e.jsx("img",{className:"absolute left-[25px] top-[50%] translate-y-[-50%] z-10",src:"/create/icon-airdrop-unlock.png"}),e.jsxs("div",{className:"memoo_input h-[66px] font-404px text-white text-[24px] text-center flex items-center justify-center",children:[e.jsx("img",{className:"w-[50px] h-[50px] rounded-[50%]",src:l?.icon,alt:""})," ",e.jsxs("span",{children:[" ",(l?.imoBalance??0)-(l?.claimImoBalance??0),"  "]}),e.jsx("span",{children:l?.ticker})]})]}),e.jsx(R,{className:"memoo_button mt-4 h-[50px]",onClick:p,loading:n,disabled:Xe(Number(l?.count).toLocaleString())===0,children:"Confirm"})]})}),s.Children.map(t,m=>s.isValidElement(m)?s.cloneElement(m,{onClick:()=>o(!0)}):m)]})};me.displayName=me.name;const pe=()=>{const{idoLaunchedDetail:t,idoQueueDetail:a,stage:o}=s.useContext(D),{address:n}=W(),r=s.useRef(),l=s.useMemo(()=>[{key:"Market Cap",value:`$${y(a?.marketCap??0)}`,tip:null},{key:"Price",value:`$${y(a?.price??0)}`,tip:null},{key:"Total Raised",value:`${a?.totalRaised??"NA/NA"} ETH`,tip:"1"},{key:"Contributed",value:`${a?.contributed??"NA"}/${a?.maxContributed??"NA"} ETH`,tip:"1"}],[t,a]),d=s.useCallback(()=>{window.open("https://app.uniswap.org/","_blank")},[]);return e.jsxs("div",{className:"pubsale px-5 pt-9 pb-5",children:[e.jsx("div",{className:"head flex justify-center",children:n?e.jsx("img",{className:"w-[220px]",src:"/create/img-pubsale-success.png"}):e.jsx("img",{className:"w-[220px]",src:"/create/img-pubsale.png"})}),e.jsxs("div",{className:"content flex flex-col items-center",children:[e.jsx("ul",{className:"mt-6 params_list flex flex-col gap-y-6 w-full",children:l.map(u=>e.jsxs("li",{className:"flex justify-between",children:[e.jsxs("label",{className:"text-white text-xs font-OCR leading-4 flex items-center gap-x-1.5",children:[u.key," ",u.tip&&e.jsx(we,{content:u.tip,children:e.jsx("img",{src:"/create/tip.png"})})]}),e.jsx("var",{className:"text-white text-lg font-OCR leading-5",children:u.value})]},u.key))}),n&&a?.isParticipateImo?e.jsxs("div",{className:"flex gap-[11px] w-full",children:[e.jsx(R,{className:S("mt-5 uppercase flex-1 memoo_button reverse h-12 font–404px",{}),onClick:d,children:"Buy"}),e.jsx(me,{children:e.jsxs(R,{className:S("mt-5 uppercase w--[207px] memoo_button reverse h-12 font–404px flex items-center",{}),onMouseOver:()=>r.current?.setHovered(!0),onMouseLeave:()=>r.current?.setHovered(!1),disabled:!a?.claimImoFlag,children:[e.jsx(ze,{ref:r,className:"mr-[7px]",hoverColor:"#B53BFF"})," CLAIM IMO TOKENS"]})})]}):e.jsx("div",{className:"w-full",children:e.jsx(Be,{children:e.jsx(R,{className:S("mt-5 uppercase w-full memoo_button reverse h-12 font–404px",{}),children:"Buy"})})})]})]})};pe.displayName=pe.name;const xe=()=>{const{stage:t,idoQueueDetail:a,idoLaunchedDetail:o,idoLaunchedDetailTop10:n}=s.useContext(D),r=s.useMemo(()=>t==="launch"?[{key:"IDO Date",value:a?.idoDate?q(a?.idoDate??0):""},{key:"LP Lock",value:o?.tokenName,formatValue:l=>e.jsxs("div",{className:"flex items-center gap-x-2.5",children:[e.jsxs("div",{className:"flex ido_params_token items-center py-1.5 gap-x-1 px-5",children:[e.jsx("img",{src:o?.icon,className:"max-w-[27px]"}),e.jsx("span",{className:"font-OCR text-white text-sm",children:l})]}),e.jsx("span",{className:"text-white text-lg font-OCR leading-5",children:o?.lpLock?"Yes":"No"})]})},{key:"Liquidity",value:`$${o?.liquidity??0}`},{key:"FDV",value:`$${a?.fdv??0}`},{key:"24h Trading Vol",value:`$${o?.volume24H??0}`},{key:"1h",value:"+7%",formatValue:l=>e.jsx("span",{className:"text-green font-404px",children:l})},{key:"24h",value:"+86%",formatValue:l=>e.jsx("span",{className:"text-green font-404px",children:l})},{key:"Max Supply",value:`${a?.totalSupply??0}`},{key:"All Time High",value:`$${y(o?.allTimeHigh??0)??0}`,formatValue:l=>e.jsxs("div",{className:"flex flex-col items-end",children:[e.jsx("span",{className:"text-white text-lg font-OCR leading-5",children:l}),e.jsxs("div",{className:"flex items-center gap-x-2",children:[e.jsx("time",{className:"font-OCR text-xs text-bluish-purple-light",children:q(o?.allTimeHighTime??0)}),e.jsx("span",{className:"font-OCR text-xs text-red",children:o?.allTimeHighTimeIncrease})]})]})},{key:"All Time Low",value:`$${y(o?.allTimeLow??0)??0}`,formatValue:l=>e.jsxs("div",{className:"flex flex-col items-end",children:[e.jsx("span",{className:"text-white text-lg font-OCR leading-5",children:l}),e.jsxs("div",{className:"flex items-center gap-x-2",children:[e.jsx("time",{className:"font-OCR text-xs text-bluish-purple-light",children:q(o?.allTimeLowTime??0)}),e.jsx("span",{className:"font-OCR text-xs text-green",children:o?.allTimeLowIncrease})]})]})},{key:"Holders",value:o?.holders??0}]:[{key:"IDO Date",value:q(a?.idoDate??0)},{key:"FDV",value:`$${Number(a?.fdv??0).toLocaleString()}`},{key:"Max Supply",value:`${Number(a?.totalSupply??0).toLocaleString()}`}],[t,a,o]);return e.jsxs("div",{className:"ido_detail flex-auto px-5 pt-9 pb-5",children:[e.jsx("ul",{className:"data_list flex flex-col gap-y-6 w-full",children:r.map(l=>e.jsxs("li",{className:"flex justify-between",children:[e.jsx("label",{className:"text-bluish-purple-light text-sm font-OCR leading-4 flex items-center gap-x-1.5",children:l.key}),l.formatValue?l.formatValue(l.value??""):e.jsx("var",{className:"text-white text-lg font-OCR leading-5",children:l.value})]},l.key))}),e.jsx("div",{className:"divider h-px w-full bg-bluish-purple my-8"}),n.length>0&&e.jsxs("div",{className:"top10_holders",children:[e.jsx("h3",{className:"font-404px text-lg leading-5 text-green",children:"Top 10 Token Holders"}),e.jsx("ul",{className:"holders_list mt-5 flex flex-col",children:n.map((l,d)=>e.jsxs("li",{className:"flex items-center justify-between",children:[e.jsxs("label",{className:"text-sm font-OCR text-white",children:[d+1,".",Te(l.address)]}),e.jsx("var",{className:"text-sm font-OCR text-white",children:l.proportion})]},l.address))})]})]})};xe.displayName=xe.name;const ue=()=>{const{idoQueueDetail:t}=s.useContext(D);return e.jsxs("div",{className:"banner w-full relative",children:[e.jsx("img",{className:"w-full min-h-[200px]  max-h-[307px] rounded-tl-[15px] rounded-tr-[15px]",src:t?.banners?.[0]??Ue}),e.jsx("img",{className:"w-[131px] h-[131px] rounded-[50%] absolute bottom-0 left-5 translate-y-1/2",src:t?.icon})]})};ue.displayName=ue.name;const fe=()=>{const{idoQueueDetail:t}=s.useContext(D),a=s.useRef({}),[o,n]=s.useState(!1),[r,l]=s.useState([]),d="From The Ultimate Memecoin Infrastructure.",u=s.useMemo(()=>`https://app-beta.memoo.ai/airdrop/${t?.ticker}`,[t]);s.useEffect(()=>{(async()=>{try{const{data:i}=await Ct();l(i)}catch(i){console.error("Error fetching data:",i)}})()},[t]);const p=s.useMemo(()=>[{key:"Name",value:t?.tokenName},{key:"Ticker",value:t?.ticker},{key:"Contract Address",value:t?.contractAddress||"NA"},{key:"LP Contract",value:t?.lpContractAddress||"NA"},{key:"Tools",value:"",formatKey:i=>e.jsx("label",{className:"col-span-3 text-bluish-purple-light text-sm font-OCR leading-4 flex gap-x-1.5 h-8 flex items-center",children:i}),formatValue:i=>e.jsx("ul",{className:"token_list flex flex-wrap col-span-6 gap-y-1.5 gap-x-1",children:[{name:"De.Fi Scanner",icon:"/create/icon-tool-defi-scanner.png",url:r[0]?.toolUrl},{name:"DEX Screener",icon:"/create/icon-tool-dex-screener.png",url:r[1]?.toolUrl},{name:"Bubblemaps",icon:"/create/icon-tool-bubble-maps.png",url:r[2]?.toolUrl},{name:"GeckoTerminal",icon:"/create/icon-tool-gecko-terminal.png",url:r[4]?.toolUrl}].map(g=>e.jsx("li",{className:"flex items-center gap-x-1.5 h-8 token_list_hover",children:e.jsxs("a",{href:g.url,target:"_black",className:"flex items-center gap-x-1.5 h-8",children:[e.jsx("img",{className:"w-5 object-contain",src:g.icon})," ",g.name]})},g.name))})}],[t]),m=s.useMemo(()=>[{key:"Project Website",value:"",formatValue:i=>e.jsx("ul",{className:`${t?.website?"token_list":""} flex flex-wrap col-span-6 gap-y-1.5 gap-x-1`,children:t?.website?e.jsx("li",{className:"h-8 cursor-pointer token_list_hover",children:e.jsx("a",{href:t?.website,target:"_blank",className:"flex items-center gap-x-1.5",children:Ye(t?.website??"")})}):e.jsxs("li",{className:"flex items-center gap-x-1.5 h-8",children:[" ",e.jsx("span",{className:"col-span-6 text-white font-OCR leading-5",children:"NA"})]})})},{key:`Project’s
Social Account`,value:"",formatValue:i=>e.jsxs("ul",{className:"token_list flex flex-wrap col-span-6 gap-y-1.5 gap-x-1",children:[t?.twitter&&e.jsx("li",{className:"h-8 token_list_hover",onMouseOver:()=>a.current.IconTwitterProject.setHovered(!0),onMouseLeave:()=>a.current.IconTwitterProject.setHovered(!1),children:e.jsxs("a",{href:`https://x.com/${t?.twitter}`,target:"_blank",className:"flex items-center gap-x-1.5",children:[e.jsx(X,{ref:g=>a.current.IconTwitterProject=g,color:"#FFF",hoverColor:"#07E993",className:"w-[20px]"})," ",t?.twitter??""]})}),t?.telegram&&e.jsx("li",{className:"h-8 token_list_hover",onMouseOver:()=>a.current.IconTelegram.setHovered(!0),onMouseLeave:()=>a.current.IconTelegram.setHovered(!1),children:e.jsxs("a",{href:`https://t.me/${t?.telegram}`,target:"_blank",className:"flex items-center gap-x-1.5",children:[e.jsx(ve,{ref:g=>a.current.IconTelegram=g,color:"#FFF",hoverColor:"#07E993",className:"w-[20px]"})," ",t?.telegram??""]})})]})},{key:"Created By",value:"",formatKey:i=>e.jsx("label",{className:"col-span-3 text-bluish-purple-light text-sm font-OCR leading-4 flex gap-x-1.5 h-8 flex items-center mt-10",children:i}),formatValue:i=>e.jsx("ul",{className:"token_list flex flex-wrap col-span-6 gap-y-1.5 gap-x-1 mt-10",onClick:()=>{Ze(t?.creatorAddress?t?.creatorAddress:"")},children:t?.creatorAddress&&e.jsxs("li",{className:"flex items-center gap-x-1.5 h-8",children:[Te(t?.creatorAddress??"")," ",e.jsx("a",{className:"cursor-pointer",children:e.jsx(We,{className:"object-contain"})})]})})},{key:`Creator’s
Social Account`,value:"",formatValue:i=>e.jsx("ul",{className:`${t?.creatorTwitter?"token_list":""} flex flex-wrap col-span-6 gap-y-1.5 gap-x-1`,onMouseOver:()=>a.current.IconTwitterCreator.setHovered(!0),onMouseLeave:()=>a.current.IconTwitterCreator.setHovered(!1),children:t?.creatorTwitter?e.jsx("li",{className:"flex items-center gap-x-1.5 h-8 token_list_hover",children:e.jsxs("a",{href:`https://x.com/${t?.creatorTwitter}`,target:"_blank",className:"flex items-center gap-x-1.5",children:[e.jsx(X,{ref:g=>a.current.IconTwitterCreator=g,color:"#FFF",hoverColor:"#07E993",className:"w-[20px]"})," ",t?.creatorTwitter]})}):e.jsxs("li",{className:"flex items-center gap-x-1.5 h-8",children:[" ",e.jsx("span",{className:"col-span-6 text-white font-OCR leading-5",children:"NA"})]})})}],[t]);return e.jsxs("div",{className:"profile relative pt-20",children:[e.jsx("ul",{className:"relationship_fracture absolute flex gap-x-2.5 top-5 right-5",children:e.jsxs("li",{className:"profile-share",onMouseMove:()=>n(!0),onMouseLeave:()=>n(!1),children:[e.jsx("img",{className:"w-10 h-10 object-cover",src:"/create/icon-share.png"}),o&&e.jsx("div",{className:"profile-share-content pt-2",children:e.jsxs("ul",{className:"content flex items-center justify-center gap-[11px]",children:[e.jsx("a",{className:"rounded-[7px] bg-[#07E993] w-[40px] h-[40px] p-[10px] flex justify-center items-center",href:`https://twitter.com/intent/tweet?text=${encodeURIComponent(d)}&url=${encodeURIComponent(u)}`,children:e.jsx(X,{color:"#1F3B4F",className:"cursor-pointer "})}),e.jsx("a",{className:"rounded-[7px] bg-[#07E993] w-[40px] h-[40px] p-[10px] flex justify-center items-center",href:`https://t.me/share/url?url=${encodeURIComponent(u)}&text=${encodeURIComponent(d)}`,children:e.jsx(ve,{color:"#1F3B4F",className:"cursor-pointer "})}),e.jsx("a",{className:"rounded-[7px] bg-[#07E993] w-[40px] h-[40px] p-[10px] flex justify-center items-center",href:`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(u)}&quote=${encodeURIComponent(d)}`,children:e.jsx(Qe,{color:"#1F3B4F",className:"cursor-pointer "})})]})})]})}),e.jsxs("div",{className:"head",children:[e.jsxs("h1",{className:"font-404px text-white leading-7 text-3xl",children:[t?.tokenName," ",e.jsx("span",{className:"text-green text-base ml-1",children:t?.ticker})]}),e.jsxs("time",{className:"mt-2 block font-OCR text-bluish-purple-light text-sm",children:["Created ",q(t?.createdAt??0)]}),e.jsx("p",{className:"mt-2 font-OCR text-white text-sm leading-5 max-w-2xl",children:t?.description})]}),e.jsxs("div",{className:"content",children:[e.jsx("ul",{className:"basic_list mt-14 flex flex-col gap-y-6",children:p.map(i=>e.jsxs("li",{className:"grid grid-cols-12",children:[i.formatKey?i.formatKey(i.key):e.jsx("label",{className:"col-span-3 text-bluish-purple-light text-sm font-OCR leading-4 flex items-center gap-x-1.5",children:i.key}),i.formatValue?i.formatValue(i.value):e.jsx("var",{className:"col-span-6 text-white text-lg font-OCR leading-5",children:i.value})]},i.key))}),e.jsxs("div",{className:"soscial_info mt-16",children:[e.jsx("h1",{className:"font-404px text-lg text-green leading-5",children:"Social Info"}),e.jsx("ul",{className:"mt-6 flex flex-col gap-y-1.5",children:m.map(i=>e.jsxs("li",{className:"grid grid-cols-12",children:[i.formatKey?i.formatKey(i.key):e.jsx("label",{className:"col-span-3 text-bluish-purple-light text-sm font-OCR leading-4 flex h-8 gap-x-1.5 flex items-center whitespace-pre-wrap",children:i.key}),i.formatValue?i.formatValue(i.value):e.jsx("var",{className:"col-span-6 text-white text-lg font-OCR leading-5",children:i.value})]},i.key))})]})]})]})};fe.displayName=fe.name;const he=({children:t,maxIncrease:a,maxProportion:o,firstProportion:n,firstIncrease:r,purchased:l,onCalculated:d})=>{const[u,p]=s.useState(!1),[m,i]=s.useState(!1),[g,v]=s.useState(!1),[x,N]=s.useState(l),[c,b]=s.useState(0),{idoBuy:h,idoQueueDetail:C}=s.useContext(D),j=l*1e3;s.useEffect(()=>{N(n*100)},[n]),s.useEffect(()=>{const k=x/100,A=parseFloat(y(r*(k/n)));console.log("increasing proportion:",A),b(A),d?.(A)},[x,n,r]),s.useEffect(()=>{l&&N(j)},[l]);const I=s.useCallback(async()=>{if(!(!h||!C))try{v(!0),console.log(c),console.log("firstIncreaseD:",r),await h(C.contractAddress,new T(c-l)),p(!1),P.success("Buy Successful")}catch(k){console.error(k),P.error("Buy Failed")}finally{v(!1)}},[h,C,c,r]);return e.jsxs(e.Fragment,{children:[e.jsx(H,{wrapClassName:"memoo_modal",title:"Increase Acquisition",open:u,onCancel:()=>p(!1),footer:null,destroyOnClose:!0,children:e.jsxs("div",{className:"increase_acquisition pt-[35px] flex flex-col",children:[e.jsxs("div",{className:"flex gap-x-[37px]",children:[e.jsxs("div",{className:"flex items-end",children:[e.jsx("span",{className:"whitespace-pre-wrap text-base font-OCR text-white leading-[18px]",children:`Pre-Market
Acquisition`}),e.jsx("div",{className:"tip_ico_wrapper h-[18px] flex items-center ml-[12px]",children:e.jsx(ee,{className:"h-[12px] ",placement:"bottom",title:`Lorem ipsum dolor sit amet consectetur adipiscing elit.
                Morbi fringilla ipsum turpisı sit amet tempus est malesuadased.
                Integer fringilla magnavel orci ultricies fermentum.
                Suspendisse sem est.`,color:"#fff",bgColor:"#396D93"})})]}),e.jsxs("div",{className:"flex flex-auto items-center gap-x-3",children:[e.jsxs("span",{className:"whitespace-nowrap text-base font-OCR text-white leading-[16px]",children:[r," ETH"]}),e.jsx(st,{className:"memoo_slider flex-auto",tooltip:{open:!0,rootClassName:"memoo_slider_tooltip",formatter:k=>`${k}%`},onChange:k=>{k>l*1e3?N(k):N(l*1e3)},value:x,max:o*100,min:n*100,defaultValue:j}),e.jsxs("span",{className:"whitespace-nowrap text-base font-OCR text-white leading-[16px]",children:[a," ETH"]})]})]}),e.jsx("p",{className:"font-OCR text-[#4889B7] whitespace-pre-wrap mt-[7px] mb-[19px]",children:`Creator can increase initial
allocation from ${n*100}% to ${o*100}%.`}),e.jsx(z,{className:"memoo_input h-[66px]",value:"Pre-Market Acquisition",suffix:e.jsx("span",{className:"text-[24px] text-white font-404px leading-[22px]",children:`${y(c-l)} ETH`})}),e.jsxs(_e,{className:"font-OCR text-[12px] text-[#4889B7] my-[24px]",onChange:k=>i(k.target.checked),children:["I accept MeMoo’s ",e.jsx("a",{className:"contents text-green",children:"Terms & Conditions."})]}),e.jsx(R,{disabled:!m&&Number(y(c-l))<=0,className:"memoo_button h-[50px]",loading:g,onClick:I,children:"Confirm"})]})}),s.Children.map(t,k=>s.isValidElement(k)?s.cloneElement(k,{onClick:()=>p(!0)}):k)]})};he.displayName=he.name;const Z=({children:t,stage:a,lockinPeriod:o,tokens:n,unlockTokens:r,rate:l})=>{const[d,u]=s.useState(!1),{unlockMeme:p,idoQueueDetail:m}=s.useContext(D),[i,g]=s.useState(!1),v=s.useCallback(async()=>{if(!(!p||!m))try{g(!0),console.log("idoQueueDetail.contractAddress:",m.contractAddress),console.log(a==="1st"?0:1),await p(m.contractAddress,a==="1st"?0:1),u(!1),P.success("Unlock Successful")}catch(x){console.error(x),P.error("Unlock Failed")}finally{g(!1)}},[p,m]);return e.jsxs(e.Fragment,{children:[e.jsx(H,{className:"min-w-[604px]",wrapClassName:"memoo_modal",title:"Claim Tokens",open:d,onCancel:()=>u(!1),footer:null,destroyOnClose:!0,children:e.jsxs("div",{className:"claim_tokens flex flex-col",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("div",{className:"flex items-center gap-x-[15px]",children:[e.jsx("p",{className:"whitespace-pre font-OCR text-base leading-[18px] text-white",children:`Redeem ${a} ${l}%
unlocked tokens`}),e.jsx("img",{className:"w-[111px] object-contain",src:"/create/img-claim.png"})]}),e.jsxs("div",{className:"flex items-center gap-x-[14px]",children:[a==="1st"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col items-end",children:[e.jsx("span",{className:"font-404px text-white text-[24px] leading-[29px]",children:o}),e.jsx("span",{className:"font-OCR text-white text-base leading-[21px]",children:"Next Unlock"})]}),e.jsx("img",{className:"w-[50px]",src:"/create/icon-claim-unlock.png"})]}),a==="2nd"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col items-end",children:[e.jsx("span",{className:"font-404px text-white text-[24px] leading-[29px]",children:Number(r).toLocaleString()}),e.jsx("span",{className:"font-OCR text-white text-base leading-[21px]",children:"Claim Completed"})]}),e.jsx("img",{className:"w-[50px]",src:"/create/icon-claim-done.png"})]})]})]}),e.jsx(z,{disabled:!0,className:"memoo_input h-[66px]",placeholder:"Claimable LEASH",suffix:e.jsx("span",{className:"text-[24px] text-white font-404px leading-[22px]",children:Number(n).toLocaleString()})}),e.jsx(R,{loading:i,className:"memoo_button mt-[77px] h-[50px]",onClick:v,children:"Confirm"})]})}),s.Children.map(t,x=>s.isValidElement(x)?s.cloneElement(x,{onClick:()=>u(!0)}):x)]})};Z.displayName=Z.name;const ge=()=>{const{stage:t,idoQueueDetail:a,_2ndStage:o,_1stStage:n,memooConfig:r,defaultConfig:l,mine:d,totalPurchased:u}=s.useContext(D),{address:p}=W(),m=s.useMemo(()=>Number(r?.allocation.creator)/1e4,[r]);console.log("firstProportion:",m),console.log("memooConfig?.allocation.creator:",Number(r?.allocation.creator)),console.log("totalPurchased:",Number(u)*Number(l?.idoPrice));const i=s.useMemo(()=>{if(!r||!l)return 0;const c=new T(Number(u)),b=new T(Number(l?.idoPrice)).dividedBy(10**l?.defaultDecimals);return console.log("purchased:",parseFloat(y(c.multipliedBy(b)))),parseFloat(y(c.multipliedBy(b)))},[r,l,u]),g=s.useMemo(()=>(Number(r?.idoCreatorBuyLimit)+Number(r?.allocation.creator))/1e4,[r]),v=s.useMemo(()=>{if(!r||!l)return 0;const c=new T(Number(l?.totalSupply)).dividedBy(10**l?.defaultDecimals),b=new T(Number(l?.idoPrice)).dividedBy(10**l?.defaultDecimals),h=c.multipliedBy(b).multipliedBy(m);return parseFloat(y(h))},[r,m,l]),x=s.useMemo(()=>parseFloat(y(v*(g/m))),[m,g,v]),N=[{key:"in-queue",icon:`/create/process-in-queue${t==="in-queue"?"-active":""}.svg`,title:"in queue",desc:`Complete tasks to be
eligible for airdrop`,onClick:()=>{},btnText:"increase",btnIcon:`/create/icon-increase${t==="in-queue"?"-active":""}.svg`,wrapper:c=>e.jsx(he,{maxIncrease:x,firstProportion:m,maxProportion:g,firstIncrease:v,purchased:i,children:c}),enabled:d&&["QUEUE","IDO"].includes(a?.status??"Draft")},{key:"imo",icon:`/create/process-imo${t==="imo"?"-active":""}.svg`,title:"imo",desc:`Get first access
before public sale`},{key:"launch",icon:`/create/process-launch${t==="launch"?"-active":""}.svg`,title:"launch",desc:`Token available
for public sale`},{key:"1st-claim",icon:e.jsxs("div",{className:"relative z-10",children:[e.jsx("img",{src:"/create/bg-1st-claim.png"}),e.jsx("img",{className:"absolute left-[53px] top-[37px]",src:`/create/process-claim${t==="1st-claim"?"-active":""}.svg`})]}),title:"1st claim",desc:`1st ${new T(Number(n?.unlockInfo?.unlockRate)).dividedBy(1e4).multipliedBy(100).toNumber()}% unlock when
token price hits 0.0005c`,onClick:()=>{},btnText:"claim",btnIcon:`/create/icon-claim${t==="1st-claim"?"-active":""}.svg`,wrapper:c=>e.jsx(Z,{tokens:parseFloat(y(new T(n?.unlockCount??0).dividedBy(10**(l?.defaultDecimals??0)))),lockinPeriod:be(Number(n?.unlockInfo?.value)/1e3),rate:new T(Number(n?.unlockInfo?.unlockRate)).dividedBy(1e4).multipliedBy(100).toNumber(),stage:"1st",children:c}),enabled:a?.stageOneClaim&&Number(n?.unlockCount)>0&&a?.status==="Launched"&&(p?[(a.contractAddress,a.creatorAddress)].some(c=>ie(c,p)):!1)},{key:"2st-claim",icon:e.jsxs("div",{className:"relative z-10",children:[e.jsx("img",{src:"/create/bg-2st-claim.png"}),e.jsx("img",{className:"absolute left-[53px] top-[37px]",src:`/create/process-claim${t==="2st-claim"?"-active":""}.svg`})]}),title:"2st claim",desc:`Next ${new T(Number(o?.unlockInfo?.unlockRate)).dividedBy(1e4).multipliedBy(100).toNumber()}% unlocked
tokens in ${be(Number(o?.unlockInfo?.value)*1e3)}`,onClick:()=>{},btnText:"claim",btnIcon:`/create/icon-claim${t==="2st-claim"?"-active":""}.svg`,wrapper:c=>e.jsx(Z,{tokens:parseFloat(y(new T(o?.unlockCount??0).dividedBy(10**(l?.defaultDecimals??0)))),unlockTokens:parseFloat(y(Number(n?.unlockInfo?.value??0))),stage:"2nd",children:c}),enabled:a?.stageTwoClaim&&Number(o?.unlockCount)>0&&a?.status==="Launched"&&(p?[(a.contractAddress,a.creatorAddress)].some(c=>ie(c,p)):!1)}];return e.jsx("ul",{className:"progress flex",children:N.map(c=>{const b=c.key===t;return e.jsxs("li",{className:S("flex max-w-[220px] flex-col items-center justify-end progress_list_item px-[18px]",{active:b}),children:[e.jsx("div",{className:S({active:b},"icon"),children:typeof c.icon=="string"?e.jsx("img",{src:c.icon}):c.icon}),e.jsx("h3",{className:S({"text-green":b},"text-lg font-404px leading-5 text-bluish-purple-light mt-[18px]"),children:c.title}),e.jsx("p",{className:"mt-1.5 font-OCR text-white leading-4 text-sm text-center break-keep whitespace-pre",children:c.desc}),c.wrapper?c.wrapper(e.jsx(R,{style:{visibility:c.btnText?"visible":"hidden"},className:"memoo_button reverse mt-[19px] px-[19px] h-[38px]",onClick:()=>c.onClick?.(),disabled:!c.enabled,children:e.jsx("div",{className:"flex items-center gap-x-1",children:e.jsx("span",{className:S("text-[10px] leading-5"),children:c.btnText})})})):e.jsx(R,{style:{visibility:c.btnText?"visible":"hidden"},className:"memoo_button reverse mt-[19px] px-[19px] h-[38px]",onClick:()=>c.onClick?.(),disabled:!c.enabled,children:e.jsx("div",{className:"flex items-center gap-x-1",children:e.jsx("span",{className:S("text-[10px] leading-5"),children:c.btnText})})})]},c.key)})})};ge.displayName=ge.name;var zt={VITE_PROJECT_ID:"12054aa070d1f1a41e3420b5d40b665d",VITE_APP_BASE:"/memoo-interface",VITE_ENV:"production",VITE_NODE_TYPE:"mainnet",VITE_EXPLORER_API:"https://explorer-api.zklink.io",VITE_EXPLORER_URL:"https://explorer.zklink.io",VITE_NODE_CHAIN_ID:"1123",VITE_SHARE_URI:"https://app-beta.memoo.ai/",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const ye=zt.VITE_TWITTER_FOLLOW_REDIRECT_URI,je=({children:t,ticker:a,onSaveSuccess:o})=>{const[n,r]=s.useState(!1),[l]=U.useForm();s.useState(!1);const[d,u]=s.useState(""),[p,m]=s.useState(""),[i,g]=s.useState(""),[v,x]=s.useState(!1),[N,c]=s.useState({}),[b]=Ne();s.useEffect(()=>{Et(a).then(f=>{if(f?.data){console.log("TokenDetail: ",f?.data),c(f.data),m(f.data?.banners?f.data?.banners[0]:""),g(f.data.twitter),u(f.data.twitterAccessToken);let w={...f.data,banners:f.data?.oldBanners?f.data?.oldBanners:[],tokenIcon:f.data.icon,projectDescription:f.data.description};try{const E=JSON.parse(localStorage.getItem(K)??"");E&&(w.projectDescription=E.projectDescription,w.website=E.website,w.bannerUrl&&m(w.bannerUrl))}catch{}l.setFieldsValue(w)}})},[a]);const h=f=>{console.log("Received values of form: ",f)},C=(f,w)=>{console.log("onFieldsChange",f)},j=f=>Array.isArray(f)?f:f?.fileList,I=f=>{if(f)return Ot(f).then(w=>{l.setFieldValue("banners",[w.data.file]),m(w.data.fileUrl)}),!1};s.useEffect(()=>{(async()=>{const f=b.get("code"),w=b.get("state"),E=b.get("edit");let B=null;try{B=JSON.parse(localStorage.getItem(G)??"")}catch{}if(B&&w==="twitter"&&f&&B&&E&&B.ticker===a){const _={code:f,grantType:"authorization_code",redirectUri:ye,codeVerifier:"challenge",refreshToken:"",appClientId:B.clientId??""};It(_).then($=>{const{access_token:M,twitter:Q}=$.data;u(M),g(Q)}),r(!0)}})()},[b]);const k=()=>{m("")},A=async()=>{const f=l.getFieldsValue();console.log("formData: ",f),f.bannerUrl=p,localStorage.setItem(K,JSON.stringify(f));let E=(await De()).data;const B={ticker:a,twitter:i,clientId:E};localStorage.setItem(G,JSON.stringify(B)),Ie(E,ye)},L=async f=>{try{await l.validateFields();const w=l.getFieldsValue();w.twitter=i||"",w.accessToken=d||"",x(!0);const E=await St({...w,ticker:a});r(!1),E?.code===200?(P.success("modify successfully!"),o(),r(!1)):P.warning("fail in keeping"),localStorage.removeItem(G),localStorage.removeItem(K)}catch(w){console.log(w)}finally{x(!1)}};return s.useEffect(()=>{n||(localStorage.removeItem(G),localStorage.removeItem(K))},[n]),e.jsxs(e.Fragment,{children:[e.jsxs(H,{className:"min-w-[717px] edit-project-modal",wrapClassName:"memoo_modal",title:e.jsxs("div",{className:"flex items-center gap-x-[13px]",children:[e.jsx("span",{className:"text-[24px] leading-6 font-404px edit-title",children:"Edit Info"}),e.jsx("img",{src:"/create/icon-edit-project-title.png"})]}),open:n,onCancel:()=>r(!1),footer:null,destroyOnClose:!0,children:[e.jsxs(U,{form:l,layout:"horizontal",disabled:!1,onFinish:h,onFieldsChange:C,className:"edit-project-modal-form h-[409px] overflow-auto mt-[56px]",children:[e.jsx(U.Item,{label:e.jsxs("p",{className:"flex items-end",children:[e.jsx("span",{className:"w-[113px] whitespace-normal",children:"Project Description "}),e.jsx("span",{children:"*"})]}),name:"projectDescription",rules:[{required:!0,message:"Please input Project Description!"}],children:e.jsx(z.TextArea,{showCount:!0,maxLength:450,placeholder:"",style:{height:165,resize:"none",borderRadius:"7px"},className:"text-[#fff] bg-[#2b526e]"})}),e.jsx(U.Item,{label:e.jsxs("p",{children:["Project Twitter ",e.jsx("span",{children:"*"})]}),children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{style:{width:"15px"},className:"mr-[7px]",children:e.jsx(X,{hoverColor:"#07E993",className:""})}),i&&e.jsx("img",{src:"/create/icon-authed.svg"}),e.jsx(et,{variant:"secondary",className:"w-[136px] h-[32px]",onClick:A,children:i?"CHANGE":"CONNECT"})]})}),e.jsx(U.Item,{label:e.jsx("p",{children:"Project Banner"}),valuePropName:"bannerList",getValueFromEvent:j,name:"banners",children:p?e.jsxs("div",{className:"project-url-container",children:[e.jsx("img",{src:p,alt:""}),e.jsx("span",{className:"icon-url-actions",children:e.jsx(Tt,{size:16,onClick:k})})]}):e.jsx(_t,{listType:"picture-card",accept:"image/*",maxCount:1,beforeUpload:f=>I(f),showUploadList:{showPreviewIcon:!0,showRemoveIcon:!1},style:{width:"100%",height:140},className:"edit-upload-banner",previewFile:f=>new Promise(w=>{const E=new FileReader;E.readAsDataURL(f),E.onload=()=>{w(E.result)}}),children:e.jsx("button",{style:{border:0,background:"none"},type:"button",children:e.jsxs("div",{style:{marginTop:8},className:"flex flex-col jusity-center items-center",children:[e.jsx(Ke,{className:""}),e.jsx("p",{className:"font-OCR text-[10px] text-green leading-4 text-center w-[158px] mt-[10px]",children:"Recommended 790px X 307px Max size: 50MB"})]})})})}),e.jsx(U.Item,{label:e.jsx("p",{className:"edit-form-label",children:"Website"}),name:"website",children:e.jsx(z,{maxLength:20,className:"custom-input"})})]}),e.jsx("div",{className:"edit_project flex flex-col",children:e.jsx(R,{className:"memoo_button mt-4 h-[50px]",onClick:()=>L(),loading:v,children:"Save"})})]}),s.Children.map(t,f=>s.isValidElement(f)?s.cloneElement(f,{onClick:()=>r(!0)}):f)]})};je.displayName=je.name;const Wt=({amount:t})=>e.jsxs("div",{className:"pre-market-acquisition",children:[e.jsx("div",{className:"text-green font-404px text-[18px]",children:"Pre-market acquisition"}),e.jsxs("div",{className:"pre-market-acquisition-content flex items-center justify-between mt-[19px] text-[#fff]",children:[e.jsx("div",{className:"font-OCR text-[14px] ",children:"Total Contributed"}),e.jsxs("div",{className:'font-OCR text-[24px]"',children:[t,"ETH"]})]})]});var Qt={VITE_PROJECT_ID:"12054aa070d1f1a41e3420b5d40b665d",VITE_APP_BASE:"/memoo-interface",VITE_ENV:"production",VITE_NODE_TYPE:"mainnet",VITE_EXPLORER_API:"https://explorer-api.zklink.io",VITE_EXPLORER_URL:"https://explorer.zklink.io",VITE_NODE_CHAIN_ID:"1123",VITE_SHARE_URI:"https://app-beta.memoo.ai/",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const D=s.createContext({stage:"in-queue",mine:!1,ticker:"",idoLaunchedDetailTop10:[]}),ke=()=>{const[t,a]=s.useState("in-queue"),[o,n]=s.useState(),[r,l]=s.useState(),[d,u]=s.useState([]),[p,m]=s.useState(),{ticker:i=Qt.VITE_DEMO_TICKER}=Le(),[g,v]=s.useState(0),{address:x}=W();console.log("my-address:",x);const[N,c]=s.useState(!1);Ne();const[b,h]=s.useState(),[C,j]=s.useState(),[I,k]=s.useState("0"),[A,L]=s.useState("0"),{config:f,idoBuy:w,unlockMeme:E,defaultConfig:B,airdropClaim:_,getCanUnlockCount:$,memeUnlockPeriods:M,idoClaim:Q}=at(),Ae=Ve(),V=s.useMemo(()=>ie(p?.creatorAddress,x),[p,x]);console.log("idoQueueDetail: ",p,x);const te=s.useCallback(()=>{v(O=>O+1)},[]),se=s.useMemo(()=>({stage:t,idoActiveDetail:o,idoLaunchedDetail:r,idoLaunchedDetailTop10:d,idoQueueDetail:p,mine:V,ticker:i,memooConfig:f,idoBuy:w,unlockMeme:E,airdropClaim:_,idoClaim:Q,_1stStage:b,_2ndStage:C,defaultConfig:B,triggerRefresh:te,totalPurchased:I}),[t,o,r,d,p,V,i,f,w,E,_,Q,b,C,B,te,I]);return s.useEffect(()=>{(async()=>{try{c(!0);const{data:O}=await Nt(i,x||"default");m(O);const{data:F}=await yt(i);if(k(F[0]?.balance??0),L(F[0]?.ethAmout??0),O.stageTwoClaim)a("2st-claim");else if(O.stageOneClaim)a("1st-claim");else if(O.status==="Launched"){const[ae,$e]=await Promise.all([wt(i,x||"default"),vt({pageNumber:1,pageSize:10,ticker:i,address:x||"default"})]);l(ae.data),u($e.data),a("launch")}else if(O.status==="IDO"){const{data:ae}=await bt(i,x||"default");console.log("data.status:IDO"),n(ae),a("imo")}else a("in-queue")}catch(O){console.error(O)}finally{c(!1)}})()},[g]),s.useEffect(()=>{!p||!x||(async()=>{{const[O,F]=await Promise.all([$(p.contractAddress,x,0),M(0)]);console.log("1st stage",O,F),h({unlockCount:O,unlockInfo:F})}{const[O,F]=await Promise.all([$(p.contractAddress,x,1),M(1)]);console.log("2nd stage",O,F),j({unlockCount:O,unlockInfo:F})}})()},[p,x,M]),e.jsxs("div",{className:"airdrop pb-16",children:[e.jsx(Re,{spinning:N,fullscreen:!0}),e.jsx("div",{className:"col-span-full	flex flex-col items-center pt-[70px]",children:V&&e.jsx(D.Provider,{value:se,children:e.jsx(ge,{})})}),V&&e.jsxs("div",{className:"col-span-full pt-[70px] pb-[22px] pl-[428px] flex items-center justify-between",children:[e.jsx(je,{ticker:i,onSaveSuccess:te,children:e.jsxs(R,{type:"link",className:"flex items-center h-[40px] gap-x-[11px]",disabled:!V,children:[e.jsx(Ge,{className:"",color:"#07E993",hoverColor:"#B53BFF",bgColor:"#B53BFF",hoverBgColor:"#07E993"}),e.jsx("span",{className:"text-bluish-purple-light font-OCR leading-5 text-sm",children:"Edit Info"})]})}),e.jsxs(R,{type:"link",className:"flex items-center h-[40px] gap-x-[11px]",onClick:()=>Ae("/dashboard"),children:[e.jsx("span",{className:"text-bluish-purple-light font-OCR leading-5 text-sm",children:"Back to Dashboard"}),e.jsx(Je,{className:""})]})]}),e.jsx("div",{className:"airdrop_left flex flex-col gap-y-3.5",children:e.jsxs(D.Provider,{value:se,children:[e.jsx(pe,{}),t==="imo"&&e.jsx(qt,{}),t==="in-queue"&&V&&e.jsx(Wt,{amount:A??0}),e.jsx(Ht,{}),e.jsx(xe,{})]})}),e.jsx("div",{className:"airdrop_right flex flex-col",children:e.jsxs(D.Provider,{value:se,children:[e.jsx(ue,{}),e.jsx(fe,{})]})})]})};ke.displayName=ke.name;export{D as AirdropContext,ke as default};
