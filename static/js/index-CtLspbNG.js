import{j as e,b as X,d as Te,e as Ee}from"./rainbowkit-Cy_rtqkG.js";import{r as a,h as pe,i as _e,u as Oe}from"./react-CJmdbff5.js";import{r as Ie,C as je,c as I}from"./index-CnPehxGb.js";import{B as O}from"./index-DSsjltR1.js";import{b as Ne,f as E,a as U,c as ve,e as Se,h as De,d as ue,g as se,B as Re}from"./button-B7yy-XCl.js";import{R as Z,z as ee,D as Pe,E as q,U as Q}from"./index-CqJ31Qq7.js";import{s as P,M as W,g as we,r as Be,S as Ae,b as $e,c as Me,f as Le,h as Fe,a as Ve}from"./useManageContract-BxgjVXdC.js";import{I as H,R as Ue}from"./index-BbTFLki6.js";import{g as He,m as ze,w as We,x as qe,P as Qe,y as Ge,z as Ke,A as Je,b as Xe,D as Ye,E as Ze,c as et,G as tt,B as D,C as ye}from"./BaseInput-CPOV0IVc.js";import{e as st,a as ae,b as at,f as lt,g as nt,h as ot,d as rt}from"./index-Gp1F8bMt.js";import{m as it,f as ct,g as dt,a as mt,b as xt,c as pt}from"./airdrop-fq7UbCoC.js";import{F as V,T as ut,U as ft}from"./trash-X-OzbgkY.js";import{S as Ce}from"./index-DNkIBu1Y.js";import{u as ht}from"./useEthers-Cp4mCIgH.js";import{C as gt,a as jt}from"./connectModalPortalTop-DZ4onbd-.js";import"./maths-CNprVtit.js";const K=t=>t?typeof t=="function"?t():t:null,Nt=t=>{const{componentCls:s,popoverColor:o,titleMinWidth:r,fontWeightStrong:n,innerPadding:l,boxShadowSecondary:d,colorTextHeading:u,borderRadiusLG:c,zIndexPopup:x,titleMarginBottom:m,colorBgElevated:w,popoverBg:v,titleBorderBottom:i,innerContentPadding:g,titlePadding:N}=t;return[{[s]:Object.assign(Object.assign({},Ie(t)),{position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:x,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text",transformOrigin:"var(--arrow-x, 50%) var(--arrow-y, 50%)","--antd-arrow-background-color":w,width:"max-content",maxWidth:"100vw","&-rtl":{direction:"rtl"},"&-hidden":{display:"none"},[`${s}-content`]:{position:"relative"},[`${s}-inner`]:{backgroundColor:v,backgroundClip:"padding-box",borderRadius:c,boxShadow:d,padding:l},[`${s}-title`]:{minWidth:r,marginBottom:m,color:u,fontWeight:n,borderBottom:i,padding:N},[`${s}-inner-content`]:{color:o,padding:g}})},qe(t,"var(--antd-arrow-background-color)"),{[`${s}-pure`]:{position:"relative",maxWidth:"none",margin:t.sizePopupArrow,display:"inline-block",[`${s}-content`]:{display:"inline-block"}}}]},vt=t=>{const{componentCls:s}=t;return{[s]:Qe.map(o=>{const r=t[`${o}6`];return{[`&${s}-${o}`]:{"--antd-arrow-background-color":r,[`${s}-inner`]:{backgroundColor:r},[`${s}-arrow`]:{background:"transparent"}}}})}},wt=t=>{const{lineWidth:s,controlHeight:o,fontHeight:r,padding:n,wireframe:l,zIndexPopupBase:d,borderRadiusLG:u,marginXS:c,lineType:x,colorSplit:m,paddingSM:w}=t,v=o-r,i=v/2,g=v/2-s,N=n;return Object.assign(Object.assign(Object.assign({titleMinWidth:177,zIndexPopup:d+30},Ge(t)),Ke({contentRadius:u,limitVerticalRadius:!0})),{innerPadding:l?0:12,titleMarginBottom:l?0:c,titlePadding:l?`${i}px ${N}px ${g}px`:0,titleBorderBottom:l?`${s}px ${x} ${m}`:"none",innerContentPadding:l?`${w}px ${N}px`:0})},be=He("Popover",t=>{const{colorBgElevated:s,colorText:o}=t,r=ze(t,{popoverBg:s,popoverColor:o});return[Nt(r),vt(r),We(r,"zoom-big")]},wt,{resetStyle:!1,deprecatedTokens:[["width","titleMinWidth"],["minWidth","titleMinWidth"]]});var yt=function(t,s){var o={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&s.indexOf(r)<0&&(o[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)s.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(o[r[n]]=t[r[n]]);return o};const Ct=(t,s,o)=>!s&&!o?null:a.createElement(a.Fragment,null,s&&a.createElement("div",{className:`${t}-title`},K(s)),a.createElement("div",{className:`${t}-inner-content`},K(o))),bt=t=>{const{hashId:s,prefixCls:o,className:r,style:n,placement:l="top",title:d,content:u,children:c}=t;return a.createElement("div",{className:I(s,o,`${o}-pure`,`${o}-placement-${l}`,r),style:n},a.createElement("div",{className:`${o}-arrow`}),a.createElement(Je,Object.assign({},t,{className:s,prefixCls:o}),c||Ct(o,d,u)))},kt=t=>{const{prefixCls:s,className:o}=t,r=yt(t,["prefixCls","className"]),{getPrefixCls:n}=a.useContext(je),l=n("popover",s),[d,u,c]=be(l);return d(a.createElement(bt,Object.assign({},r,{prefixCls:l,hashId:u,className:I(o,c)})))};var Tt=function(t,s){var o={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&s.indexOf(r)<0&&(o[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)s.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(o[r[n]]=t[r[n]]);return o};const Et=t=>{let{title:s,content:o,prefixCls:r}=t;return a.createElement(a.Fragment,null,s&&a.createElement("div",{className:`${r}-title`},K(s)),a.createElement("div",{className:`${r}-inner-content`},K(o)))},_t=a.forwardRef((t,s)=>{var o,r;const{prefixCls:n,title:l,content:d,overlayClassName:u,placement:c="top",trigger:x="hover",children:m,mouseEnterDelay:w=.1,mouseLeaveDelay:v=.1,onOpenChange:i,overlayStyle:g={}}=t,N=Tt(t,["prefixCls","title","content","overlayClassName","placement","trigger","children","mouseEnterDelay","mouseLeaveDelay","onOpenChange","overlayStyle"]),{getPrefixCls:T}=a.useContext(je),h=T("popover",n),[y,f,C]=be(h),M=T(),L=I(u,f,C),[F,p]=Xe(!1,{value:(o=t.open)!==null&&o!==void 0?o:t.visible,defaultValue:(r=t.defaultOpen)!==null&&r!==void 0?r:t.defaultVisible}),j=(k,B)=>{p(k,!0),i?.(k,B)},b=k=>{k.keyCode===tt.ESC&&j(!1,k)},R=k=>{j(k)};return y(a.createElement(Ye,Object.assign({placement:c,trigger:x,mouseEnterDelay:w,mouseLeaveDelay:v,overlayStyle:g},N,{prefixCls:h,overlayClassName:L,ref:s,open:F,onOpenChange:R,overlay:l||d?a.createElement(Et,{prefixCls:h,title:l,content:d}):null,transitionName:Ze(M,"zoom-big",N.transitionName),"data-popover-inject":!0}),et(m,{onKeyDown:k=>{var B,A;a.isValidElement(m)&&((A=m==null?void 0:(B=m.props).onKeyDown)===null||A===void 0||A.call(B,k)),b(k)}})))}),Y=_t;Y._InternalPanelDoNotUseOrYouWillBeFired=kt;const z=({instant:t,onEnded:s,format:o,className:r})=>{const[n,l]=a.useState(0),d=a.useMemo(()=>{if(!t)return[];const u=Date.now(),c=t-u;if(c<=0)return s?.(!0),[0,0,0,0];const x=Math.floor(c/(1e3*60*60*24)),m=Math.floor(c%(1e3*60*60*24)/(1e3*60*60)),w=Math.floor(c%(1e3*60*60)/(1e3*60)),v=Math.floor(c%(1e3*60)/1e3);return o?o([x,m,w,v]):[`${String(x).padStart(2,"0")}`,`${String(m).padStart(2,"0")}`,`${String(w).padStart(2,"0")}`,`${String(v).padStart(2,"0")}`]},[t,n,s]);return a.useEffect(()=>{const u=Date.now();if(t-u>0){s?.(!1);const x=setInterval(()=>{l(m=>m+1)},1e3);return()=>{clearInterval(x)}}},[t,s]),e.jsx("div",{className:I("countdown",r),children:d.map((u,c)=>e.jsxs(a.Fragment,{children:[e.jsx("span",{className:"timefragments text-lg text-white font-404px",children:u}),c<d.length-1&&e.jsx("span",{className:"splitor text-lg text-white font-404px",children:":"})]},c))})};z.displayName=z.name;const le=({children:t})=>{const[s,o]=a.useState(!1),[r,n]=a.useState(!1),{idoLaunchedDetail:l,airdropClaim:d}=a.useContext(S),{getSign:u}=ht(),c=a.useCallback(async()=>{if(!(!d||!l))try{n(!0);const x=await u(),{data:m}=await it({ticker:l?.ticker??"",signature:x?.rawSignature??"",timestap:x?.msg??""});console.log("contractAddress:",l?.contractAddress),console.log("airdropCount:",new O(m?.airdropCount)),console.log("jsonData:",m?.jsonData),console.log("signature:",m?.signature),await d(l?.contractAddress,new O(m?.airdropCount),`0x${m?.hexMessage}`,`0x${m?.hexSignature}`),o(!1),P.success("Claim Successful")}catch(x){console.error(x),P.error("Claim Failed")}finally{n(!1)}},[d,l]);return e.jsxs(e.Fragment,{children:[e.jsx(W,{className:"min-w-[604px]",wrapClassName:"memoo_modal",title:"Airdrop Unlocked",open:s,onCancel:()=>o(!1),footer:null,destroyOnClose:!0,children:e.jsxs("div",{className:"airdrop_claims flex flex-col",children:[e.jsxs("div",{className:"flex flex-col items-center gap-y-[18px]",children:[e.jsx("img",{className:"w-[111px] object-contain",src:"/create/img-claim.png"}),e.jsx("span",{className:"font-404px text-[32px] text-green",children:"WIF has arrived!"}),e.jsx("p",{className:"whitespace-pre font-OCR text-base leading-[18px] text-white text-center",children:`Thanks for being part of the
Dogwifhat community.`})]}),e.jsxs("div",{className:"relative mt-[26px]",children:[e.jsx("img",{className:"absolute left-[25px] top-[50%] translate-y-[-50%] z-10",src:"/create/icon-airdrop-unlock.png"}),e.jsx(H,{className:"memoo_input h-[66px] font-404px text-white text-[24px] text-center",value:Number(l?.count).toLocaleString()})]}),e.jsx(D,{className:"memoo_button mt-4 h-[50px]",onClick:c,loading:r,children:"Confirm"})]})}),a.Children.map(t,x=>a.isValidElement(x)?a.cloneElement(x,{onClick:()=>o(!0)}):x)]})};le.displayName=le.name;const Ot=({children:t})=>{X(),Te();const[s,o]=a.useState(!1),{openConnectModal:r}=Ee();return e.jsx("div",{children:r?e.jsxs("div",{children:[e.jsx("div",{onClick:r,children:t}),s&&e.jsx(gt,{onClose:()=>{o(!1)},children:e.jsx("div",{children:e.jsxs("p",{className:"w-[320px] font-OCR text-[#ffffff]",children:["By connecting your wallet and using MeMoo, you agree to our"," ",e.jsx("span",{className:"text-[#07E993]",children:"Terms of Service"})," and"," ",e.jsx("span",{className:"text-[#07E993]",children:"Privacy Policy."})]})})}),s&&e.jsxs(jt,{onClose:()=>{o(!1)},children:[e.jsx("div",{className:"flex items-center flex-column justify-center mt-[-30px]",children:e.jsx("img",{className:"w-[142.11px] ",src:"./walletContent/wallet-logo.png",alt:""})}),e.jsx("div",{className:"connect-to-memoo text-center",children:"Connect to MeMoo"})]})]}):e.jsxs("div",{children:[" ",t]})})};var It={VITE_PROJECT_ID:"12054aa070d1f1a41e3420b5d40b665d",VITE_APP_BASE:"/memoo-interface",VITE_ENV:"production",VITE_NODE_TYPE:"mainnet",VITE_EXPLORER_API:"https://explorer-api.zklink.io",VITE_EXPLORER_URL:"https://explorer.zklink.io",VITE_NODE_CHAIN_ID:"1123",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const fe=It.VITE_TWITTER_FOLLOW_REDIRECT_URI;let te=!1;function St(){const{stage:t,idoQueueDetail:s,idoLaunchedDetail:o,idoActiveDetail:r,triggerRefresh:n,ticker:l,airdropClaim:d}=a.useContext(S),[u,c]=a.useState(!1),[x]=pe();a.useState(!1);const{address:m}=X(),w=a.useMemo(()=>[{user:s?.twitter,link:"",followed:s?.projectTwitterBind},{user:s?.platformTwitter,link:"",followed:s?.platformTwitterBind}],[s]),v=a.useMemo(()=>t==="in-queue",[t]),i=a.useMemo(()=>{let h=Date.now(),y=(t==="launch"?o?.rewardEndsIn??0:r?.rewardEndsIn??0)*1e3;return console.log("now:",h),console.log("rewardEndsIn:",(t==="launch"?o?.rewardEndsIn??0:r?.rewardEndsIn??0)*1e3),h<y},[o,r,t]),g=a.useMemo(()=>{const h=o?.status==="Launched"||o?.status==="IDO",y=s?.projectTwitterBind&&s?.platformTwitterBind;return h&&y},[o,r,t]),N=a.useMemo(()=>t==="launch"||t==="1st-claim"||t==="2st-claim",[t]),T=a.useCallback(async h=>{try{let f=(await we()).data;const C={ticker:l,twitter:h,clientId:f};localStorage.setItem(Z,JSON.stringify(C)),Ne(f,fe),console.assert(!!h,"twitter is not found"),c(!0),await ct(h)}catch(y){console.error(y)}finally{c(!1)}},[]);return a.useEffect(()=>{(async()=>{const h=x.get("ticker"),y=x.get("code"),f=x.get("state");let C=null;try{C=JSON.parse(localStorage.getItem(Z)??"")}catch{}if(C&&!te){if(f==="twitter"&&y&&C){te=!0;const{ticker:M,twitter:L,clientId:F}=C,j=await Be({appClientId:F,code:y,codeVerifier:"challenge",grantType:"authorization_code",redirectUri:fe,refreshToken:"",twitter:L??"elonmusk"});if(console.log("follow res: ",j),!j.data){P.error("Failed to follow. Please try again later.");return}localStorage.removeItem(Z),te=!1,n?.()}console.log("ticker: ",h)}})()},[x]),e.jsxs("div",{className:"airdrop_claim px-5 pt-9 pb-5",children:[e.jsxs("div",{className:"head flex justify-between",children:[e.jsxs("h3",{className:"flex items-center gap-x-2 font-404px text-green text text-lg",children:["airdrop"," ",e.jsx(Y,{children:e.jsx("img",{src:"/create/tip.png"})})]}),v&&e.jsx("span",{className:"endsin font-OCR text-white",children:"Ends in"})]}),e.jsxs("div",{className:"in_queue flex justify-between",children:[e.jsxs("p",{className:"text-deep-green text-xs whitespace-pre-wrap",children:["Complete tasks to be",`
`,"eligible for token airdrop."," "]}),v&&e.jsx(z,{instant:s?.airdropEndsIn&&typeof s?.airdropEndsIn=="number"?s?.airdropEndsIn*1e3:0})]}),e.jsx("ul",{className:"follow_list flex flex-col gap-y-2 mt-4",children:w.map((h,y)=>e.jsxs("li",{className:"follow_list_item flex items-center w-full justify-between px-3 py-3.5",children:[e.jsxs("p",{className:I("leading-5 font-OCR whitespace-pre-wrap",{"text-white":!h.followed&&t!=="imo"||!m,"text-deep-green":h.followed||t==="imo"}),children:["Follow @",h.user,`
`,"on twitter"]}),e.jsx(Ot,{children:e.jsx("img",{onClick:()=>h.followed||t==="imo"?null:T(h.user?h.user:""),className:I("w-5",{"cursor-pointer":!h.followed,"opacity-30":(h.followed||t==="imo")&&m}),src:`/create/icon-${h.followed?"followed":"outlink-media"}.png`})})]},y))}),g&&(i?e.jsxs("div",{className:"mt-5 airdrop-unlock flex flex-col items-center gap-y-2",children:[e.jsxs("div",{className:"flex gap-x-3.5",children:[e.jsx("img",{className:"w-5 object-contain",src:"/create/icon-airdrop-lock.png"}),e.jsx(z,{onEnded:h=>h&&n?.(),instant:(t==="launch"?o?.rewardEndsIn??0:r?.rewardEndsIn??0)*1e3})]}),e.jsx("p",{className:"text-white font-OCR leading-20 text-sm",children:"Wait for your airdrop to unlock."})]}):e.jsxs("div",{className:"mt-5 airdrop-unlock flex flex-col items-center gap-y-2",children:[e.jsx("img",{className:"w-5 object-contain",src:"/create/icon-airdrop-unlock.png"}),e.jsxs("p",{className:"text-white font-404px leading-20 text-2xl",children:[Number(o?.count).toLocaleString()," WIF"]})]})),!m&&e.jsxs("div",{className:"flex flex-col items-center mt-[29px]",children:[e.jsx(st,{className:""}),e.jsx("h5",{className:"font-OCR text-[14px] text-[#fff] line-[20px]",children:"Connect wallet to access"})]}),e.jsx(le,{children:e.jsx(D,{disabled:!s?.claimFlag,className:I("uppercase w-full claim_btn h-12 font–404px",{"mt-20":v,"mt-5":i||N}),children:"claim"})}),e.jsx(Ce,{fullscreen:!0,spinning:u})]})}const G=[1/4,1/2,1],ne=({children:t})=>{const[s,o]=a.useState(!1),[r,n]=a.useState(0),{memooConfig:l,defaultConfig:d,idoBuy:u,idoQueueDetail:c}=a.useContext(S),[x,m]=a.useState(!1),[w,v]=a.useState(!1),i=a.useMemo(()=>!l||!d?ee:new O(Number(d.totalSupply)).dividedBy(10**d.defaultDecimals),[l]),g=a.useMemo(()=>{if(!l||!d)return ee;const f=new O(Number(l.allocation.ido)).dividedBy(1e4),C=new O(Number(d.idoPrice)).dividedBy(10**d.defaultDecimals);return i.multipliedBy(f).multipliedBy(C)},[l,i]),N=a.useMemo(()=>l?new O(l.idoUserBuyLimit??Pe).dividedBy(1e4):ee,[l]),T=a.useMemo(()=>g.multipliedBy(N),[g]),h=a.useMemo(()=>(n(parseFloat(E(g.multipliedBy(G[0]).multipliedBy(N)))),console.log("grades[0]:",G[0]),console.log("capped:",g),console.log("capped.multipliedBy:",g.multipliedBy(G[0]).multipliedBy(N)),console.log("idoUserBuyLimitBN:",N),G.map((f,C)=>({label:e.jsxs("div",{className:"imo_opt",children:[e.jsxs("span",{children:[E(g.multipliedBy(f).multipliedBy(N))," ETH"]}),e.jsxs("span",{children:[E(i.multipliedBy(f).multipliedBy(N))," TOKEN"]})]},C),value:parseFloat(E(g.multipliedBy(f).multipliedBy(N)))}))),[g,N,i]),y=a.useCallback(async()=>{if(!(!u||!c))try{v(!0),await u(c?.contractAddress,new O(r)),o(!1),P.success("Participate Successful")}catch(f){console.error(f),P.error("Participate Failed")}finally{v(!1)}},[c,u,r]);return e.jsxs(e.Fragment,{children:[e.jsx(W,{className:"min-w-[604px]",wrapClassName:"memoo_modal",title:"IMO Participation",open:s,onCancel:()=>o(!1),footer:null,destroyOnClose:!0,children:e.jsxs("div",{className:"imo_participation flex flex-col",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex items-center gap-x-3",children:[e.jsx("span",{className:"text-white font-OCR text-base leading-[18px]",children:"Contribute"}),e.jsx("img",{src:"/create/tip.png"})]}),e.jsx("p",{className:"whitespace-pre font-OCR text-white text-base leading-[18px]",children:`Total IDO raise is always
capped at ${E(g)} ETH`})]}),e.jsx(Ue.Group,{className:"memoo_radio_group mt-[28px] mb-[28px] grid grid-cols-3",options:h,onChange:f=>n(f.target.value),value:r,optionType:"button"}),e.jsx("p",{className:"whitespace-pre font-OCR text-[#4889B7] text-[10px] leading-[14px]",children:`Contribution capped at ${E(T)} ETH per wallet: To counteract potential centralization,
individual wallet holding limits will be established, ensuring that every purchasing
entity's holding is limited to maximum of ${N.multipliedBy(100).toString()}% percentage of the total supply.`}),e.jsxs(ye,{className:"font-OCR text-[12px] text-[#4889B7] my-[24px]",onChange:f=>m(f.target.checked),children:["I accept MeMoo’s ",e.jsx("a",{className:"contents text-green",children:"Terms & Conditions."})]}),e.jsx(D,{disabled:!x,className:"memoo_button mt-4 h-[50px]",loading:w,onClick:y,children:"Confirm"})]})}),a.Children.map(t,f=>a.isValidElement(f)?a.cloneElement(f,{onClick:()=>o(!0)}):f)]})};ne.displayName=ne.name;const Dt=()=>{const{idoActiveDetail:t,idoQueueDetail:s}=a.useContext(S),[o,r]=a.useState(!1);console.log("idoActiveDetail?.endsIn:",t?.endsIn);const n=a.useMemo(()=>[{key:"Price",value:`$${E(t?.price?t?.price:0)??0}`,tip:null},{key:"Total Raised",value:`${t?.totalRaised??"NA/NA"} ETH`,tip:"1"},{key:"Contributed",value:`${s?.contributed??"NA"}/${s?.maxContributed??"NA"} ETH`,tip:"1"}],[t,s]),l=a.useMemo(()=>s?s?.contributed>=s?.maxContributed:!0,[s]);return e.jsxs("div",{className:"imo_participate px-5 pt-9 pb-5",children:[e.jsx("div",{className:"head",children:e.jsx("h3",{className:"flex items-center gap-x-2 font-404px text-green text text-lg uppercase",children:"imo"})}),e.jsxs("div",{className:"content flex flex-col items-center",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("span",{className:"font-OCR text-sm text-white",children:"Ends in"}),e.jsx(z,{className:"imo_countdown flex gap-x-2 mt-5",format:([d,u,c,x])=>[e.jsxs("div",{children:[e.jsx("time",{children:d}),e.jsx("span",{children:"D"})]},"days"),e.jsxs("div",{children:[e.jsx("time",{children:u}),e.jsx("span",{children:"H"})]},"hours"),e.jsxs("div",{children:[e.jsx("time",{children:c}),e.jsx("span",{children:"H"})]},"minutes"),e.jsxs("div",{children:[e.jsx("time",{children:x}),e.jsx("span",{children:"S"})]},"seconds")],instant:(t?.endsIn??0)*1e3,onEnded:d=>{r(d)}}),e.jsx("p",{className:"mt-3 text-white font-OCR leading-5 text-sm",children:"Fair Distribution Policy"}),e.jsx("p",{className:"text-deep-green text-center font-OCR leading-14 text-xs",children:"Wallet capped at 1% token supply per address."})]}),e.jsx("ul",{className:"mt-6 params_list flex flex-col gap-y-6 w-full",children:n.map(d=>e.jsxs("li",{className:"flex justify-between",children:[e.jsxs("label",{className:"text-white text-xs font-OCR leading-4 flex items-center gap-x-1.5",children:[d.key," ",d.tip&&e.jsx(Y,{content:d.tip,children:e.jsx("img",{src:"/create/tip.png"})})]}),e.jsx("var",{className:"text-white text-lg font-OCR leading-5",children:d.value})]},d.key))}),e.jsx(ne,{children:e.jsx(D,{disabled:l||o,className:I("mt-5 uppercase w-full participate_btn h-12 font–404px",{}),children:"participate"})})]})]})},oe=()=>{const{idoLaunchedDetail:t,idoQueueDetail:s,stage:o}=a.useContext(S),r=a.useMemo(()=>[{key:"Market Cap",value:`$${E(s?.marketCap??0)}`,tip:null},{key:"Price",value:`$${E(s?.price??0)}`,tip:null},{key:"Total Raised",value:`${s?.totalRaised??"NA/NA"} ETH`,tip:"1"},{key:"Contributed",value:`${s?.contributed??"NA"}/${s?.maxContributed??"NA"} ETH`,tip:"1"}],[t,s]),n=a.useCallback(()=>{window.open("https://app.uniswap.org/","_blank")},[]);return e.jsxs("div",{className:"pubsale px-5 pt-9 pb-5",children:[e.jsx("div",{className:"head flex justify-center",children:e.jsx("img",{src:"/create/img-pubsale.png"})}),e.jsxs("div",{className:"content flex flex-col items-center",children:[e.jsx("ul",{className:"mt-6 params_list flex flex-col gap-y-6 w-full",children:r.map(l=>e.jsxs("li",{className:"flex justify-between",children:[e.jsxs("label",{className:"text-white text-xs font-OCR leading-4 flex items-center gap-x-1.5",children:[l.key," ",l.tip&&e.jsx(Y,{content:l.tip,children:e.jsx("img",{src:"/create/tip.png"})})]}),e.jsx("var",{className:"text-white text-lg font-OCR leading-5",children:l.value})]},l.key))}),e.jsx(D,{className:I("mt-5 uppercase w-full pubsale_btn h-12 font–404px",{}),onClick:n,children:"Buy"})]})]})};oe.displayName=oe.name;const re=()=>{const{stage:t,idoQueueDetail:s,idoLaunchedDetail:o,idoLaunchedDetailTop10:r}=a.useContext(S),n=a.useMemo(()=>t==="launch"?[{key:"IDO Date",value:s?.idoDate?U(s?.idoDate??0):""},{key:"LP Lock",value:o?.tokenName,formatValue:l=>e.jsxs("div",{className:"flex items-center gap-x-2.5",children:[e.jsxs("div",{className:"flex ido_params_token items-center py-1.5 gap-x-1 px-5",children:[e.jsx("img",{src:o?.icon,className:"max-w-[27px]"}),e.jsx("span",{className:"font-OCR text-white text-sm",children:l})]}),e.jsx("span",{className:"text-white text-lg font-OCR leading-5",children:o?.lpLock?"Yes":"No"})]})},{key:"Liquidity",value:`$${o?.liquidity??0}`},{key:"FDV",value:`$${s?.fdv??0}`},{key:"24h Trading Vol",value:`$${o?.volume24H??0}`},{key:"1h",value:"+7%",formatValue:l=>e.jsx("span",{className:"text-green font-404px",children:l})},{key:"24h",value:"+86%",formatValue:l=>e.jsx("span",{className:"text-green font-404px",children:l})},{key:"Max Supply",value:`${s?.totalSupply??0}`},{key:"All Time High",value:`$${E(o?.allTimeHigh??0)??0}`,formatValue:l=>e.jsxs("div",{className:"flex flex-col items-end",children:[e.jsx("span",{className:"text-white text-lg font-OCR leading-5",children:l}),e.jsxs("div",{className:"flex items-center gap-x-2",children:[e.jsx("time",{className:"font-OCR text-xs text-bluish-purple-light",children:U(o?.allTimeHighTime??0)}),e.jsx("span",{className:"font-OCR text-xs text-red",children:o?.allTimeHighTimeIncrease})]})]})},{key:"All Time Low",value:`$${E(o?.allTimeLow??0)??0}`,formatValue:l=>e.jsxs("div",{className:"flex flex-col items-end",children:[e.jsx("span",{className:"text-white text-lg font-OCR leading-5",children:l}),e.jsxs("div",{className:"flex items-center gap-x-2",children:[e.jsx("time",{className:"font-OCR text-xs text-bluish-purple-light",children:U(o?.allTimeLowTime??0)}),e.jsx("span",{className:"font-OCR text-xs text-green",children:o?.allTimeLowIncrease})]})]})},{key:"Holders",value:o?.holders??0}]:[{key:"IDO Date",value:U(s?.idoDate??0)},{key:"FDV",value:`$${Number(s?.fdv??0).toLocaleString()}`},{key:"Max Supply",value:`${Number(s?.totalSupply??0).toLocaleString()}`}],[t,s,o]);return e.jsxs("div",{className:"ido_detail flex-auto px-5 pt-9 pb-5",children:[e.jsx("ul",{className:"data_list flex flex-col gap-y-6 w-full",children:n.map(l=>e.jsxs("li",{className:"flex justify-between",children:[e.jsx("label",{className:"text-bluish-purple-light text-sm font-OCR leading-4 flex items-center gap-x-1.5",children:l.key}),l.formatValue?l.formatValue(l.value??""):e.jsx("var",{className:"text-white text-lg font-OCR leading-5",children:l.value})]},l.key))}),e.jsx("div",{className:"divider h-px w-full bg-bluish-purple my-8"}),r.length>0&&e.jsxs("div",{className:"top10_holders",children:[e.jsx("h3",{className:"font-404px text-lg leading-5 text-green",children:"Top 10 Token Holders"}),e.jsx("ul",{className:"holders_list mt-5 flex flex-col",children:r.map((l,d)=>e.jsxs("li",{className:"flex items-center justify-between",children:[e.jsxs("label",{className:"text-sm font-OCR text-white",children:[d+1,".",ve(l.address)]}),e.jsx("var",{className:"text-sm font-OCR text-white",children:l.proportion})]},l.address))})]})]})};re.displayName=re.name;const Rt="/static/png/profile-banner-bg-BAV99unl.png",ie=()=>{const{idoQueueDetail:t}=a.useContext(S);return e.jsxs("div",{className:"banner w-full relative",children:[e.jsx("img",{className:"w-full min-h-[200px] object-cover max-h-[307px] rounded-tl-[15px] rounded-tr-[15px] border-1px border-[#5D64A2]",src:t?.banners?.[0]??Rt}),e.jsx("img",{className:"w-[131px] h-[131px] rounded-[50%] absolute bottom-0 left-5 translate-y-1/2",src:t?.icon})]})};ie.displayName=ie.name;const ce=()=>{const{idoQueueDetail:t}=a.useContext(S),s=a.useRef({}),o=a.useMemo(()=>[{key:"Name",value:t?.tokenName},{key:"Ticker",value:t?.ticker},{key:"Contract Address",value:t?.contractAddress||"NA"},{key:"LP Contract",value:t?.lpContractAddress||"NA"},{key:"Tools",value:"",formatKey:n=>e.jsx("label",{className:"col-span-3 text-bluish-purple-light text-sm font-OCR leading-4 flex gap-x-1.5 h-8 flex items-center",children:n}),formatValue:n=>e.jsx("ul",{className:"token_list flex flex-wrap col-span-6 gap-y-1.5 gap-x-1",children:[{name:"De.Fi Scanner",icon:"/create/icon-tool-defi-scanner.png"},{name:"DEX Screener",icon:"/create/icon-tool-dex-screener.png"},{name:"Bubblemaps",icon:"/create/icon-tool-bubble-maps.png"},{name:"GeckoTerminal",icon:"/create/icon-tool-gecko-terminal.png"}].map(l=>e.jsxs("li",{className:"flex items-center gap-x-1.5 h-8 token_list_hover",children:[e.jsx("img",{className:"w-5 object-contain",src:l.icon})," ",l.name]},l.name))})}],[t]),r=a.useMemo(()=>[{key:"Project Website",value:"",formatValue:n=>e.jsx("ul",{className:`${t?.website?"token_list":""}flex flex-wrap col-span-6 gap-y-1.5 gap-x-1`,children:t?.website&&e.jsx("li",{className:"h-8 cursor-pointer",children:e.jsx("a",{href:t?.website,target:"_blank",className:"flex items-center gap-x-1.5",children:Se(t?.website??"")})})})},{key:`Project’s
Social Account`,value:"",formatValue:n=>e.jsxs("ul",{className:"token_list flex flex-wrap col-span-6 gap-y-1.5 gap-x-1",children:[t?.twitter&&e.jsx("li",{className:"h-8 token_list_hover",onMouseOver:()=>s.current.IconTwitterProject.setHovered(!0),onMouseLeave:()=>s.current.IconTwitterProject.setHovered(!1),children:e.jsxs("a",{href:`https://x.com/${t?.twitter}`,target:"_blank",className:"flex items-center gap-x-1.5",children:[e.jsx(ae,{ref:l=>s.current.IconTwitterProject=l,color:"#FFF",hoverColor:"#07E993",className:"w-[20px]"})," ",t?.twitter??""]})}),t?.telegram&&e.jsx("li",{className:"h-8 token_list_hover",onMouseOver:()=>s.current.IconTelegram.setHovered(!0),onMouseLeave:()=>s.current.IconTelegram.setHovered(!1),children:e.jsxs("a",{href:`https://t.me/${t?.telegram}`,target:"_blank",className:"flex items-center gap-x-1.5",children:[e.jsx(at,{ref:l=>s.current.IconTelegram=l,color:"#FFF",hoverColor:"#07E993",className:"w-[20px]"})," ",t?.telegram??""]})})]})},{key:"Created By",value:"",formatKey:n=>e.jsx("label",{className:"col-span-3 text-bluish-purple-light text-sm font-OCR leading-4 flex gap-x-1.5 h-8 flex items-center mt-10",children:n}),formatValue:n=>e.jsx("ul",{className:"token_list flex flex-wrap col-span-6 gap-y-1.5 gap-x-1 mt-10",onClick:()=>{De(t?.creatorAddress?t?.creatorAddress:"")},children:t?.creatorAddress&&e.jsxs("li",{className:"flex items-center gap-x-1.5 h-8",children:[ve(t?.creatorAddress??"")," ",e.jsx("a",{className:"cursor-pointer",children:e.jsx(lt,{className:"object-contain"})})]})})},{key:`Creator’s
Social Account`,value:"",formatValue:n=>e.jsx("ul",{className:"token_list flex flex-wrap col-span-6 gap-y-1.5 gap-x-1",onMouseOver:()=>s.current.IconTwitterCreator.setHovered(!0),onMouseLeave:()=>s.current.IconTwitterCreator.setHovered(!1),children:t?.creatorTwitter&&e.jsx("li",{className:"flex items-center gap-x-1.5 h-8 token_list_hover",children:e.jsxs("a",{href:`https://x.com/${t?.creatorTwitter}`,target:"_blank",className:"flex items-center gap-x-1.5",children:[e.jsx(ae,{ref:l=>s.current.IconTwitterCreator=l,color:"#FFF",hoverColor:"#07E993",className:"w-[20px]"})," ",t?.creatorTwitter]})})})}],[t]);return e.jsxs("div",{className:"profile relative pt-20",children:[e.jsx("ul",{className:"relationship_fracture absolute flex gap-x-2.5 top-5 right-5",children:e.jsx("li",{children:e.jsx("img",{className:"w-10 h-10 object-cover",src:"/create/icon-share.png"})})}),e.jsxs("div",{className:"head",children:[e.jsxs("h1",{className:"font-404px text-white leading-7 text-3xl",children:[t?.tokenName," ",e.jsx("span",{className:"text-green text-base ml-1",children:t?.ticker})]}),e.jsxs("time",{className:"mt-2 block font-OCR text-bluish-purple-light text-sm",children:["Created ",U(t?.createdAt??0)]}),e.jsx("p",{className:"mt-2 font-OCR text-white text-sm leading-5 max-w-2xl",children:t?.description})]}),e.jsxs("div",{className:"content",children:[e.jsx("ul",{className:"basic_list mt-14 flex flex-col gap-y-6",children:o.map(n=>e.jsxs("li",{className:"grid grid-cols-12",children:[n.formatKey?n.formatKey(n.key):e.jsx("label",{className:"col-span-3 text-bluish-purple-light text-sm font-OCR leading-4 flex items-center gap-x-1.5",children:n.key}),n.formatValue?n.formatValue(n.value):e.jsx("var",{className:"col-span-6 text-white text-lg font-OCR leading-5",children:n.value})]},n.key))}),e.jsxs("div",{className:"soscial_info mt-16",children:[e.jsx("h1",{className:"font-404px text-lg text-green leading-5",children:"Social Info"}),e.jsx("ul",{className:"mt-6 flex flex-col gap-y-1.5",children:r.map(n=>e.jsxs("li",{className:"grid grid-cols-12",children:[n.formatKey?n.formatKey(n.key):e.jsx("label",{className:"col-span-3 text-bluish-purple-light text-sm font-OCR leading-4 flex h-8 gap-x-1.5 flex items-center whitespace-pre-wrap",children:n.key}),n.formatValue?n.formatValue(n.value):e.jsx("var",{className:"col-span-6 text-white text-lg font-OCR leading-5",children:n.value})]},n.key))})]})]})]})};ce.displayName=ce.name;const de=({children:t,maxIncrease:s,maxProportion:o,firstProportion:r,firstIncrease:n,onCalculated:l})=>{const[d,u]=a.useState(!1),[c,x]=a.useState(!1),[m,w]=a.useState(!1),[v,i]=a.useState(0),[g,N]=a.useState(0),{idoBuy:T,idoQueueDetail:h}=a.useContext(S);a.useEffect(()=>{i(r*100)},[r]),a.useEffect(()=>{const f=v/100,C=parseFloat(E(n*(f/r)));console.log("increasing proportion:",C),N(C),l?.(C)},[v,r,n]);const y=a.useCallback(async()=>{if(!(!T||!h))try{w(!0),await T(h.contractAddress,new O(g-n)),u(!1),P.success("Buy Successful")}catch(f){console.error(f),P.error("Buy Failed")}finally{w(!1)}},[T,h,g,n]);return e.jsxs(e.Fragment,{children:[e.jsx(W,{wrapClassName:"memoo_modal",title:"Increase Acquisition",open:d,onCancel:()=>u(!1),footer:null,destroyOnClose:!0,children:e.jsxs("div",{className:"increase_acquisition pt-[35px] flex flex-col",children:[e.jsxs("div",{className:"flex gap-x-[37px]",children:[e.jsxs("div",{className:"flex items-end",children:[e.jsx("span",{className:"whitespace-pre-wrap text-base font-OCR text-white leading-[18px]",children:`Pre-Market
Acquisition`}),e.jsx("div",{className:"tip_ico_wrapper h-[18px] flex items-center ml-[12px]",children:e.jsx("img",{className:"h-[12px] object-contain",src:"/create/tip.png"})})]}),e.jsxs("div",{className:"flex flex-auto items-center gap-x-3",children:[e.jsxs("span",{className:"whitespace-nowrap text-base font-OCR text-white leading-[16px]",children:[n," ETH"]}),e.jsx(Ae,{className:"memoo_slider flex-auto",tooltip:{open:!0,rootClassName:"memoo_slider_tooltip",formatter:f=>`${f}%`},onChange:f=>i(f),max:o*100,min:r*100}),e.jsxs("span",{className:"whitespace-nowrap text-base font-OCR text-white leading-[16px]",children:[s," ETH"]})]})]}),e.jsx("p",{className:"font-OCR text-[#4889B7] whitespace-pre-wrap mt-[7px] mb-[19px]",children:`Creator can increase initial
allocation from ${r*100}% to ${o*100}%.`}),e.jsx(H,{className:"memoo_input h-[66px]",value:"Pre-Market Acquisition",suffix:e.jsx("span",{className:"text-[24px] text-white font-404px leading-[22px]",children:`${E(g-n)} ETH`})}),e.jsxs(ye,{className:"font-OCR text-[12px] text-[#4889B7] my-[24px]",onChange:f=>x(f.target.checked),children:["I accept MeMoo’s ",e.jsx("a",{className:"contents text-green",children:"Terms & Conditions."})]}),e.jsx(D,{disabled:!c,className:"memoo_button h-[50px]",loading:m,onClick:y,children:"Confirm"})]})}),a.Children.map(t,f=>a.isValidElement(f)?a.cloneElement(f,{onClick:()=>u(!0)}):f)]})};de.displayName=de.name;const J=({children:t,stage:s,lockinPeriod:o,tokens:r,unlockTokens:n,rate:l})=>{const[d,u]=a.useState(!1),{unlockMeme:c,idoQueueDetail:x}=a.useContext(S),[m,w]=a.useState(!1),v=a.useCallback(async()=>{if(!(!c||!x))try{w(!0),console.log("idoQueueDetail.contractAddress:",x.contractAddress),console.log(s==="1st"?0:1),await c(x.contractAddress,s==="1st"?0:1),u(!1),P.success("Unlock Successful")}catch(i){console.error(i),P.error("Unlock Failed")}finally{w(!1)}},[c,x]);return e.jsxs(e.Fragment,{children:[e.jsx(W,{className:"min-w-[604px]",wrapClassName:"memoo_modal",title:"Claim Tokens",open:d,onCancel:()=>u(!1),footer:null,destroyOnClose:!0,children:e.jsxs("div",{className:"claim_tokens flex flex-col",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("div",{className:"flex items-center gap-x-[15px]",children:[e.jsx("p",{className:"whitespace-pre font-OCR text-base leading-[18px] text-white",children:`Redeem ${s} ${l}%
unlocked tokens`}),e.jsx("img",{className:"w-[111px] object-contain",src:"/create/img-claim.png"})]}),e.jsxs("div",{className:"flex items-center gap-x-[14px]",children:[s==="1st"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col items-end",children:[e.jsx("span",{className:"font-404px text-white text-[24px] leading-[29px]",children:o}),e.jsx("span",{className:"font-OCR text-white text-base leading-[21px]",children:"Next Unlock"})]}),e.jsx("img",{className:"w-[50px]",src:"/create/icon-claim-unlock.png"})]}),s==="2nd"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col items-end",children:[e.jsx("span",{className:"font-404px text-white text-[24px] leading-[29px]",children:Number(n).toLocaleString()}),e.jsx("span",{className:"font-OCR text-white text-base leading-[21px]",children:"Claim Completed"})]}),e.jsx("img",{className:"w-[50px]",src:"/create/icon-claim-done.png"})]})]})]}),e.jsx(H,{disabled:!0,className:"memoo_input h-[66px]",placeholder:"Claimable LEASH",suffix:e.jsx("span",{className:"text-[24px] text-white font-404px leading-[22px]",children:Number(r).toLocaleString()})}),e.jsx(D,{loading:m,className:"memoo_button mt-[77px] h-[50px]",onClick:v,children:"Confirm"})]})}),a.Children.map(t,i=>a.isValidElement(i)?a.cloneElement(i,{onClick:()=>u(!0)}):i)]})};J.displayName=J.name;const me=()=>{const{stage:t,idoQueueDetail:s,_2ndStage:o,_1stStage:r,memooConfig:n,defaultConfig:l,mine:d}=a.useContext(S),{address:u}=X(),c=a.useMemo(()=>Number(n?.allocation.creator)/1e4,[n]),x=a.useMemo(()=>Number(n?.idoCreatorBuyLimit)/1e4,[n]),m=a.useMemo(()=>{if(!n||!l)return 0;const i=new O(Number(l?.totalSupply)).dividedBy(10**l?.defaultDecimals),g=new O(Number(l?.idoPrice)).dividedBy(10**l?.defaultDecimals),N=i.multipliedBy(g).multipliedBy(c);return parseFloat(E(N))},[n,c,l]),w=a.useMemo(()=>parseFloat(E(m*(x/c))),[c,x,m]),v=[{key:"in-queue",icon:`/create/process-in-queue${t==="in-queue"?"-active":""}.svg`,title:"in queue",desc:`Complete tasks to be
eligible for airdrop`,onClick:()=>{},btnText:"increase",btnIcon:`/create/icon-increase${t==="in-queue"?"-active":""}.svg`,wrapper:i=>e.jsx(de,{maxIncrease:w,firstProportion:c,maxProportion:x,firstIncrease:m,children:i}),enabled:d&&["QUEUE","IDO"].includes(s?.status??"Draft")},{key:"imo",icon:`/create/process-imo${t==="imo"?"-active":""}.svg`,title:"imo",desc:`Get first access
before public sale`},{key:"launch",icon:`/create/process-launch${t==="launch"?"-active":""}.svg`,title:"launch",desc:`Token available
for public sale`},{key:"1st-claim",icon:e.jsxs("div",{className:"relative z-10",children:[e.jsx("img",{src:"/create/bg-1st-claim.png"}),e.jsx("img",{className:"absolute left-[53px] top-[37px]",src:`/create/process-claim${t==="1st-claim"?"-active":""}.svg`})]}),title:"1st claim",desc:`1st ${new O(Number(r?.unlockInfo?.unlockRate)).dividedBy(1e4).multipliedBy(100).toNumber()}% unlock when
token price hits 0.0005c`,onClick:()=>{},btnText:"claim",btnIcon:`/create/icon-claim${t==="1st-claim"?"-active":""}.svg`,wrapper:i=>e.jsx(J,{tokens:parseFloat(E(new O(r?.unlockCount??0).dividedBy(10**(l?.defaultDecimals??0)))),lockinPeriod:ue(Number(o?.unlockInfo?.value)/1e3),rate:new O(Number(r?.unlockInfo?.unlockRate)).dividedBy(1e4).multipliedBy(100).toNumber(),stage:"1st",children:i}),enabled:s?.stageOneClaim&&Number(r?.unlockCount)>0&&s?.status==="Launched"&&(u?[(s.contractAddress,s.creatorAddress)].some(i=>se(i,u)):!1)},{key:"2st-claim",icon:e.jsxs("div",{className:"relative z-10",children:[e.jsx("img",{src:"/create/bg-2st-claim.png"}),e.jsx("img",{className:"absolute left-[53px] top-[37px]",src:`/create/process-claim${t==="2st-claim"?"-active":""}.svg`})]}),title:"2st claim",desc:`Next ${new O(Number(o?.unlockInfo?.unlockRate)).dividedBy(1e4).multipliedBy(100).toNumber()}% unlocked
tokens in ${ue(Number(o?.unlockInfo?.value)*1e3)}`,onClick:()=>{},btnText:"claim",btnIcon:`/create/icon-claim${t==="2st-claim"?"-active":""}.svg`,wrapper:i=>e.jsx(J,{tokens:parseFloat(E(new O(o?.unlockCount??0).dividedBy(10**(l?.defaultDecimals??0)))),unlockTokens:parseFloat(E(Number(r?.unlockInfo?.value??0))),stage:"2nd",children:i}),enabled:s?.stageTwoClaim&&Number(o?.unlockCount)>0&&s?.status==="Launched"&&(u?[(s.contractAddress,s.creatorAddress)].some(i=>se(i,u)):!1)}];return e.jsx("ul",{className:"progress flex",children:v.map(i=>{const g=i.key===t;return e.jsxs("li",{className:I("flex max-w-[220px] flex-col items-center justify-end progress_list_item px-[18px]",{active:g}),children:[e.jsx("div",{className:I({active:g},"icon"),children:typeof i.icon=="string"?e.jsx("img",{src:i.icon}):i.icon}),e.jsx("h3",{className:I({"text-green":g},"text-lg font-404px leading-5 text-bluish-purple-light mt-[18px]"),children:i.title}),e.jsx("p",{className:"mt-1.5 font-OCR text-white leading-4 text-sm text-center break-keep whitespace-pre",children:i.desc}),i.wrapper?i.wrapper(e.jsx(D,{style:{visibility:i.btnText?"visible":"hidden"},className:"memoo_button reverse mt-[19px] px-[19px] h-[38px]",onClick:()=>i.onClick?.(),disabled:!i.enabled,children:e.jsx("div",{className:"flex items-center gap-x-1",children:e.jsx("span",{className:I("text-[10px] leading-5"),children:i.btnText})})})):e.jsx(D,{style:{visibility:i.btnText?"visible":"hidden"},className:"memoo_button reverse mt-[19px] px-[19px] h-[38px]",onClick:()=>i.onClick?.(),disabled:!i.enabled,children:e.jsx("div",{className:"flex items-center gap-x-1",children:e.jsx("span",{className:I("text-[10px] leading-5"),children:i.btnText})})})]},i.key)})})};me.displayName=me.name;var Pt={VITE_PROJECT_ID:"12054aa070d1f1a41e3420b5d40b665d",VITE_APP_BASE:"/memoo-interface",VITE_ENV:"production",VITE_NODE_TYPE:"mainnet",VITE_EXPLORER_API:"https://explorer-api.zklink.io",VITE_EXPLORER_URL:"https://explorer.zklink.io",VITE_NODE_CHAIN_ID:"1123",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const he=Pt.VITE_TWITTER_FOLLOW_REDIRECT_URI,xe=({children:t,ticker:s,onSaveSuccess:o})=>{const[r,n]=a.useState(!1),[l]=V.useForm();a.useState(!1);const[d,u]=a.useState(""),[c,x]=a.useState(""),[m,w]=a.useState(""),[v,i]=a.useState(!1),[g,N]=a.useState({}),[T]=pe();a.useEffect(()=>{$e(s).then(p=>{if(p?.data){console.log("TokenDetail: ",p?.data),N(p.data),x(p.data?.banners?p.data?.banners[0]:""),w(p.data.twitter),u(p.data.twitterAccessToken);let j={...p.data,banners:p.data?.oldBanners?p.data?.oldBanners:[],tokenIcon:p.data.icon,projectDescription:p.data.description};try{const b=JSON.parse(localStorage.getItem(q)??"");b&&(j.projectDescription=b.projectDescription,j.website=b.website,j.bannerUrl&&x(j.bannerUrl))}catch{}l.setFieldsValue(j)}})},[s]);const h=p=>{console.log("Received values of form: ",p)},y=(p,j)=>{console.log("onFieldsChange",p)},f=p=>Array.isArray(p)?p:p?.fileList,C=p=>{if(p)return Le(p).then(j=>{l.setFieldValue("banners",[j.data.file]),x(j.data.fileUrl)}),!1};a.useEffect(()=>{(async()=>{const p=T.get("code"),j=T.get("state"),b=T.get("edit");let R=null;try{R=JSON.parse(localStorage.getItem(Q)??"")}catch{}if(R&&j==="twitter"&&p&&R&&b&&R.ticker===s){const k={code:p,grantType:"authorization_code",redirectUri:he,codeVerifier:"challenge",refreshToken:"",appClientId:R.clientId??""};Me(k).then(B=>{const{access_token:A,twitter:_}=B.data;u(A),w(_)}),n(!0)}})()},[T]);const M=()=>{x("")},L=async()=>{const p=l.getFieldsValue();console.log("formData: ",p),p.bannerUrl=c,localStorage.setItem(q,JSON.stringify(p));let b=(await we()).data;const R={ticker:s,twitter:m,clientId:b};localStorage.setItem(Q,JSON.stringify(R)),Ne(b,he)},F=async p=>{try{await l.validateFields();const j=l.getFieldsValue();j.twitter=m||"",j.accessToken=d||"",i(!0);const b=await Fe({...j,ticker:s});n(!1),b?.code===200?(P.success("modify successfully!"),o(),n(!1)):P.warning("fail in keeping"),localStorage.removeItem(Q),localStorage.removeItem(q)}catch(j){console.log(j)}finally{i(!1)}};return a.useEffect(()=>{r||(localStorage.removeItem(Q),localStorage.removeItem(q))},[r]),e.jsxs(e.Fragment,{children:[e.jsxs(W,{className:"min-w-[717px] edit-project-modal",wrapClassName:"memoo_modal",title:e.jsxs("div",{className:"flex items-center gap-x-[13px]",children:[e.jsx("span",{className:"text-[24px] leading-6 font-404px edit-title",children:"Edit Info"}),e.jsx("img",{src:"/create/icon-edit-project-title.png"})]}),open:r,onCancel:()=>n(!1),footer:null,destroyOnClose:!0,children:[e.jsxs(V,{form:l,layout:"horizontal",disabled:!1,onFinish:h,onFieldsChange:y,className:"edit-project-modal-form h-[409px] overflow-auto mt-[56px]",children:[e.jsx(V.Item,{label:e.jsxs("p",{className:"flex items-end",children:[e.jsx("span",{className:"w-[113px] whitespace-normal",children:"Project Description "}),e.jsx("span",{children:"*"})]}),name:"projectDescription",rules:[{required:!0,message:"Please input Project Description!"}],children:e.jsx(H.TextArea,{showCount:!0,maxLength:450,placeholder:"",style:{height:165,resize:"none",borderRadius:"7px"},className:"text-[#fff] bg-[#2b526e]"})}),e.jsx(V.Item,{label:e.jsxs("p",{children:["Project Twitter ",e.jsx("span",{children:"*"})]}),children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{style:{width:"15px"},className:"mr-[7px]",children:e.jsx(ae,{hoverColor:"#07E993",className:""})}),m&&e.jsx("img",{src:"/create/icon-authed.svg"}),"(",e.jsx(Re,{variant:"secondary",className:"w-[136px] h-[32px]",onClick:L,children:m?"CHANGE":"CONNECT"})]})}),e.jsx(V.Item,{label:e.jsx("p",{children:"Project Banner"}),valuePropName:"bannerList",getValueFromEvent:f,name:"banners",children:c?e.jsxs("div",{className:"project-url-container",children:[e.jsx("img",{src:c,alt:""}),e.jsx("span",{className:"icon-url-actions",children:e.jsx(ut,{size:16,onClick:M})})]}):e.jsx(ft,{listType:"picture-card",accept:"image/*",maxCount:1,beforeUpload:p=>C(p),showUploadList:{showPreviewIcon:!0,showRemoveIcon:!1},style:{width:"100%",height:140},className:"edit-upload-banner",previewFile:p=>new Promise(j=>{const b=new FileReader;b.readAsDataURL(p),b.onload=()=>{j(b.result)}}),children:e.jsx("button",{style:{border:0,background:"none"},type:"button",children:e.jsxs("div",{style:{marginTop:8},className:"flex flex-col jusity-center items-center",children:[e.jsx(nt,{className:""}),e.jsx("p",{className:"font-OCR text-[10px] text-green leading-4 text-center w-[158px] mt-[10px]",children:"Recommended 790px X 307px Max size: 50MB"})]})})})}),e.jsx(V.Item,{label:e.jsx("p",{className:"edit-form-label",children:"Website"}),name:"website",children:e.jsx(H,{maxLength:20,className:"custom-input"})})]}),e.jsx("div",{className:"edit_project flex flex-col",children:e.jsx(D,{className:"memoo_button mt-4 h-[50px]",onClick:()=>F(),loading:v,children:"Save"})})]}),a.Children.map(t,p=>a.isValidElement(p)?a.cloneElement(p,{onClick:()=>n(!0)}):p)]})};xe.displayName=xe.name;var Bt={VITE_PROJECT_ID:"12054aa070d1f1a41e3420b5d40b665d",VITE_APP_BASE:"/memoo-interface",VITE_ENV:"production",VITE_NODE_TYPE:"mainnet",VITE_EXPLORER_API:"https://explorer-api.zklink.io",VITE_EXPLORER_URL:"https://explorer.zklink.io",VITE_NODE_CHAIN_ID:"1123",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const S=a.createContext({stage:"in-queue",mine:!1,ticker:"",idoLaunchedDetailTop10:[]}),ge=()=>{const[t,s]=a.useState("in-queue"),[o,r]=a.useState(),[n,l]=a.useState(),[d,u]=a.useState([]),[c,x]=a.useState(),{ticker:m=Bt.VITE_DEMO_TICKER}=_e(),[w,v]=a.useState(0),{address:i}=X();console.log("my-address:",i);const[g,N]=a.useState(!1);pe();const[T,h]=a.useState(),[y,f]=a.useState(),{config:C,idoBuy:M,unlockMeme:L,defaultConfig:F,airdropClaim:p,getCanUnlockCount:j,memeUnlockPeriods:b}=Ve(),R=Oe(),k=a.useMemo(()=>se(c?.creatorAddress,i),[c,i]);console.log("idoQueueDetail: ",c,i);const B=a.useCallback(()=>{v(_=>_+1)},[]),A=a.useMemo(()=>({stage:t,idoActiveDetail:o,idoLaunchedDetail:n,idoLaunchedDetailTop10:d,idoQueueDetail:c,mine:k,ticker:m,memooConfig:C,idoBuy:M,unlockMeme:L,airdropClaim:p,_1stStage:T,_2ndStage:y,defaultConfig:F,triggerRefresh:B}),[t,o,n,d,c,k,m,C,M,L,p,T,y,F,B]);return a.useEffect(()=>{(async()=>{try{N(!0);const{data:_}=await dt(m,i||"default");if(x(_),_.stageTwoClaim)s("2st-claim");else if(_.stageOneClaim)s("1st-claim");else if(_.status==="Launched"){const[$,ke]=await Promise.all([mt(m,i||"default"),xt({pageNumber:1,pageSize:10,ticker:m,address:i||"default"})]);l($.data),u(ke.data),s("launch")}else if(_.status==="IDO"){const{data:$}=await pt(m,i||"default");r($),s("imo")}else s("in-queue")}catch(_){console.error(_)}finally{N(!1)}})()},[w]),a.useEffect(()=>{!c||!i||(async()=>{{const[_,$]=await Promise.all([j(c.contractAddress,i,0),b(0)]);console.log("1st stage",_,$),h({unlockCount:_,unlockInfo:$})}{const[_,$]=await Promise.all([j(c.contractAddress,i,1),b(1)]);console.log("2nd stage",_,$),f({unlockCount:_,unlockInfo:$})}})()},[c,i,b]),e.jsxs("div",{className:"airdrop pb-16",children:[e.jsx(Ce,{spinning:g,fullscreen:!0}),e.jsx("div",{className:"col-span-full	flex flex-col items-center pt-[70px]",children:k&&e.jsx(S.Provider,{value:A,children:e.jsx(me,{})})}),k&&e.jsxs("div",{className:"col-span-full pt-[70px] pb-[22px] pl-[428px] flex items-center justify-between",children:[e.jsx(xe,{ticker:m,onSaveSuccess:B,children:e.jsxs(D,{type:"link",className:"flex items-center h-[40px] gap-x-[11px]",disabled:!k,children:[e.jsx(ot,{className:"",color:"#07E993",hoverColor:"#B53BFF",bgColor:"#B53BFF",hoverBgColor:"#07E993"}),e.jsx("span",{className:"text-bluish-purple-light font-OCR leading-5 text-sm",children:"Edit Info"})]})}),e.jsxs(D,{type:"link",className:"flex items-center h-[40px] gap-x-[11px]",onClick:()=>R("/dashboard"),children:[e.jsx("span",{className:"text-bluish-purple-light font-OCR leading-5 text-sm",children:"Back to Dashboard"}),e.jsx(rt,{className:""})]})]}),e.jsx("div",{className:"airdrop_left flex flex-col gap-y-3.5",children:e.jsxs(S.Provider,{value:A,children:[c?.status==="Launched"&&e.jsx(oe,{}),t==="imo"&&e.jsx(Dt,{}),e.jsx(St,{}),e.jsx(re,{})]})}),e.jsx("div",{className:"airdrop_right flex flex-col",children:e.jsxs(S.Provider,{value:A,children:[e.jsx(ie,{}),e.jsx(ce,{})]})})]})};ge.displayName=ge.name;export{S as AirdropContext,ge as default};
