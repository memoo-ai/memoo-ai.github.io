import{j as e,b as he}from"./rainbowkit-CnfYasIE.js";import{r as s,f as me,h as ke,u as _e}from"./react-Dusg2Zfy.js";import{r as Ee,a as ge,c as S}from"./index-DPIvLXlR.js";import{B as O}from"./index-CyCYjTZL.js";import{b as je,f as C,a as U,c as Ne,e as Te,h as Oe,d as pe,g as te,B as Se}from"./button-BoNkWybY.js";import{R as Y,z as Z,D as Ie,E as q,U as Q}from"./index-DCKrgIM1.js";import{s as B,g as we,r as De,S as Re,b as Pe,c as Be,f as Ae,k as $e,a as Le}from"./useManageContract-CHrspn8r.js";import{m as Ve,M as W,f as Me,g as Fe,a as Ue,b as ze,c as He}from"./airdrop-DburmY1A.js";import{I as z,R as We}from"./index-DNUB5bnF.js";import{g as qe,m as Qe,D as Ke,Q as Ge,S as Je,U as Xe,V as Ye,X as Ze,u as et,Y as tt,H as st,c as at,y as lt,q as D,C as ye}from"./BaseInput-BY7Ihxyo.js";import{a as nt,e as it}from"./index-D9a6-XQL.js";import{F,T as ot,U as rt}from"./trash-B8RKA933.js";import{S as be}from"./index-D4ArqEsQ.js";import{u as ct}from"./useEthers-0z6Zlcj8.js";import"./maths-CNprVtit.js";const G=t=>t?typeof t=="function"?t():t:null,dt=t=>{const{componentCls:l,popoverColor:n,titleMinWidth:a,fontWeightStrong:o,innerPadding:i,boxShadowSecondary:f,colorTextHeading:x,borderRadiusLG:c,zIndexPopup:p,titleMarginBottom:m,colorBgElevated:N,popoverBg:w,titleBorderBottom:r,innerContentPadding:g,titlePadding:j}=t;return[{[l]:Object.assign(Object.assign({},Ee(t)),{position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:p,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text",transformOrigin:"var(--arrow-x, 50%) var(--arrow-y, 50%)","--antd-arrow-background-color":N,width:"max-content",maxWidth:"100vw","&-rtl":{direction:"rtl"},"&-hidden":{display:"none"},[`${l}-content`]:{position:"relative"},[`${l}-inner`]:{backgroundColor:w,backgroundClip:"padding-box",borderRadius:c,boxShadow:f,padding:i},[`${l}-title`]:{minWidth:a,marginBottom:m,color:x,fontWeight:o,borderBottom:r,padding:j},[`${l}-inner-content`]:{color:n,padding:g}})},Ge(t,"var(--antd-arrow-background-color)"),{[`${l}-pure`]:{position:"relative",maxWidth:"none",margin:t.sizePopupArrow,display:"inline-block",[`${l}-content`]:{display:"inline-block"}}}]},mt=t=>{const{componentCls:l}=t;return{[l]:Je.map(n=>{const a=t[`${n}6`];return{[`&${l}-${n}`]:{"--antd-arrow-background-color":a,[`${l}-inner`]:{backgroundColor:a},[`${l}-arrow`]:{background:"transparent"}}}})}},pt=t=>{const{lineWidth:l,controlHeight:n,fontHeight:a,padding:o,wireframe:i,zIndexPopupBase:f,borderRadiusLG:x,marginXS:c,lineType:p,colorSplit:m,paddingSM:N}=t,w=n-a,r=w/2,g=w/2-l,j=o;return Object.assign(Object.assign(Object.assign({titleMinWidth:177,zIndexPopup:f+30},Xe(t)),Ye({contentRadius:x,limitVerticalRadius:!0})),{innerPadding:i?0:12,titleMarginBottom:i?0:c,titlePadding:i?`${r}px ${j}px ${g}px`:0,titleBorderBottom:i?`${l}px ${p} ${m}`:"none",innerContentPadding:i?`${N}px ${j}px`:0})},ve=qe("Popover",t=>{const{colorBgElevated:l,colorText:n}=t,a=Qe(t,{popoverBg:l,popoverColor:n});return[dt(a),mt(a),Ke(a,"zoom-big")]},pt,{resetStyle:!1,deprecatedTokens:[["width","titleMinWidth"],["minWidth","titleMinWidth"]]});var xt=function(t,l){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&l.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(t);o<a.length;o++)l.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(t,a[o])&&(n[a[o]]=t[a[o]]);return n};const ut=(t,l,n)=>!l&&!n?null:s.createElement(s.Fragment,null,l&&s.createElement("div",{className:`${t}-title`},G(l)),s.createElement("div",{className:`${t}-inner-content`},G(n))),ft=t=>{const{hashId:l,prefixCls:n,className:a,style:o,placement:i="top",title:f,content:x,children:c}=t;return s.createElement("div",{className:S(l,n,`${n}-pure`,`${n}-placement-${i}`,a),style:o},s.createElement("div",{className:`${n}-arrow`}),s.createElement(Ze,Object.assign({},t,{className:l,prefixCls:n}),c||ut(n,f,x)))},ht=t=>{const{prefixCls:l,className:n}=t,a=xt(t,["prefixCls","className"]),{getPrefixCls:o}=s.useContext(ge),i=o("popover",l),[f,x,c]=ve(i);return f(s.createElement(ft,Object.assign({},a,{prefixCls:i,hashId:x,className:S(n,c)})))};var gt=function(t,l){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&l.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(t);o<a.length;o++)l.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(t,a[o])&&(n[a[o]]=t[a[o]]);return n};const jt=t=>{let{title:l,content:n,prefixCls:a}=t;return s.createElement(s.Fragment,null,l&&s.createElement("div",{className:`${a}-title`},G(l)),s.createElement("div",{className:`${a}-inner-content`},G(n)))},Nt=s.forwardRef((t,l)=>{var n,a;const{prefixCls:o,title:i,content:f,overlayClassName:x,placement:c="top",trigger:p="hover",children:m,mouseEnterDelay:N=.1,mouseLeaveDelay:w=.1,onOpenChange:r,overlayStyle:g={}}=t,j=gt(t,["prefixCls","title","content","overlayClassName","placement","trigger","children","mouseEnterDelay","mouseLeaveDelay","onOpenChange","overlayStyle"]),{getPrefixCls:h}=s.useContext(ge),b=h("popover",o),[E,u,T]=ve(b),L=h(),V=S(x,u,T),[M,d]=et(!1,{value:(n=t.open)!==null&&n!==void 0?n:t.visible,defaultValue:(a=t.defaultOpen)!==null&&a!==void 0?a:t.defaultVisible}),y=(k,P)=>{d(k,!0),r?.(k,P)},v=k=>{k.keyCode===lt.ESC&&y(!1,k)},R=k=>{y(k)};return E(s.createElement(tt,Object.assign({placement:c,trigger:p,mouseEnterDelay:N,mouseLeaveDelay:w,overlayStyle:g},j,{prefixCls:b,overlayClassName:V,ref:l,open:M,onOpenChange:R,overlay:i||f?s.createElement(jt,{prefixCls:b,title:i,content:f}):null,transitionName:st(L,"zoom-big",j.transitionName),"data-popover-inject":!0}),at(m,{onKeyDown:k=>{var P,A;s.isValidElement(m)&&((A=m==null?void 0:(P=m.props).onKeyDown)===null||A===void 0||A.call(P,k)),v(k)}})))}),X=Nt;X._InternalPanelDoNotUseOrYouWillBeFired=ht;const H=({instant:t,onEnded:l,format:n,className:a})=>{const[o,i]=s.useState(0),f=s.useMemo(()=>{if(!t)return[];const x=Date.now(),c=t-x;if(c<=0)return l?.(!0),[0,0,0,0];const p=Math.floor(c/(1e3*60*60*24)),m=Math.floor(c%(1e3*60*60*24)/(1e3*60*60)),N=Math.floor(c%(1e3*60*60)/(1e3*60)),w=Math.floor(c%(1e3*60)/1e3);return n?n([p,m,N,w]):[`${String(p).padStart(2,"0")}`,`${String(m).padStart(2,"0")}`,`${String(N).padStart(2,"0")}`,`${String(w).padStart(2,"0")}`]},[t,o,l]);return s.useEffect(()=>{const x=Date.now();if(t-x>0){l?.(!1);const p=setInterval(()=>{i(m=>m+1)},1e3);return()=>{clearInterval(p)}}},[t,l]),e.jsx("div",{className:S("countdown",a),children:f.map((x,c)=>e.jsxs(s.Fragment,{children:[e.jsx("span",{className:"timefragments text-lg text-white font-404px",children:x}),c<f.length-1&&e.jsx("span",{className:"splitor text-lg text-white font-404px",children:":"})]},c))})};H.displayName=H.name;const se=({children:t})=>{const[l,n]=s.useState(!1),[a,o]=s.useState(!1),{idoLaunchedDetail:i,airdropClaim:f}=s.useContext(I),{getSign:x}=ct(),c=s.useCallback(async()=>{if(!(!f||!i))try{o(!0);const p=await x(),{data:m}=await Ve({ticker:i?.ticker??"",signature:p?.rawSignature??"",timestap:p?.msg??""});console.log("contractAddress:",i?.contractAddress),console.log("airdropCount:",new O(m?.airdropCount)),console.log("jsonData:",m?.jsonData),console.log("signature:",m?.signature),await f(i?.contractAddress,new O(m?.airdropCount),`0x${m?.hexMessage}`,`0x${m?.hexSignature}`)}catch(p){console.error(p),B.error("Claim Failed")}finally{o(!1)}},[f,i]);return e.jsxs(e.Fragment,{children:[e.jsx(W,{className:"min-w-[604px]",wrapClassName:"memoo_modal",title:"Airdrop Unlocked",open:l,onCancel:()=>n(!1),footer:null,destroyOnClose:!0,children:e.jsxs("div",{className:"airdrop_claims flex flex-col",children:[e.jsxs("div",{className:"flex flex-col items-center gap-y-[18px]",children:[e.jsx("img",{className:"w-[111px] object-contain",src:"/create/img-claim.png"}),e.jsx("span",{className:"font-404px text-[32px] text-green",children:"WIF has arrived!"}),e.jsx("p",{className:"whitespace-pre font-OCR text-base leading-[18px] text-white text-center",children:`Thanks for being part of the
Dogwifhat community.`})]}),e.jsxs("div",{className:"relative mt-[26px]",children:[e.jsx("img",{className:"absolute left-[25px] top-[50%] translate-y-[-50%] z-10",src:"/create/icon-airdrop-unlock.png"}),e.jsx(z,{className:"memoo_input h-[66px] font-404px text-white text-[24px] text-center",value:Number(i?.count).toLocaleString()})]}),e.jsx(D,{className:"memoo_button mt-4 h-[50px]",onClick:c,loading:a,children:"Confirm"})]})}),s.Children.map(t,p=>s.isValidElement(p)?s.cloneElement(p,{onClick:()=>n(!0)}):p)]})};se.displayName=se.name;var wt={VITE_PROJECT_ID:"12054aa070d1f1a41e3420b5d40b665d",VITE_APP_BASE:"/memoo-interface",VITE_ENV:"production",VITE_NODE_TYPE:"mainnet",VITE_EXPLORER_API:"https://explorer-api.zklink.io",VITE_EXPLORER_URL:"https://explorer.zklink.io",VITE_NODE_CHAIN_ID:"1123",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const xe=wt.VITE_TWITTER_FOLLOW_REDIRECT_URI;let ee=!1;function yt(){const{stage:t,idoQueueDetail:l,idoLaunchedDetail:n,idoActiveDetail:a,triggerRefresh:o,ticker:i,airdropClaim:f}=s.useContext(I),[x,c]=s.useState(!1),[p]=me();s.useState(!1);const m=s.useMemo(()=>[{user:l?.twitter,link:"",followed:l?.projectTwitterBind},{user:l?.platformTwitter,link:"",followed:l?.platformTwitterBind}],[l]),N=s.useMemo(()=>t==="in-queue",[t]),w=s.useMemo(()=>{let h=Date.now(),b=(t==="launch"?n?.rewardEndsIn??0:a?.rewardEndsIn??0)*1e3;return console.log("now:",h),console.log("rewardEndsIn:",(t==="launch"?n?.rewardEndsIn??0:a?.rewardEndsIn??0)*1e3),h<b},[n,a,t]),r=s.useMemo(()=>n?.status==="Launched"||n?.status==="IDO",[n,a,t]),g=s.useMemo(()=>t==="launch"||t==="1st-claim"||t==="2st-claim",[t]),j=s.useCallback(async h=>{try{let E=(await we()).data;const u={ticker:i,twitter:h,clientId:E};localStorage.setItem(Y,JSON.stringify(u)),je(E,xe),console.assert(!!h,"twitter is not found"),c(!0),await Me(h)}catch(b){console.error(b)}finally{c(!1)}},[]);return s.useEffect(()=>{(async()=>{const h=p.get("ticker"),b=p.get("code"),E=p.get("state");let u=null;try{u=JSON.parse(localStorage.getItem(Y)??"")}catch{}if(u&&!ee){if(E==="twitter"&&b&&u){ee=!0;const{ticker:T,twitter:L,clientId:V}=u,d=await De({appClientId:V,code:b,codeVerifier:"challenge",grantType:"authorization_code",redirectUri:xe,refreshToken:"",twitter:L??"elonmusk"});if(console.log("follow res: ",d),!d.data){B.error("Failed to follow. Please try again later.");return}localStorage.removeItem(Y),ee=!1,o?.()}console.log("ticker: ",h)}})()},[p]),e.jsxs("div",{className:"airdrop_claim px-5 pt-9 pb-5",children:[e.jsxs("div",{className:"head flex justify-between",children:[e.jsxs("h3",{className:"flex items-center gap-x-2 font-404px text-green text text-lg",children:["airdrop"," ",e.jsx(X,{children:e.jsx("img",{src:"/create/tip.png"})})]}),N&&e.jsx("span",{className:"endsin font-OCR text-white",children:"Ends in"})]}),e.jsxs("div",{className:"in_queue flex justify-between",children:[e.jsxs("p",{className:"text-deep-green text-xs whitespace-pre-wrap",children:["Complete tasks to be",`
`,"eligible for token airdrop."," "]}),N&&e.jsx(H,{instant:l?.airdropEndsIn&&typeof l?.airdropEndsIn=="number"?l?.airdropEndsIn*1e3:0})]}),e.jsx("ul",{className:"follow_list flex flex-col gap-y-2 mt-4",children:m.map((h,b)=>e.jsxs("li",{className:"follow_list_item flex items-center w-full justify-between px-3 py-3.5",children:[e.jsxs("p",{className:S("leading-5 font-OCR whitespace-pre-wrap",{"text-white":!h.followed,"text-deep-green":h.followed}),children:["Follow @",h.user,`
`,"on twitter"]}),e.jsx("img",{onClick:()=>h.followed?null:j(h.user?h.user:""),className:S("w-5",{"cursor-pointer":!h.followed,"opacity-30":h.followed}),src:`/create/icon-${h.followed?"followed":"outlink-media"}.png`})]},b))}),r&&(w?e.jsxs("div",{className:"mt-5 airdrop-unlock flex flex-col items-center gap-y-2",children:[e.jsxs("div",{className:"flex gap-x-3.5",children:[e.jsx("img",{className:"w-5 object-contain",src:"/create/icon-airdrop-lock.png"}),e.jsx(H,{onEnded:h=>h&&o?.(),instant:(t==="launch"?n?.rewardEndsIn??0:a?.rewardEndsIn??0)*1e3})]}),e.jsx("p",{className:"text-white font-OCR leading-20 text-sm",children:"Wait for your airdrop to unlock."})]}):e.jsxs("div",{className:"mt-5 airdrop-unlock flex flex-col items-center gap-y-2",children:[e.jsx("img",{className:"w-5 object-contain",src:"/create/icon-airdrop-unlock.png"}),e.jsxs("p",{className:"text-white font-404px leading-20 text-2xl",children:[Number(n?.count).toLocaleString()," WIF"]})]})),e.jsx(se,{children:e.jsx(D,{disabled:!l?.claimFlag,className:S("uppercase w-full claim_btn h-12 font–404px",{"mt-20":N,"mt-5":w||g}),children:"claim"})}),e.jsx(be,{fullscreen:!0,spinning:x})]})}const K=[1/4,1/2,1],ae=({children:t})=>{const[l,n]=s.useState(!1),[a,o]=s.useState(0),{memooConfig:i,defaultConfig:f,idoBuy:x,idoQueueDetail:c}=s.useContext(I),[p,m]=s.useState(!1),[N,w]=s.useState(!1),r=s.useMemo(()=>!i||!f?Z:new O(Number(f.totalSupply)).dividedBy(10**f.defaultDecimals),[i]),g=s.useMemo(()=>{if(!i||!f)return Z;const u=new O(Number(i.allocation.ido)).dividedBy(1e4),T=new O(Number(f.idoPrice)).dividedBy(10**f.defaultDecimals);return r.multipliedBy(u).multipliedBy(T)},[i,r]),j=s.useMemo(()=>i?new O(i.idoUserBuyLimit??Ie).dividedBy(1e4):Z,[i]),h=s.useMemo(()=>g.multipliedBy(j),[g]),b=s.useMemo(()=>(o(parseFloat(C(g.multipliedBy(K[0]).multipliedBy(j)))),console.log("grades[0]:",K[0]),console.log("capped:",g),console.log("capped.multipliedBy:",g.multipliedBy(K[0]).multipliedBy(j)),console.log("idoUserBuyLimitBN:",j),K.map((u,T)=>({label:e.jsxs("div",{className:"imo_opt",children:[e.jsxs("span",{children:[C(g.multipliedBy(u).multipliedBy(j))," ETH"]}),e.jsxs("span",{children:[C(r.multipliedBy(u).multipliedBy(j))," TOKEN"]})]},T),value:parseFloat(C(g.multipliedBy(u).multipliedBy(j)))}))),[g,j,r]),E=s.useCallback(async()=>{if(!(!x||!c))try{w(!0),await x(c?.contractAddress,new O(a)),n(!1),B.success("Participate Successful")}catch(u){console.error(u),B.error("Participate Failed")}finally{w(!1)}},[c,x,a]);return e.jsxs(e.Fragment,{children:[e.jsx(W,{className:"min-w-[604px]",wrapClassName:"memoo_modal",title:"IMO Participation",open:l,onCancel:()=>n(!1),footer:null,destroyOnClose:!0,children:e.jsxs("div",{className:"imo_participation flex flex-col",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex items-center gap-x-3",children:[e.jsx("span",{className:"text-white font-OCR text-base leading-[18px]",children:"Contribute"}),e.jsx("img",{src:"/create/tip.png"})]}),e.jsx("p",{className:"whitespace-pre font-OCR text-white text-base leading-[18px]",children:`Total IDO raise is always
capped at ${C(g)} ETH`})]}),e.jsx(We.Group,{className:"memoo_radio_group mt-[28px] mb-[28px] grid grid-cols-3",options:b,onChange:u=>o(u.target.value),value:a,optionType:"button"}),e.jsx("p",{className:"whitespace-pre font-OCR text-[#4889B7] text-[10px] leading-[14px]",children:`Contribution capped at ${C(h)} ETH per wallet: To counteract potential centralization,
individual wallet holding limits will be established, ensuring that every purchasing
entity's holding is limited to maximum of ${j.multipliedBy(100).toString()}% percentage of the total supply.`}),e.jsxs(ye,{className:"font-OCR text-[12px] text-[#4889B7] my-[24px]",onChange:u=>m(u.target.checked),children:["I accept MeMoo’s ",e.jsx("a",{className:"contents text-green",children:"Terms & Conditions."})]}),e.jsx(D,{disabled:!p,className:"memoo_button mt-4 h-[50px]",loading:N,onClick:E,children:"Confirm"})]})}),s.Children.map(t,u=>s.isValidElement(u)?s.cloneElement(u,{onClick:()=>n(!0)}):u)]})};ae.displayName=ae.name;const bt=()=>{const{idoActiveDetail:t,idoQueueDetail:l}=s.useContext(I);console.log("idoActiveDetail?.endsIn:",t?.endsIn);const n=s.useMemo(()=>[{key:"Price",value:`$${C(t?.price?t?.price:0)??0}`,tip:null},{key:"Total Raised",value:`${t?.totalRaised??"NA/NA"} ETH`,tip:"1"},{key:"Contributed",value:`${l?.contributed??"NA"}/${l?.maxContributed??"NA"} ETH`,tip:"1"}],[t,l]),a=s.useMemo(()=>l?l?.contributed>=l?.maxContributed:!0,[l]);return e.jsxs("div",{className:"imo_participate px-5 pt-9 pb-5",children:[e.jsx("div",{className:"head",children:e.jsx("h3",{className:"flex items-center gap-x-2 font-404px text-green text text-lg uppercase",children:"imo"})}),e.jsxs("div",{className:"content flex flex-col items-center",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("span",{className:"font-OCR text-sm text-white",children:"Ends in"}),e.jsx(H,{className:"imo_countdown flex gap-x-2 mt-5",format:([o,i,f,x])=>[e.jsxs("div",{children:[e.jsx("time",{children:o}),e.jsx("span",{children:"D"})]},"days"),e.jsxs("div",{children:[e.jsx("time",{children:i}),e.jsx("span",{children:"H"})]},"hours"),e.jsxs("div",{children:[e.jsx("time",{children:f}),e.jsx("span",{children:"H"})]},"minutes"),e.jsxs("div",{children:[e.jsx("time",{children:x}),e.jsx("span",{children:"S"})]},"seconds")],instant:(t?.endsIn??0)*1e3}),e.jsx("p",{className:"mt-3 text-white font-OCR leading-5 text-sm",children:"Fair Distribution Policy"}),e.jsx("p",{className:"text-deep-green text-center font-OCR leading-14 text-xs",children:"Wallet capped at 1% token supply per address."})]}),e.jsx("ul",{className:"mt-6 params_list flex flex-col gap-y-6 w-full",children:n.map(o=>e.jsxs("li",{className:"flex justify-between",children:[e.jsxs("label",{className:"text-white text-xs font-OCR leading-4 flex items-center gap-x-1.5",children:[o.key," ",o.tip&&e.jsx(X,{content:o.tip,children:e.jsx("img",{src:"/create/tip.png"})})]}),e.jsx("var",{className:"text-white text-lg font-OCR leading-5",children:o.value})]},o.key))}),e.jsx(ae,{children:e.jsx(D,{disabled:a,className:S("mt-5 uppercase w-full participate_btn h-12 font–404px",{}),children:"participate"})})]})]})},le=()=>{const{idoLaunchedDetail:t,idoQueueDetail:l}=s.useContext(I),n=s.useMemo(()=>[{key:"Market Cap",value:`$${C(t?.marketCap??0)}`,tip:null},{key:"Price",value:`$${C(t?.price??0)}`,tip:null},{key:"Total Raised",value:`${t?.totalRaised??"NA/NA"} ETH`,tip:"1"},{key:"Contributed",value:`${l?.contributed??"NA"}/${l?.maxContributed??"NA"} ETH`,tip:"1"}],[t,l]),a=s.useCallback(()=>{window.open("https://app.uniswap.org/","_blank")},[]);return e.jsxs("div",{className:"pubsale px-5 pt-9 pb-5",children:[e.jsx("div",{className:"head flex justify-center",children:e.jsx("img",{src:"/create/img-pubsale.png"})}),e.jsxs("div",{className:"content flex flex-col items-center",children:[e.jsx("ul",{className:"mt-6 params_list flex flex-col gap-y-6 w-full",children:n.map(o=>e.jsxs("li",{className:"flex justify-between",children:[e.jsxs("label",{className:"text-white text-xs font-OCR leading-4 flex items-center gap-x-1.5",children:[o.key," ",o.tip&&e.jsx(X,{content:o.tip,children:e.jsx("img",{src:"/create/tip.png"})})]}),e.jsx("var",{className:"text-white text-lg font-OCR leading-5",children:o.value})]},o.key))}),e.jsx(D,{className:S("mt-5 uppercase w-full pubsale_btn h-12 font–404px",{}),onClick:a,children:"Buy"})]})]})};le.displayName=le.name;const ne=()=>{const{stage:t,idoQueueDetail:l,idoLaunchedDetail:n,idoLaunchedDetailTop10:a}=s.useContext(I),o=s.useMemo(()=>t==="launch"?[{key:"IDO Date",value:U(l?.idoDate??0)},{key:"LP Lock",value:n?.tokenName,formatValue:i=>e.jsxs("div",{className:"flex items-center gap-x-2.5",children:[e.jsxs("div",{className:"flex ido_params_token items-center py-1.5 gap-x-1 px-5",children:[e.jsx("img",{src:n?.icon,className:"max-w-[27px]"}),e.jsx("span",{className:"font-OCR text-white text-sm",children:i})]}),e.jsx("span",{className:"text-white text-lg font-OCR leading-5",children:n?.lpLock?"Yes":"No"})]})},{key:"Liquidity",value:`$${n?.liquidity??0}`},{key:"FDV",value:`$${l?.fdv??0}`},{key:"24h Trading Vol",value:`$${n?.volume24H??0}`},{key:"1h",value:"+7%",formatValue:i=>e.jsx("span",{className:"text-green font-404px",children:i})},{key:"24h",value:"+86%",formatValue:i=>e.jsx("span",{className:"text-green font-404px",children:i})},{key:"Max Supply",value:`$${l?.totalSupply??0}`},{key:"All Time High",value:`$${C(n?.allTimeHigh??0)??0}`,formatValue:i=>e.jsxs("div",{className:"flex flex-col items-end",children:[e.jsx("span",{className:"text-white text-lg font-OCR leading-5",children:i}),e.jsxs("div",{className:"flex items-center gap-x-2",children:[e.jsx("time",{className:"font-OCR text-xs text-bluish-purple-light",children:U(n?.allTimeHighTime??0)}),e.jsx("span",{className:"font-OCR text-xs text-red",children:n?.allTimeHighTimeIncrease})]})]})},{key:"All Time Low",value:`$${C(n?.allTimeLow??0)??0}`,formatValue:i=>e.jsxs("div",{className:"flex flex-col items-end",children:[e.jsx("span",{className:"text-white text-lg font-OCR leading-5",children:i}),e.jsxs("div",{className:"flex items-center gap-x-2",children:[e.jsx("time",{className:"font-OCR text-xs text-bluish-purple-light",children:U(n?.allTimeLowTime??0)}),e.jsx("span",{className:"font-OCR text-xs text-green",children:n?.allTimeLowIncrease})]})]})},{key:"Holders",value:n?.holders??0}]:[{key:"IDO Date",value:U(l?.idoDate??0)},{key:"FDV",value:`$${Number(l?.fdv??0).toLocaleString()}`},{key:"Max Supply",value:`$${Number(l?.totalSupply??0).toLocaleString()}`}],[t,l,n]);return e.jsxs("div",{className:"ido_detail flex-auto px-5 pt-9 pb-5",children:[e.jsx("ul",{className:"data_list flex flex-col gap-y-6 w-full",children:o.map(i=>e.jsxs("li",{className:"flex justify-between",children:[e.jsx("label",{className:"text-bluish-purple-light text-sm font-OCR leading-4 flex items-center gap-x-1.5",children:i.key}),i.formatValue?i.formatValue(i.value??""):e.jsx("var",{className:"text-white text-lg font-OCR leading-5",children:i.value})]},i.key))}),e.jsx("div",{className:"divider h-px w-full bg-bluish-purple my-8"}),a.length>0&&e.jsxs("div",{className:"top10_holders",children:[e.jsx("h3",{className:"font-404px text-lg leading-5 text-green",children:"Top 10 Token Holders"}),e.jsx("ul",{className:"holders_list mt-5 flex flex-col",children:a.map((i,f)=>e.jsxs("li",{className:"flex items-center justify-between",children:[e.jsxs("label",{className:"text-sm font-OCR text-white",children:[f+1,".",Ne(i.address)]}),e.jsx("var",{className:"text-sm font-OCR text-white",children:i.proportion})]},i.address))})]})]})};ne.displayName=ne.name;const ie=()=>{const{idoQueueDetail:t}=s.useContext(I);return e.jsxs("div",{className:"banner w-full relative",children:[e.jsx("img",{className:"w-full min-h-[200px] object-cover max-h-[307px]",src:t?.banners?.[0]}),e.jsx("img",{className:"w-[131px] h-[131px] rounded-[50%] absolute bottom-0 left-5 translate-y-1/2",src:t?.icon})]})};ie.displayName=ie.name;const oe=()=>{const{idoQueueDetail:t}=s.useContext(I),l=s.useMemo(()=>[{key:"Name",value:t?.tokenName},{key:"Ticker",value:t?.ticker},{key:"Contract Address",value:t?.contractAddress||"NA"},{key:"LP Contract",value:t?.lpContractAddress||"NA"},{key:"Tools",value:"",formatKey:a=>e.jsx("label",{className:"col-span-3 text-bluish-purple-light text-sm font-OCR leading-4 flex gap-x-1.5 h-8 flex items-center",children:a}),formatValue:a=>e.jsx("ul",{className:"token_list flex flex-wrap col-span-6 gap-y-1.5 gap-x-1",children:[{name:"De.Fi Scanner",icon:"/create/icon-tool-defi-scanner.png"},{name:"DEX Screener",icon:"/create/icon-tool-dex-screener.png"},{name:"Bubblemaps",icon:"/create/icon-tool-bubble-maps.png"},{name:"GeckoTerminal",icon:"/create/icon-tool-gecko-terminal.png"}].map(o=>e.jsxs("li",{className:"flex items-center gap-x-1.5 h-8",children:[e.jsx("img",{className:"w-5 object-contain",src:o.icon})," ",o.name]},o.name))})}],[t]),n=s.useMemo(()=>[{key:"Project Website",value:"",formatValue:a=>e.jsx("ul",{className:`${t?.website?"token_list":""}flex flex-wrap col-span-6 gap-y-1.5 gap-x-1`,children:t?.website&&e.jsx("li",{className:"h-8 cursor-pointer",children:e.jsx("a",{href:t?.website,target:"_blank",className:"flex items-center gap-x-1.5",children:Te(t?.website??"")})})})},{key:`Project’s
Social Account`,value:"",formatValue:a=>e.jsxs("ul",{className:"token_list flex flex-wrap col-span-6 gap-y-1.5 gap-x-1",children:[t?.twitter&&e.jsx("li",{className:"h-8",children:e.jsxs("a",{href:`https://x.com/${t?.twitter}`,target:"_blank",className:"flex items-center gap-x-1.5",children:[e.jsx("img",{className:"w-5 object-contain",src:"/create/social-twitter.png"})," ",t?.twitter??""]})}),t?.telegram&&e.jsx("li",{className:"h-8",children:e.jsxs("a",{href:`https://t.me/${t?.telegram}`,target:"_blank",className:"flex items-center gap-x-1.5",children:[e.jsx("img",{className:"w-5 object-contain",src:"/create/social-tg.png"})," ",t?.telegram??""]})})]})},{key:"Created By",value:"",formatKey:a=>e.jsx("label",{className:"col-span-3 text-bluish-purple-light text-sm font-OCR leading-4 flex gap-x-1.5 h-8 flex items-center mt-10",children:a}),formatValue:a=>e.jsx("ul",{className:"token_list flex flex-wrap col-span-6 gap-y-1.5 gap-x-1 mt-10",onClick:()=>{Oe(t?.creatorAddress?t?.creatorAddress:"")},children:t?.creatorAddress&&e.jsxs("li",{className:"flex items-center gap-x-1.5 h-8",children:[Ne(t?.creatorAddress??"")," ",e.jsx("a",{className:"cursor-pointer",children:e.jsx("img",{className:"w-2.5 object-contain",src:"/create/icon-copy.png"})})]})})},{key:`Creator’s
Social Account`,value:"",formatValue:a=>e.jsx("ul",{className:"token_list flex flex-wrap col-span-6 gap-y-1.5 gap-x-1",children:t?.creatorTwitter&&e.jsx("li",{className:"flex items-center gap-x-1.5 h-8",children:e.jsxs("a",{href:`https://x.com/${t?.creatorTwitter}`,target:"_blank",className:"flex items-center gap-x-1.5",children:[e.jsx("img",{className:"w-5 object-contain",src:"/create/social-twitter.png"})," ",t?.creatorTwitter]})})})}],[t]);return e.jsxs("div",{className:"profile relative pt-20",children:[e.jsx("ul",{className:"relationship_fracture absolute flex gap-x-2.5 top-5 right-5",children:e.jsx("li",{children:e.jsx("img",{className:"w-10 h-10 object-cover",src:"/create/icon-share.png"})})}),e.jsxs("div",{className:"head",children:[e.jsxs("h1",{className:"font-404px text-white leading-7 text-3xl",children:[t?.tokenName," ",e.jsx("span",{className:"text-green text-base ml-1",children:t?.ticker})]}),e.jsxs("time",{className:"mt-2 block font-OCR text-bluish-purple-light text-sm",children:["Created ",U(t?.createdAt??0)]}),e.jsx("p",{className:"mt-2 font-OCR text-white text-sm leading-5 max-w-2xl",children:t?.description})]}),e.jsxs("div",{className:"content",children:[e.jsx("ul",{className:"basic_list mt-14 flex flex-col gap-y-6",children:l.map(a=>e.jsxs("li",{className:"grid grid-cols-12",children:[a.formatKey?a.formatKey(a.key):e.jsx("label",{className:"col-span-3 text-bluish-purple-light text-sm font-OCR leading-4 flex items-center gap-x-1.5",children:a.key}),a.formatValue?a.formatValue(a.value):e.jsx("var",{className:"col-span-6 text-white text-lg font-OCR leading-5",children:a.value})]},a.key))}),e.jsxs("div",{className:"soscial_info mt-16",children:[e.jsx("h1",{className:"font-404px text-lg text-green leading-5",children:"Social Info"}),e.jsx("ul",{className:"mt-6 flex flex-col gap-y-1.5",children:n.map(a=>e.jsxs("li",{className:"grid grid-cols-12",children:[a.formatKey?a.formatKey(a.key):e.jsx("label",{className:"col-span-3 text-bluish-purple-light text-sm font-OCR leading-4 flex h-8 gap-x-1.5 flex items-center whitespace-pre-wrap",children:a.key}),a.formatValue?a.formatValue(a.value):e.jsx("var",{className:"col-span-6 text-white text-lg font-OCR leading-5",children:a.value})]},a.key))})]})]})]})};oe.displayName=oe.name;const re=({children:t,maxIncrease:l,maxProportion:n,firstProportion:a,firstIncrease:o,onCalculated:i})=>{const[f,x]=s.useState(!1),[c,p]=s.useState(!1),[m,N]=s.useState(!1),[w,r]=s.useState(0),[g,j]=s.useState(0),{idoBuy:h,idoQueueDetail:b}=s.useContext(I);s.useEffect(()=>{r(a*100)},[a]),s.useEffect(()=>{const u=w/100,T=parseFloat(C(o*(u/a)));console.log("increasing proportion:",T),j(T),i?.(T)},[w,a,o]);const E=s.useCallback(async()=>{if(!(!h||!b))try{N(!0),await h(b.contractAddress,new O(g-o)),x(!1),B.success("Buy Successful")}catch(u){console.error(u),B.error("Buy Failed")}finally{N(!1)}},[h,b,g,o]);return e.jsxs(e.Fragment,{children:[e.jsx(W,{wrapClassName:"memoo_modal",title:"Increase Acquisition",open:f,onCancel:()=>x(!1),footer:null,destroyOnClose:!0,children:e.jsxs("div",{className:"increase_acquisition pt-[35px] flex flex-col",children:[e.jsxs("div",{className:"flex gap-x-[37px]",children:[e.jsxs("div",{className:"flex items-end",children:[e.jsx("span",{className:"whitespace-pre-wrap text-base font-OCR text-white leading-[18px]",children:`Pre-Market
Acquisition`}),e.jsx("div",{className:"tip_ico_wrapper h-[18px] flex items-center ml-[12px]",children:e.jsx("img",{className:"h-[12px] object-contain",src:"/create/tip.png"})})]}),e.jsxs("div",{className:"flex flex-auto items-center gap-x-3",children:[e.jsxs("span",{className:"whitespace-nowrap text-base font-OCR text-white leading-[16px]",children:[o," ETH"]}),e.jsx(Re,{className:"memoo_slider flex-auto",tooltip:{open:!0,rootClassName:"memoo_slider_tooltip",formatter:u=>`${u}%`},onChange:u=>r(u),max:n*100,min:a*100}),e.jsxs("span",{className:"whitespace-nowrap text-base font-OCR text-white leading-[16px]",children:[l," ETH"]})]})]}),e.jsx("p",{className:"font-OCR text-[#4889B7] whitespace-pre-wrap mt-[7px] mb-[19px]",children:`Creator can increase initial
allocation from ${a*100}% to ${n*100}%.`}),e.jsx(z,{className:"memoo_input h-[66px]",value:"Pre-Market Acquisition",suffix:e.jsx("span",{className:"text-[24px] text-white font-404px leading-[22px]",children:`${C(g-o)} ETH`})}),e.jsxs(ye,{className:"font-OCR text-[12px] text-[#4889B7] my-[24px]",onChange:u=>p(u.target.checked),children:["I accept MeMoo’s ",e.jsx("a",{className:"contents text-green",children:"Terms & Conditions."})]}),e.jsx(D,{disabled:!c,className:"memoo_button h-[50px]",loading:m,onClick:E,children:"Confirm"})]})}),s.Children.map(t,u=>s.isValidElement(u)?s.cloneElement(u,{onClick:()=>x(!0)}):u)]})};re.displayName=re.name;const J=({children:t,stage:l,lockinPeriod:n,tokens:a,unlockTokens:o,rate:i})=>{const[f,x]=s.useState(!1),{unlockMeme:c,idoQueueDetail:p}=s.useContext(I),[m,N]=s.useState(!1),w=s.useCallback(async()=>{if(!(!c||!p))try{N(!0),console.log("idoQueueDetail.contractAddress:",p.contractAddress),console.log(l==="1st"?0:1),await c(p.contractAddress,l==="1st"?0:1),x(!1),B.success("Unlock Successful")}catch(r){console.error(r),B.error("Unlock Failed")}finally{N(!1)}},[c,p]);return e.jsxs(e.Fragment,{children:[e.jsx(W,{className:"min-w-[604px]",wrapClassName:"memoo_modal",title:"Claim Tokens",open:f,onCancel:()=>x(!1),footer:null,destroyOnClose:!0,children:e.jsxs("div",{className:"claim_tokens flex flex-col",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("div",{className:"flex items-center gap-x-[15px]",children:[e.jsx("p",{className:"whitespace-pre font-OCR text-base leading-[18px] text-white",children:`Redeem ${l} ${i}%
unlocked tokens`}),e.jsx("img",{className:"w-[111px] object-contain",src:"/create/img-claim.png"})]}),e.jsxs("div",{className:"flex items-center gap-x-[14px]",children:[l==="1st"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col items-end",children:[e.jsx("span",{className:"font-404px text-white text-[24px] leading-[29px]",children:n}),e.jsx("span",{className:"font-OCR text-white text-base leading-[21px]",children:"Next Unlock"})]}),e.jsx("img",{className:"w-[50px]",src:"/create/icon-claim-unlock.png"})]}),l==="2nd"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col items-end",children:[e.jsx("span",{className:"font-404px text-white text-[24px] leading-[29px]",children:Number(o).toLocaleString()}),e.jsx("span",{className:"font-OCR text-white text-base leading-[21px]",children:"Claim Completed"})]}),e.jsx("img",{className:"w-[50px]",src:"/create/icon-claim-done.png"})]})]})]}),e.jsx(z,{disabled:!0,className:"memoo_input h-[66px]",placeholder:"Claimable LEASH",suffix:e.jsx("span",{className:"text-[24px] text-white font-404px leading-[22px]",children:Number(a).toLocaleString()})}),e.jsx(D,{loading:m,className:"memoo_button mt-[77px] h-[50px]",onClick:w,children:"Confirm"})]})}),s.Children.map(t,r=>s.isValidElement(r)?s.cloneElement(r,{onClick:()=>x(!0)}):r)]})};J.displayName=J.name;const ce=()=>{const{stage:t,idoQueueDetail:l,_2ndStage:n,_1stStage:a,memooConfig:o,defaultConfig:i,mine:f}=s.useContext(I),{address:x}=he(),c=s.useMemo(()=>Number(o?.allocation.creator)/1e4,[o]),p=s.useMemo(()=>Number(o?.idoCreatorBuyLimit)/1e4,[o]),m=s.useMemo(()=>{if(!o||!i)return 0;const r=new O(Number(i?.totalSupply)).dividedBy(10**i?.defaultDecimals),g=new O(Number(i?.idoPrice)).dividedBy(10**i?.defaultDecimals),j=r.multipliedBy(g).multipliedBy(c);return parseFloat(C(j))},[o,c,i]),N=s.useMemo(()=>parseFloat(C(m*(p/c))),[c,p,m]),w=[{key:"in-queue",icon:`/create/process-in-queue${t==="in-queue"?"-active":""}.svg`,title:"in queue",desc:`Complete tasks to be
eligible for airdrop`,onClick:()=>{},btnText:"increase",btnIcon:`/create/icon-increase${t==="in-queue"?"-active":""}.svg`,wrapper:r=>e.jsx(re,{maxIncrease:N,firstProportion:c,maxProportion:p,firstIncrease:m,children:r}),enabled:f&&["QUEUE","IDO"].includes(l?.status??"Draft")},{key:"imo",icon:`/create/process-imo${t==="imo"?"-active":""}.svg`,title:"imo",desc:`Get first access
before public sale`},{key:"launch",icon:`/create/process-launch${t==="launch"?"-active":""}.svg`,title:"launch",desc:`Token available
for public sale`},{key:"1st-claim",icon:e.jsxs("div",{className:"relative z-10",children:[e.jsx("img",{src:"/create/bg-1st-claim.png"}),e.jsx("img",{className:"absolute left-[53px] top-[37px]",src:`/create/process-claim${t==="1st-claim"?"-active":""}.svg`})]}),title:"1st claim",desc:`1st ${new O(Number(a?.unlockInfo?.unlockRate)).dividedBy(1e4).multipliedBy(100).toNumber()}% unlock when
token price hits 0.0005c`,onClick:()=>{},btnText:"claim",btnIcon:`/create/icon-claim${t==="1st-claim"?"-active":""}.svg`,wrapper:r=>e.jsx(J,{tokens:parseFloat(C(new O(a?.unlockCount??0).dividedBy(10**(i?.defaultDecimals??0)))),lockinPeriod:pe(Number(n?.unlockInfo?.value)/1e3),rate:new O(Number(a?.unlockInfo?.unlockRate)).dividedBy(1e4).multipliedBy(100).toNumber(),stage:"1st",children:r}),enabled:l?.stageOneClaim&&Number(a?.unlockCount)>0&&l?.status==="Launched"&&(x?[(l.contractAddress,l.creatorAddress)].some(r=>te(r,x)):!1)},{key:"2st-claim",icon:e.jsxs("div",{className:"relative z-10",children:[e.jsx("img",{src:"/create/bg-2st-claim.png"}),e.jsx("img",{className:"absolute left-[53px] top-[37px]",src:`/create/process-claim${t==="2st-claim"?"-active":""}.svg`})]}),title:"2st claim",desc:`Next ${new O(Number(n?.unlockInfo?.unlockRate)).dividedBy(1e4).multipliedBy(100).toNumber()}% unlocked
tokens in ${pe(Number(n?.unlockInfo?.value)*1e3)}`,onClick:()=>{},btnText:"claim",btnIcon:`/create/icon-claim${t==="2st-claim"?"-active":""}.svg`,wrapper:r=>e.jsx(J,{tokens:parseFloat(C(new O(n?.unlockCount??0).dividedBy(10**(i?.defaultDecimals??0)))),unlockTokens:parseFloat(C(Number(a?.unlockInfo?.value??0))),stage:"2nd",children:r}),enabled:l?.stageTwoClaim&&Number(n?.unlockCount)>0&&l?.status==="Launched"&&(x?[(l.contractAddress,l.creatorAddress)].some(r=>te(r,x)):!1)}];return e.jsx("ul",{className:"progress flex",children:w.map(r=>{const g=r.key===t;return e.jsxs("li",{className:S("flex max-w-[220px] flex-col items-center justify-end progress_list_item px-[18px]",{active:g}),children:[e.jsx("div",{className:S({active:g},"icon"),children:typeof r.icon=="string"?e.jsx("img",{src:r.icon}):r.icon}),e.jsx("h3",{className:S({"text-green":g},"text-lg font-404px leading-5 text-bluish-purple-light mt-[18px]"),children:r.title}),e.jsx("p",{className:"mt-1.5 font-OCR text-white leading-4 text-sm text-center break-keep whitespace-pre",children:r.desc}),r.wrapper?r.wrapper(e.jsx(D,{style:{visibility:r.btnText?"visible":"hidden"},className:"memoo_button reverse mt-[19px] px-[19px] h-[38px]",onClick:()=>r.onClick?.(),disabled:!r.enabled,children:e.jsx("div",{className:"flex items-center gap-x-1",children:e.jsx("span",{className:S("text-[10px] leading-5"),children:r.btnText})})})):e.jsx(D,{style:{visibility:r.btnText?"visible":"hidden"},className:"memoo_button reverse mt-[19px] px-[19px] h-[38px]",onClick:()=>r.onClick?.(),disabled:!r.enabled,children:e.jsx("div",{className:"flex items-center gap-x-1",children:e.jsx("span",{className:S("text-[10px] leading-5"),children:r.btnText})})})]},r.key)})})};ce.displayName=ce.name;var vt={VITE_PROJECT_ID:"12054aa070d1f1a41e3420b5d40b665d",VITE_APP_BASE:"/memoo-interface",VITE_ENV:"production",VITE_NODE_TYPE:"mainnet",VITE_EXPLORER_API:"https://explorer-api.zklink.io",VITE_EXPLORER_URL:"https://explorer.zklink.io",VITE_NODE_CHAIN_ID:"1123",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const ue=vt.VITE_TWITTER_FOLLOW_REDIRECT_URI,de=({children:t,ticker:l,onSaveSuccess:n})=>{const[a,o]=s.useState(!1),[i]=F.useForm();s.useState(!1);const[f,x]=s.useState(""),[c,p]=s.useState(""),[m,N]=s.useState(""),[w,r]=s.useState(!1),[g,j]=s.useState({}),[h]=me();s.useEffect(()=>{Pe(l).then(d=>{if(d?.data){console.log("TokenDetail: ",d?.data),j(d.data),p(d.data?.banners?d.data?.banners[0]:""),N(d.data.twitter),x(d.data.twitterAccessToken);let y={...d.data,banners:d.data?.oldBanners?d.data?.oldBanners:[],tokenIcon:d.data.icon,projectDescription:d.data.description};try{const v=JSON.parse(localStorage.getItem(q)??"");v&&(y.projectDescription=v.projectDescription,y.website=v.website,y.bannerUrl&&p(y.bannerUrl))}catch{}i.setFieldsValue(y)}})},[l]);const b=d=>{console.log("Received values of form: ",d)},E=(d,y)=>{console.log("onFieldsChange",d)},u=d=>Array.isArray(d)?d:d?.fileList,T=d=>{if(d)return Ae(d).then(y=>{i.setFieldValue("banners",[y.data.file]),p(y.data.fileUrl)}),!1};s.useEffect(()=>{(async()=>{const d=h.get("code"),y=h.get("state"),v=h.get("edit");let R=null;try{R=JSON.parse(localStorage.getItem(Q)??"")}catch{}if(R&&y==="twitter"&&d&&R&&v&&R.ticker===l){const k={code:d,grantType:"authorization_code",redirectUri:ue,codeVerifier:"challenge",refreshToken:"",appClientId:R.clientId??""};Be(k).then(P=>{const{access_token:A,twitter:_}=P.data;x(A),N(_)}),o(!0)}})()},[h]);const L=()=>{p("")},V=async()=>{const d=i.getFieldsValue();console.log("formData: ",d),d.bannerUrl=c,localStorage.setItem(q,JSON.stringify(d));let v=(await we()).data;const R={ticker:l,twitter:m,clientId:v};localStorage.setItem(Q,JSON.stringify(R)),je(v,ue)},M=async d=>{try{await i.validateFields();const y=i.getFieldsValue();y.twitter=m||"",y.accessToken=f||"",r(!0);const v=await $e({...y,ticker:l});o(!1),v?.code===200?(B.success("modify successfully!"),n(),o(!1)):B.warning("fail in keeping"),localStorage.removeItem(Q),localStorage.removeItem(q)}catch(y){console.log(y)}finally{r(!1)}};return s.useEffect(()=>{a||(localStorage.removeItem(Q),localStorage.removeItem(q))},[a]),e.jsxs(e.Fragment,{children:[e.jsxs(W,{className:"min-w-[717px] edit-project-modal",wrapClassName:"memoo_modal",title:e.jsxs("div",{className:"flex items-center gap-x-[13px]",children:[e.jsx("span",{className:"text-[24px] leading-6 font-404px edit-title",children:"Edit Info"}),e.jsx("img",{src:"/create/icon-edit-project-title.png"})]}),open:a,onCancel:()=>o(!1),footer:null,destroyOnClose:!0,children:[e.jsxs(F,{form:i,layout:"horizontal",disabled:!1,onFinish:b,onFieldsChange:E,className:"edit-project-modal-form h-[409px] overflow-auto mt-[56px]",children:[e.jsx(F.Item,{label:e.jsxs("p",{className:"flex items-end",children:[e.jsx("span",{className:"w-[113px] whitespace-normal",children:"Project Description "}),e.jsx("span",{children:"*"})]}),name:"projectDescription",rules:[{required:!0,message:"Please input Project Description!"}],children:e.jsx(z.TextArea,{showCount:!0,maxLength:450,placeholder:"",style:{height:165,resize:"none",borderRadius:"7px"},className:"text-[#fff] bg-[#2b526e]"})}),e.jsx(F.Item,{label:e.jsxs("p",{children:["Project Twitter ",e.jsx("span",{children:"*"})]}),children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{style:{width:"15px"},className:"mr-[7px]",children:e.jsx(nt,{hoverColor:"#07E993",className:""})}),m&&e.jsx("img",{src:"/create/icon-authed.svg"}),"(",e.jsx(Se,{variant:"secondary",className:"w-[136px] h-[32px]",onClick:V,children:m?"CHANGE":"CONNECT"})]})}),e.jsx(F.Item,{label:e.jsx("p",{children:"Project Banner"}),valuePropName:"bannerList",getValueFromEvent:u,name:"banners",children:c?e.jsxs("div",{className:"project-url-container",children:[e.jsx("img",{src:c,alt:""}),e.jsx("span",{className:"icon-url-actions",children:e.jsx(ot,{size:16,onClick:L})})]}):e.jsx(rt,{listType:"picture-card",accept:"image/*",maxCount:1,beforeUpload:d=>T(d),showUploadList:{showPreviewIcon:!0,showRemoveIcon:!1},style:{width:"100%",height:140},className:"edit-upload-banner",previewFile:d=>new Promise(y=>{const v=new FileReader;v.readAsDataURL(d),v.onload=()=>{y(v.result)}}),children:e.jsx("button",{style:{border:0,background:"none"},type:"button",children:e.jsxs("div",{style:{marginTop:8},className:"flex flex-col jusity-center items-center",children:[e.jsx(it,{className:""}),e.jsx("p",{className:"font-OCR text-[10px] text-green leading-4 text-center w-[158px] mt-[10px]",children:"Recommended 790px X 307px Max size: 50MB"})]})})})}),e.jsx(F.Item,{label:e.jsx("p",{className:"edit-form-label",children:"Website"}),name:"website",children:e.jsx(z,{maxLength:20,className:"custom-input"})})]}),e.jsx("div",{className:"edit_project flex flex-col",children:e.jsx(D,{className:"memoo_button mt-4 h-[50px]",onClick:()=>M(),loading:w,children:"Save"})})]}),s.Children.map(t,d=>s.isValidElement(d)?s.cloneElement(d,{onClick:()=>o(!0)}):d)]})};de.displayName=de.name;var Ct={VITE_PROJECT_ID:"12054aa070d1f1a41e3420b5d40b665d",VITE_APP_BASE:"/memoo-interface",VITE_ENV:"production",VITE_NODE_TYPE:"mainnet",VITE_EXPLORER_API:"https://explorer-api.zklink.io",VITE_EXPLORER_URL:"https://explorer.zklink.io",VITE_NODE_CHAIN_ID:"1123",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const I=s.createContext({stage:"in-queue",mine:!1,ticker:"",idoLaunchedDetailTop10:[]}),fe=()=>{const[t,l]=s.useState("in-queue"),[n,a]=s.useState(),[o,i]=s.useState(),[f,x]=s.useState([]),[c,p]=s.useState(),{ticker:m=Ct.VITE_DEMO_TICKER}=ke(),[N,w]=s.useState(0),{address:r}=he();console.log("my-address:",r);const[g,j]=s.useState(!1);me();const[h,b]=s.useState(),[E,u]=s.useState(),{config:T,idoBuy:L,unlockMeme:V,defaultConfig:M,airdropClaim:d,getCanUnlockCount:y,memeUnlockPeriods:v}=Le(),R=_e(),k=s.useMemo(()=>te(c?.creatorAddress,r),[c,r]);console.log("idoQueueDetail: ",c,r);const P=s.useCallback(()=>{w(_=>_+1)},[]),A=s.useMemo(()=>({stage:t,idoActiveDetail:n,idoLaunchedDetail:o,idoLaunchedDetailTop10:f,idoQueueDetail:c,mine:k,ticker:m,memooConfig:T,idoBuy:L,unlockMeme:V,airdropClaim:d,_1stStage:h,_2ndStage:E,defaultConfig:M,triggerRefresh:P}),[t,n,o,f,c,k,m,T,L,V,d,h,E,M,P]);return s.useEffect(()=>{(async()=>{try{j(!0);const{data:_}=await Fe(m);if(p(_),_.stageTwoClaim)l("2st-claim");else if(_.stageOneClaim)l("1st-claim");else if(_.status==="Launched"){const[$,Ce]=await Promise.all([Ue(m),ze({pageNumber:1,pageSize:10,ticker:m})]);i($.data),x(Ce.data),l("launch")}else if(_.status==="IDO"){const{data:$}=await He(m);a($),l("imo")}else l("in-queue")}catch(_){console.error(_)}finally{j(!1)}})()},[N]),s.useEffect(()=>{!c||!r||(async()=>{{const[_,$]=await Promise.all([y(c.contractAddress,r,0),v(0)]);console.log("1st stage",_,$),b({unlockCount:_,unlockInfo:$})}{const[_,$]=await Promise.all([y(c.contractAddress,r,1),v(1)]);console.log("2nd stage",_,$),u({unlockCount:_,unlockInfo:$})}})()},[c,r,v]),e.jsxs("div",{className:"airdrop pb-16",children:[e.jsx(be,{spinning:g,fullscreen:!0}),e.jsx("div",{className:"col-span-full	flex flex-col items-center pt-[70px]",children:e.jsx(I.Provider,{value:A,children:e.jsx(ce,{})})}),e.jsxs("div",{className:"col-span-full pt-[70px] pb-[22px] pl-[428px] flex items-center justify-between",children:[e.jsx(de,{ticker:m,onSaveSuccess:P,children:e.jsxs(D,{type:"link",className:"flex items-center h-[40px] gap-x-[11px]",disabled:!k,children:[e.jsx("img",{src:"/create/icon-edit.svg"}),e.jsx("span",{className:"text-bluish-purple-light font-OCR leading-5 text-sm",children:"Edit Info"})]})}),e.jsxs(D,{type:"link",className:"flex items-center h-[40px] gap-x-[11px]",onClick:()=>R("/dashboard"),children:[e.jsx("span",{className:"text-bluish-purple-light font-OCR leading-5 text-sm",children:"Back to Dashboard"}),e.jsx("img",{src:"/create/icon-dashboard.svg"})]})]}),e.jsx("div",{className:"airdrop_left flex flex-col gap-y-3.5",children:e.jsxs(I.Provider,{value:A,children:[c?.status==="Launched"&&e.jsx(le,{}),t==="imo"&&e.jsx(bt,{}),e.jsx(yt,{}),e.jsx(ne,{})]})}),e.jsx("div",{className:"airdrop_right flex flex-col",children:e.jsxs(I.Provider,{value:A,children:[e.jsx(ie,{}),e.jsx(oe,{})]})})]})};fe.displayName=fe.name;export{I as AirdropContext,fe as default};
