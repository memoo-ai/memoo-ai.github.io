import{e as dc,f as hc,h as pc,i as mt,k as gc,z as mc,s as wc,l as yc,R as bc,m as Ac,j as v,b as $r,n as vc,C as Ec,o as Cc,p as We,q as xc,t as Pc,v as Nc}from"./rainbowkit-C9N2GG6a.js";import{r as u,i as Lr,u as Rc,e as Sc,L as Ic,N as Oc,g as kc,O as Tc}from"./react-Dusg2Zfy.js";import{w as Mc,x as Dc,y as Bc,z as Fc,A as $c,I as Lc,a as Do,b as Bo}from"./index-DwyT6Rdz.js";import{M as Ur,h as Uc,p as Gc}from"./index-DRKENfBg.js";import{d as ie,b as Ae,h as me,_ as P,a1 as Fo,a2 as $o,e as Gr,g as Lo,$ as _c,a3 as Uo,a4 as Qc,a5 as Hc,a6 as Go,a7 as _o,f as Qo,c as re,a8 as Vc,a9 as Ho,aa as Dn}from"./index-BuFNKZGi.js";import{$ as D,a as ze,b as zc,c as Vo,d as Jc,e as Kc,f as Cn,g as zo}from"./index-DFsrqksJ.js";import{I as jc}from"./index-CyCYjTZL.js";import{f as U,t as Jo,d as S,b as g,c as b,i as N,j as ae,k as Wc,l as Z,g as $,n as pe,o as At,a as Bn,e as x,p as H,z as nt,q as Ve,r as j,s as Ko,u as ce,m as Bt,v as jo,h as Yc,w as yt,x as q,y as Xc,A as oe,B as _r}from"./maths-CNprVtit.js";function Zc(n,e=globalThis?.document){const t=ie(n);u.useEffect(()=>{const r=s=>{s.key==="Escape"&&t(s)};return e.addEventListener("keydown",r),()=>e.removeEventListener("keydown",r)},[t,e])}const wr="dismissableLayer.update",qc="dismissableLayer.pointerDownOutside",el="dismissableLayer.focusOutside";let ps;const tl=u.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),nl=u.forwardRef((n,e)=>{var t;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:i,onInteractOutside:a,onDismiss:c,...l}=n,f=u.useContext(tl),[d,h]=u.useState(null),p=(t=d?.ownerDocument)!==null&&t!==void 0?t:globalThis?.document,[,w]=u.useState({}),m=Ae(e,O=>h(O)),y=Array.from(f.layers),[A]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),C=y.indexOf(A),R=d?y.indexOf(d):-1,T=f.layersWithOutsidePointerEventsDisabled.size>0,M=R>=C,J=rl(O=>{const k=O.target,V=[...f.branches].some(ve=>ve.contains(k));!M||V||(o?.(O),a?.(O),O.defaultPrevented||c?.())},p),K=sl(O=>{const k=O.target;[...f.branches].some(ve=>ve.contains(k))||(i?.(O),a?.(O),O.defaultPrevented||c?.())},p);return Zc(O=>{R===f.layers.size-1&&(s?.(O),!O.defaultPrevented&&c&&(O.preventDefault(),c()))},p),u.useEffect(()=>{if(d)return r&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(ps=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(d)),f.layers.add(d),gs(),()=>{r&&f.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=ps)}},[d,p,r,f]),u.useEffect(()=>()=>{d&&(f.layers.delete(d),f.layersWithOutsidePointerEventsDisabled.delete(d),gs())},[d,f]),u.useEffect(()=>{const O=()=>w({});return document.addEventListener(wr,O),()=>document.removeEventListener(wr,O)},[]),u.createElement(me.div,P({},l,{ref:m,style:{pointerEvents:T?M?"auto":"none":void 0,...n.style},onFocusCapture:D(n.onFocusCapture,K.onFocusCapture),onBlurCapture:D(n.onBlurCapture,K.onBlurCapture),onPointerDownCapture:D(n.onPointerDownCapture,J.onPointerDownCapture)}))});function rl(n,e=globalThis?.document){const t=ie(n),r=u.useRef(!1),s=u.useRef(()=>{});return u.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let l=function(){Wo(qc,t,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},i=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),e.removeEventListener("pointerdown",o),e.removeEventListener("click",s.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function sl(n,e=globalThis?.document){const t=ie(n),r=u.useRef(!1);return u.useEffect(()=>{const s=o=>{o.target&&!r.current&&Wo(el,t,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function gs(){const n=new CustomEvent(wr);document.dispatchEvent(n)}function Wo(n,e,t,{discrete:r}){const s=t.originalEvent.target,o=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&s.addEventListener(n,e,{once:!0}),r?Fo(s,o):s.dispatchEvent(o)}const ol=u.forwardRef((n,e)=>{var t;const{container:r=globalThis==null||(t=globalThis.document)===null||t===void 0?void 0:t.body,...s}=n;return r?Lr.createPortal(u.createElement(me.div,P({},s,{ref:e})),r):null}),Qr={type:"enum",values:$o.accentColor.values,default:void 0},Yo={type:"boolean",default:void 0};function Ee(n,e="",t){var r,s,o,i;const a=[];if(typeof n=="object"){for(const c of Object.keys(n))if(c in n){const l=(r=n[c])===null||r===void 0?void 0:r.toString(),f=l?.startsWith("-"),d=e===""?"":"-",h=f?`-${e}`:e,p=f?l?.substring(1):l;if(p===void 0)continue;const w=(s=void 0)!==null&&s!==void 0?s:p,m=c==="initial"?`${h}${d}${w}`:`${c}:${h}${d}${w}`;a.push(m)}}if(typeof n=="string"){const c=n.startsWith("-"),l=e===""?"":"-",f=c?`-${e}`:e,d=c?n.substring(1):n,h=(o=void 0)!==null&&o!==void 0?o:d;a.push(`${f}${l}${h}`)}if(typeof n=="boolean"){const c=e===""?"":"-",l=n.toString(),f=(i=void 0)!==null&&i!==void 0?i:l;a.push(`${e}${c}${f}`)}return a.join(" ")}const Ye=["auto","0","1","2","3","4","5","6","7","8","9","-1","-2","-3","-4","-5","-6","-7","-8","-9"],Xe={m:{type:"enum",values:Ye,default:void 0,responsive:!0},mx:{type:"enum",values:Ye,default:void 0,responsive:!0},my:{type:"enum",values:Ye,default:void 0,responsive:!0},mt:{type:"enum",values:Ye,default:void 0,responsive:!0},mr:{type:"enum",values:Ye,default:void 0,responsive:!0},mb:{type:"enum",values:Ye,default:void 0,responsive:!0},ml:{type:"enum",values:Ye,default:void 0,responsive:!0}};function Xo(n){const{m:e=Xe.m.default,mx:t=Xe.mx.default,my:r=Xe.my.default,mt:s=Xe.mt.default,mr:o=Xe.mr.default,mb:i=Xe.mb.default,ml:a=Xe.ml.default,...c}=n;return{m:e,mx:t,my:r,mt:s,mr:o,mb:i,ml:a,rest:c}}function Zo(n){return[Ee(n.m,"rt-r-m"),Ee(n.mx,"rt-r-mx"),Ee(n.my,"rt-r-my"),Ee(n.mt,"rt-r-mt"),Ee(n.mr,"rt-r-mr"),Ee(n.mb,"rt-r-mb"),Ee(n.ml,"rt-r-ml")].filter(Boolean).join(" ")}const qo={type:"enum",values:$o.radius.values,default:void 0},Hr=u.forwardRef(({color:n="currentColor",...e},t)=>u.createElement("svg",{width:"9",height:"9",viewBox:"0 0 9 9",fill:n,xmlns:"http://www.w3.org/2000/svg",...e,ref:t},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.53547 0.62293C8.88226 0.849446 8.97976 1.3142 8.75325 1.66099L4.5083 8.1599C4.38833 8.34356 4.19397 8.4655 3.9764 8.49358C3.75883 8.52167 3.53987 8.45309 3.3772 8.30591L0.616113 5.80777C0.308959 5.52987 0.285246 5.05559 0.563148 4.74844C0.84105 4.44128 1.31533 4.41757 1.62249 4.69547L3.73256 6.60459L7.49741 0.840706C7.72393 0.493916 8.18868 0.396414 8.53547 0.62293Z"})));Hr.displayName="ThickCheckIcon";const il=u.forwardRef(({color:n="currentColor",...e},t)=>u.createElement("svg",{width:"9",height:"9",viewBox:"0 0 9 9",fill:n,xmlns:"http://www.w3.org/2000/svg",...e,ref:t},u.createElement("path",{d:"M0.135232 3.15803C0.324102 2.95657 0.640521 2.94637 0.841971 3.13523L4.5 6.56464L8.158 3.13523C8.3595 2.94637 8.6759 2.95657 8.8648 3.15803C9.0536 3.35949 9.0434 3.67591 8.842 3.86477L4.84197 7.6148C4.64964 7.7951 4.35036 7.7951 4.15803 7.6148L0.158031 3.86477C-0.0434285 3.67591 -0.0536285 3.35949 0.135232 3.15803Z"})));il.displayName="ChevronDownIcon";const ei=u.forwardRef(({color:n="currentColor",...e},t)=>u.createElement("svg",{width:"9",height:"9",viewBox:"0 0 9 9",fill:n,xmlns:"http://www.w3.org/2000/svg",...e,ref:t},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.23826 0.201711C3.54108 -0.0809141 4.01567 -0.0645489 4.29829 0.238264L7.79829 3.98826C8.06724 4.27642 8.06724 4.72359 7.79829 5.01174L4.29829 8.76174C4.01567 9.06455 3.54108 9.08092 3.23826 8.79829C2.93545 8.51567 2.91909 8.04108 3.20171 7.73826L6.22409 4.5L3.20171 1.26174C2.91909 0.958928 2.93545 0.484337 3.23826 0.201711Z"})));ei.displayName="ThickChevronRightIcon";const al=u.forwardRef(({color:n="currentColor",...e},t)=>u.createElement("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t},u.createElement("path",{d:"M7.49991 0.876892C3.84222 0.876892 0.877075 3.84204 0.877075 7.49972C0.877075 11.1574 3.84222 14.1226 7.49991 14.1226C11.1576 14.1226 14.1227 11.1574 14.1227 7.49972C14.1227 3.84204 11.1576 0.876892 7.49991 0.876892ZM1.82707 7.49972C1.82707 4.36671 4.36689 1.82689 7.49991 1.82689C10.6329 1.82689 13.1727 4.36671 13.1727 7.49972C13.1727 10.6327 10.6329 13.1726 7.49991 13.1726C4.36689 13.1726 1.82707 10.6327 1.82707 7.49972ZM8.24992 4.49999C8.24992 4.9142 7.91413 5.24999 7.49992 5.24999C7.08571 5.24999 6.74992 4.9142 6.74992 4.49999C6.74992 4.08577 7.08571 3.74999 7.49992 3.74999C7.91413 3.74999 8.24992 4.08577 8.24992 4.49999ZM6.00003 5.99999H6.50003H7.50003C7.77618 5.99999 8.00003 6.22384 8.00003 6.49999V9.99999H8.50003H9.00003V11H8.50003H7.50003H6.50003H6.00003V9.99999H6.50003H7.00003V6.99999H6.50003H6.00003V5.99999Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"})));al.displayName="InfoCircledIcon";function cl(n,[e,t]){return Math.min(t,Math.max(e,n))}let qn=0;function ll(){u.useEffect(()=>{var n,e;const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(n=t[0])!==null&&n!==void 0?n:ms()),document.body.insertAdjacentElement("beforeend",(e=t[1])!==null&&e!==void 0?e:ms()),qn++,()=>{qn===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),qn--}},[])}function ms(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",n}const er="focusScope.autoFocusOnMount",tr="focusScope.autoFocusOnUnmount",ws={bubbles:!1,cancelable:!0},ul=u.forwardRef((n,e)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=n,[a,c]=u.useState(null),l=ie(s),f=ie(o),d=u.useRef(null),h=Ae(e,m=>c(m)),p=u.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;u.useEffect(()=>{if(r){let m=function(R){if(p.paused||!a)return;const T=R.target;a.contains(T)?d.current=T:Qe(d.current,{select:!0})},y=function(R){if(p.paused||!a)return;const T=R.relatedTarget;T!==null&&(a.contains(T)||Qe(d.current,{select:!0}))},A=function(R){if(document.activeElement===document.body)for(const M of R)M.removedNodes.length>0&&Qe(a)};document.addEventListener("focusin",m),document.addEventListener("focusout",y);const C=new MutationObserver(A);return a&&C.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",y),C.disconnect()}}},[r,a,p.paused]),u.useEffect(()=>{if(a){bs.add(p);const m=document.activeElement;if(!a.contains(m)){const A=new CustomEvent(er,ws);a.addEventListener(er,l),a.dispatchEvent(A),A.defaultPrevented||(fl(ml(ti(a)),{select:!0}),document.activeElement===m&&Qe(a))}return()=>{a.removeEventListener(er,l),setTimeout(()=>{const A=new CustomEvent(tr,ws);a.addEventListener(tr,f),a.dispatchEvent(A),A.defaultPrevented||Qe(m??document.body,{select:!0}),a.removeEventListener(tr,f),bs.remove(p)},0)}}},[a,l,f,p]);const w=u.useCallback(m=>{if(!t&&!r||p.paused)return;const y=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,A=document.activeElement;if(y&&A){const C=m.currentTarget,[R,T]=dl(C);R&&T?!m.shiftKey&&A===T?(m.preventDefault(),t&&Qe(R,{select:!0})):m.shiftKey&&A===R&&(m.preventDefault(),t&&Qe(T,{select:!0})):A===C&&m.preventDefault()}},[t,r,p.paused]);return u.createElement(me.div,P({tabIndex:-1},i,{ref:h,onKeyDown:w}))});function fl(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if(Qe(r,{select:e}),document.activeElement!==t)return}function dl(n){const e=ti(n),t=ys(e,n),r=ys(e.reverse(),n);return[t,r]}function ti(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function ys(n,e){for(const t of n)if(!hl(t,{upTo:e}))return t}function hl(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function pl(n){return n instanceof HTMLInputElement&&"select"in n}function Qe(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&pl(n)&&e&&n.select()}}const bs=gl();function gl(){let n=[];return{add(e){const t=n[0];e!==t&&t?.pause(),n=As(n,e),n.unshift(e)},remove(e){var t;n=As(n,e),(t=n[0])===null||t===void 0||t.resume()}}}function As(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function ml(n){return n.filter(e=>e.tagName!=="A")}var wl=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},ut=new WeakMap,sn=new WeakMap,on={},nr=0,ni=function(n){return n&&(n.host||ni(n.parentNode))},yl=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=ni(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},bl=function(n,e,t,r){var s=yl(e,Array.isArray(n)?n:[n]);on[t]||(on[t]=new WeakMap);var o=on[t],i=[],a=new Set,c=new Set(s),l=function(d){!d||a.has(d)||(a.add(d),l(d.parentNode))};s.forEach(l);var f=function(d){!d||c.has(d)||Array.prototype.forEach.call(d.children,function(h){if(a.has(h))f(h);else try{var p=h.getAttribute(r),w=p!==null&&p!=="false",m=(ut.get(h)||0)+1,y=(o.get(h)||0)+1;ut.set(h,m),o.set(h,y),i.push(h),m===1&&w&&sn.set(h,!0),y===1&&h.setAttribute(t,"true"),w||h.setAttribute(r,"true")}catch(A){console.error("aria-hidden: cannot operate on ",h,A)}})};return f(e),a.clear(),nr++,function(){i.forEach(function(d){var h=ut.get(d)-1,p=o.get(d)-1;ut.set(d,h),o.set(d,p),h||(sn.has(d)||d.removeAttribute(r),sn.delete(d)),p||d.removeAttribute(t)}),nr--,nr||(ut=new WeakMap,ut=new WeakMap,sn=new WeakMap,on={})}},Al=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),s=wl(n);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),bl(r,s,t,"aria-hidden")):function(){return null}},ri=dc(),rr=function(){},Fn=u.forwardRef(function(n,e){var t=u.useRef(null),r=u.useState({onScrollCapture:rr,onWheelCapture:rr,onTouchMoveCapture:rr}),s=r[0],o=r[1],i=n.forwardProps,a=n.children,c=n.className,l=n.removeScrollBar,f=n.enabled,d=n.shards,h=n.sideCar,p=n.noIsolation,w=n.inert,m=n.allowPinchZoom,y=n.as,A=y===void 0?"div":y,C=hc(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),R=h,T=pc([t,e]),M=mt(mt({},C),s);return u.createElement(u.Fragment,null,f&&u.createElement(R,{sideCar:ri,removeScrollBar:l,shards:d,noIsolation:p,inert:w,setCallbacks:o,allowPinchZoom:!!m,lockRef:t}),i?u.cloneElement(u.Children.only(a),mt(mt({},M),{ref:T})):u.createElement(A,mt({},M,{className:c,ref:T}),a))});Fn.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Fn.classNames={fullWidth:gc,zeroRight:mc};var yr=!1;if(typeof window<"u")try{var an=Object.defineProperty({},"passive",{get:function(){return yr=!0,!0}});window.addEventListener("test",an,an),window.removeEventListener("test",an,an)}catch{yr=!1}var ft=yr?{passive:!1}:!1,vl=function(n){return n.tagName==="TEXTAREA"},si=function(n,e){var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!vl(n)&&t[e]==="visible")},El=function(n){return si(n,"overflowY")},Cl=function(n){return si(n,"overflowX")},vs=function(n,e){var t=e;do{typeof ShadowRoot<"u"&&t instanceof ShadowRoot&&(t=t.host);var r=oi(n,t);if(r){var s=ii(n,t),o=s[1],i=s[2];if(o>i)return!0}t=t.parentNode}while(t&&t!==document.body);return!1},xl=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},Pl=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},oi=function(n,e){return n==="v"?El(e):Cl(e)},ii=function(n,e){return n==="v"?xl(e):Pl(e)},Nl=function(n,e){return n==="h"&&e==="rtl"?-1:1},Rl=function(n,e,t,r,s){var o=Nl(n,window.getComputedStyle(e).direction),i=o*r,a=t.target,c=e.contains(a),l=!1,f=i>0,d=0,h=0;do{var p=ii(n,a),w=p[0],m=p[1],y=p[2],A=m-y-o*w;(w||A)&&oi(n,a)&&(d+=A,h+=w),a=a.parentNode}while(!c&&a!==document.body||c&&(e.contains(a)||e===a));return(f&&(d===0||!s)||!f&&(h===0||!s))&&(l=!0),l},cn=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},Es=function(n){return[n.deltaX,n.deltaY]},Cs=function(n){return n&&"current"in n?n.current:n},Sl=function(n,e){return n[0]===e[0]&&n[1]===e[1]},Il=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},Ol=0,dt=[];function kl(n){var e=u.useRef([]),t=u.useRef([0,0]),r=u.useRef(),s=u.useState(Ol++)[0],o=u.useState(function(){return wc()})[0],i=u.useRef(n);u.useEffect(function(){i.current=n},[n]),u.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(s));var m=yc([n.lockRef.current],(n.shards||[]).map(Cs),!0).filter(Boolean);return m.forEach(function(y){return y.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),m.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(s))})}}},[n.inert,n.lockRef.current,n.shards]);var a=u.useCallback(function(m,y){if("touches"in m&&m.touches.length===2)return!i.current.allowPinchZoom;var A=cn(m),C=t.current,R="deltaX"in m?m.deltaX:C[0]-A[0],T="deltaY"in m?m.deltaY:C[1]-A[1],M,J=m.target,K=Math.abs(R)>Math.abs(T)?"h":"v";if("touches"in m&&K==="h"&&J.type==="range")return!1;var O=vs(K,J);if(!O)return!0;if(O?M=K:(M=K==="v"?"h":"v",O=vs(K,J)),!O)return!1;if(!r.current&&"changedTouches"in m&&(R||T)&&(r.current=M),!M)return!0;var k=r.current||M;return Rl(k,y,m,k==="h"?R:T,!0)},[]),c=u.useCallback(function(m){var y=m;if(!(!dt.length||dt[dt.length-1]!==o)){var A="deltaY"in y?Es(y):cn(y),C=e.current.filter(function(M){return M.name===y.type&&M.target===y.target&&Sl(M.delta,A)})[0];if(C&&C.should){y.cancelable&&y.preventDefault();return}if(!C){var R=(i.current.shards||[]).map(Cs).filter(Boolean).filter(function(M){return M.contains(y.target)}),T=R.length>0?a(y,R[0]):!i.current.noIsolation;T&&y.cancelable&&y.preventDefault()}}},[]),l=u.useCallback(function(m,y,A,C){var R={name:m,delta:y,target:A,should:C};e.current.push(R),setTimeout(function(){e.current=e.current.filter(function(T){return T!==R})},1)},[]),f=u.useCallback(function(m){t.current=cn(m),r.current=void 0},[]),d=u.useCallback(function(m){l(m.type,Es(m),m.target,a(m,n.lockRef.current))},[]),h=u.useCallback(function(m){l(m.type,cn(m),m.target,a(m,n.lockRef.current))},[]);u.useEffect(function(){return dt.push(o),n.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",c,ft),document.addEventListener("touchmove",c,ft),document.addEventListener("touchstart",f,ft),function(){dt=dt.filter(function(m){return m!==o}),document.removeEventListener("wheel",c,ft),document.removeEventListener("touchmove",c,ft),document.removeEventListener("touchstart",f,ft)}},[]);var p=n.removeScrollBar,w=n.inert;return u.createElement(u.Fragment,null,w?u.createElement(o,{styles:Il(s)}):null,p?u.createElement(bc,{gapMode:"margin"}):null)}const Tl=Ac(ri,kl);var ai=u.forwardRef(function(n,e){return u.createElement(Fn,mt({},n,{ref:e,sideCar:Tl}))});ai.classNames=Fn.classNames;function Ml(n,e){return u.useReducer((t,r)=>{const s=e[t][r];return s??t},n)}const ci="ScrollArea",[li,Ag]=Gr(ci),[Dl,xe]=li(ci),Bl=u.forwardRef((n,e)=>{const{__scopeScrollArea:t,type:r="hover",dir:s,scrollHideDelay:o=600,...i}=n,[a,c]=u.useState(null),[l,f]=u.useState(null),[d,h]=u.useState(null),[p,w]=u.useState(null),[m,y]=u.useState(null),[A,C]=u.useState(0),[R,T]=u.useState(0),[M,J]=u.useState(!1),[K,O]=u.useState(!1),k=Ae(e,ve=>c(ve)),V=Lo(s);return u.createElement(Dl,{scope:t,type:r,dir:V,scrollHideDelay:o,scrollArea:a,viewport:l,onViewportChange:f,content:d,onContentChange:h,scrollbarX:p,onScrollbarXChange:w,scrollbarXEnabled:M,onScrollbarXEnabledChange:J,scrollbarY:m,onScrollbarYChange:y,scrollbarYEnabled:K,onScrollbarYEnabledChange:O,onCornerWidthChange:C,onCornerHeightChange:T},u.createElement(me.div,P({dir:V},i,{ref:k,style:{position:"relative","--radix-scroll-area-corner-width":A+"px","--radix-scroll-area-corner-height":R+"px",...n.style}})))}),Fl="ScrollAreaViewport",$l=u.forwardRef((n,e)=>{const{__scopeScrollArea:t,children:r,...s}=n,o=xe(Fl,t),i=u.useRef(null),a=Ae(e,i,o.onViewportChange);return u.createElement(u.Fragment,null,u.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"}}),u.createElement(me.div,P({"data-radix-scroll-area-viewport":""},s,{ref:a,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...n.style}}),u.createElement("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"}},r)))}),Ge="ScrollAreaScrollbar",Ll=u.forwardRef((n,e)=>{const{forceMount:t,...r}=n,s=xe(Ge,n.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:i}=s,a=n.orientation==="horizontal";return u.useEffect(()=>(a?o(!0):i(!0),()=>{a?o(!1):i(!1)}),[a,o,i]),s.type==="hover"?u.createElement(Ul,P({},r,{ref:e,forceMount:t})):s.type==="scroll"?u.createElement(Gl,P({},r,{ref:e,forceMount:t})):s.type==="auto"?u.createElement(ui,P({},r,{ref:e,forceMount:t})):s.type==="always"?u.createElement(Vr,P({},r,{ref:e})):null}),Ul=u.forwardRef((n,e)=>{const{forceMount:t,...r}=n,s=xe(Ge,n.__scopeScrollArea),[o,i]=u.useState(!1);return u.useEffect(()=>{const a=s.scrollArea;let c=0;if(a){const l=()=>{window.clearTimeout(c),i(!0)},f=()=>{c=window.setTimeout(()=>i(!1),s.scrollHideDelay)};return a.addEventListener("pointerenter",l),a.addEventListener("pointerleave",f),()=>{window.clearTimeout(c),a.removeEventListener("pointerenter",l),a.removeEventListener("pointerleave",f)}}},[s.scrollArea,s.scrollHideDelay]),u.createElement(ze,{present:t||o},u.createElement(ui,P({"data-state":o?"visible":"hidden"},r,{ref:e})))}),Gl=u.forwardRef((n,e)=>{const{forceMount:t,...r}=n,s=xe(Ge,n.__scopeScrollArea),o=n.orientation==="horizontal",i=Ln(()=>c("SCROLL_END"),100),[a,c]=Ml("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return u.useEffect(()=>{if(a==="idle"){const l=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(l)}},[a,s.scrollHideDelay,c]),u.useEffect(()=>{const l=s.viewport,f=o?"scrollLeft":"scrollTop";if(l){let d=l[f];const h=()=>{const p=l[f];d!==p&&(c("SCROLL"),i()),d=p};return l.addEventListener("scroll",h),()=>l.removeEventListener("scroll",h)}},[s.viewport,o,c,i]),u.createElement(ze,{present:t||a!=="hidden"},u.createElement(Vr,P({"data-state":a==="hidden"?"hidden":"visible"},r,{ref:e,onPointerEnter:D(n.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:D(n.onPointerLeave,()=>c("POINTER_LEAVE"))})))}),ui=u.forwardRef((n,e)=>{const t=xe(Ge,n.__scopeScrollArea),{forceMount:r,...s}=n,[o,i]=u.useState(!1),a=n.orientation==="horizontal",c=Ln(()=>{if(t.viewport){const l=t.viewport.offsetWidth<t.viewport.scrollWidth,f=t.viewport.offsetHeight<t.viewport.scrollHeight;i(a?l:f)}},10);return xt(t.viewport,c),xt(t.content,c),u.createElement(ze,{present:r||o},u.createElement(Vr,P({"data-state":o?"visible":"hidden"},s,{ref:e})))}),Vr=u.forwardRef((n,e)=>{const{orientation:t="vertical",...r}=n,s=xe(Ge,n.__scopeScrollArea),o=u.useRef(null),i=u.useRef(0),[a,c]=u.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),l=pi(a.viewport,a.content),f={...r,sizes:a,onSizesChange:c,hasThumb:l>0&&l<1,onThumbChange:h=>o.current=h,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:h=>i.current=h};function d(h,p){return jl(h,i.current,a,p)}return t==="horizontal"?u.createElement(_l,P({},f,{ref:e,onThumbPositionChange:()=>{if(s.viewport&&o.current){const h=s.viewport.scrollLeft,p=xs(h,a,s.dir);o.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollLeft=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollLeft=d(h,s.dir))}})):t==="vertical"?u.createElement(Ql,P({},f,{ref:e,onThumbPositionChange:()=>{if(s.viewport&&o.current){const h=s.viewport.scrollTop,p=xs(h,a);o.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollTop=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollTop=d(h))}})):null}),_l=u.forwardRef((n,e)=>{const{sizes:t,onSizesChange:r,...s}=n,o=xe(Ge,n.__scopeScrollArea),[i,a]=u.useState(),c=u.useRef(null),l=Ae(e,c,o.onScrollbarXChange);return u.useEffect(()=>{c.current&&a(getComputedStyle(c.current))},[c]),u.createElement(di,P({"data-orientation":"horizontal"},s,{ref:l,sizes:t,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":$n(t)+"px",...n.style},onThumbPointerDown:f=>n.onThumbPointerDown(f.x),onDragScroll:f=>n.onDragScroll(f.x),onWheelScroll:(f,d)=>{if(o.viewport){const h=o.viewport.scrollLeft+f.deltaX;n.onWheelScroll(h),mi(h,d)&&f.preventDefault()}},onResize:()=>{c.current&&o.viewport&&i&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:xn(i.paddingLeft),paddingEnd:xn(i.paddingRight)}})}}))}),Ql=u.forwardRef((n,e)=>{const{sizes:t,onSizesChange:r,...s}=n,o=xe(Ge,n.__scopeScrollArea),[i,a]=u.useState(),c=u.useRef(null),l=Ae(e,c,o.onScrollbarYChange);return u.useEffect(()=>{c.current&&a(getComputedStyle(c.current))},[c]),u.createElement(di,P({"data-orientation":"vertical"},s,{ref:l,sizes:t,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":$n(t)+"px",...n.style},onThumbPointerDown:f=>n.onThumbPointerDown(f.y),onDragScroll:f=>n.onDragScroll(f.y),onWheelScroll:(f,d)=>{if(o.viewport){const h=o.viewport.scrollTop+f.deltaY;n.onWheelScroll(h),mi(h,d)&&f.preventDefault()}},onResize:()=>{c.current&&o.viewport&&i&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:xn(i.paddingTop),paddingEnd:xn(i.paddingBottom)}})}}))}),[Hl,fi]=li(Ge),di=u.forwardRef((n,e)=>{const{__scopeScrollArea:t,sizes:r,hasThumb:s,onThumbChange:o,onThumbPointerUp:i,onThumbPointerDown:a,onThumbPositionChange:c,onDragScroll:l,onWheelScroll:f,onResize:d,...h}=n,p=xe(Ge,t),[w,m]=u.useState(null),y=Ae(e,k=>m(k)),A=u.useRef(null),C=u.useRef(""),R=p.viewport,T=r.content-r.viewport,M=ie(f),J=ie(c),K=Ln(d,10);function O(k){if(A.current){const V=k.clientX-A.current.left,ve=k.clientY-A.current.top;l({x:V,y:ve})}}return u.useEffect(()=>{const k=V=>{const ve=V.target;w?.contains(ve)&&M(V,T)};return document.addEventListener("wheel",k,{passive:!1}),()=>document.removeEventListener("wheel",k,{passive:!1})},[R,w,T,M]),u.useEffect(J,[r,J]),xt(w,K),xt(p.content,K),u.createElement(Hl,{scope:t,scrollbar:w,hasThumb:s,onThumbChange:ie(o),onThumbPointerUp:ie(i),onThumbPositionChange:J,onThumbPointerDown:ie(a)},u.createElement(me.div,P({},h,{ref:y,style:{position:"absolute",...h.style},onPointerDown:D(n.onPointerDown,k=>{k.button===0&&(k.target.setPointerCapture(k.pointerId),A.current=w.getBoundingClientRect(),C.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),O(k))}),onPointerMove:D(n.onPointerMove,O),onPointerUp:D(n.onPointerUp,k=>{const V=k.target;V.hasPointerCapture(k.pointerId)&&V.releasePointerCapture(k.pointerId),document.body.style.webkitUserSelect=C.current,p.viewport&&(p.viewport.style.scrollBehavior=""),A.current=null})})))}),br="ScrollAreaThumb",Vl=u.forwardRef((n,e)=>{const{forceMount:t,...r}=n,s=fi(br,n.__scopeScrollArea);return u.createElement(ze,{present:t||s.hasThumb},u.createElement(zl,P({ref:e},r)))}),zl=u.forwardRef((n,e)=>{const{__scopeScrollArea:t,style:r,...s}=n,o=xe(br,t),i=fi(br,t),{onThumbPositionChange:a}=i,c=Ae(e,d=>i.onThumbChange(d)),l=u.useRef(),f=Ln(()=>{l.current&&(l.current(),l.current=void 0)},100);return u.useEffect(()=>{const d=o.viewport;if(d){const h=()=>{if(f(),!l.current){const p=Wl(d,a);l.current=p,a()}};return a(),d.addEventListener("scroll",h),()=>d.removeEventListener("scroll",h)}},[o.viewport,f,a]),u.createElement(me.div,P({"data-state":i.hasThumb?"visible":"hidden"},s,{ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:D(n.onPointerDownCapture,d=>{const p=d.target.getBoundingClientRect(),w=d.clientX-p.left,m=d.clientY-p.top;i.onThumbPointerDown({x:w,y:m})}),onPointerUp:D(n.onPointerUp,i.onThumbPointerUp)}))}),hi="ScrollAreaCorner",Jl=u.forwardRef((n,e)=>{const t=xe(hi,n.__scopeScrollArea),r=!!(t.scrollbarX&&t.scrollbarY);return t.type!=="scroll"&&r?u.createElement(Kl,P({},n,{ref:e})):null}),Kl=u.forwardRef((n,e)=>{const{__scopeScrollArea:t,...r}=n,s=xe(hi,t),[o,i]=u.useState(0),[a,c]=u.useState(0),l=!!(o&&a);return xt(s.scrollbarX,()=>{var f;const d=((f=s.scrollbarX)===null||f===void 0?void 0:f.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),xt(s.scrollbarY,()=>{var f;const d=((f=s.scrollbarY)===null||f===void 0?void 0:f.offsetWidth)||0;s.onCornerWidthChange(d),i(d)}),l?u.createElement(me.div,P({},r,{ref:e,style:{width:o,height:a,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...n.style}})):null});function xn(n){return n?parseInt(n,10):0}function pi(n,e){const t=n/e;return isNaN(t)?0:t}function $n(n){const e=pi(n.viewport,n.content),t=n.scrollbar.paddingStart+n.scrollbar.paddingEnd,r=(n.scrollbar.size-t)*e;return Math.max(r,18)}function jl(n,e,t,r="ltr"){const s=$n(t),o=s/2,i=e||o,a=s-i,c=t.scrollbar.paddingStart+i,l=t.scrollbar.size-t.scrollbar.paddingEnd-a,f=t.content-t.viewport,d=r==="ltr"?[0,f]:[f*-1,0];return gi([c,l],d)(n)}function xs(n,e,t="ltr"){const r=$n(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,o=e.scrollbar.size-s,i=e.content-e.viewport,a=o-r,c=t==="ltr"?[0,i]:[i*-1,0],l=cl(n,c);return gi([0,i],[0,a])(l)}function gi(n,e){return t=>{if(n[0]===n[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(n[1]-n[0]);return e[0]+r*(t-n[0])}}function mi(n,e){return n>0&&n<e}const Wl=(n,e=()=>{})=>{let t={left:n.scrollLeft,top:n.scrollTop},r=0;return function s(){const o={left:n.scrollLeft,top:n.scrollTop},i=t.left!==o.left,a=t.top!==o.top;(i||a)&&e(),t=o,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function Ln(n,e){const t=ie(n),r=u.useRef(0);return u.useEffect(()=>()=>window.clearTimeout(r.current),[]),u.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(t,e)},[t,e])}function xt(n,e){const t=ie(e);_c(()=>{let r=0;if(n){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(t)});return s.observe(n),()=>{window.cancelAnimationFrame(r),s.unobserve(n)}}},[n,t])}const Yl=Bl,Xl=$l,Ps=Ll,Ns=Vl,Zl=Jl,Ar=["Enter"," "],ql=["ArrowDown","PageUp","Home"],wi=["ArrowUp","PageDown","End"],eu=[...ql,...wi],tu={ltr:[...Ar,"ArrowRight"],rtl:[...Ar,"ArrowLeft"]},nu={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Un="Menu",[Qt,ru,su]=zc(Un),[at,yi]=Gr(Un,[su,Uo,Vo]),Gn=Uo(),bi=Vo(),[Ai,Je]=at(Un),[ou,Yt]=at(Un),iu=n=>{const{__scopeMenu:e,open:t=!1,children:r,dir:s,onOpenChange:o,modal:i=!0}=n,a=Gn(e),[c,l]=u.useState(null),f=u.useRef(!1),d=ie(o),h=Lo(s);return u.useEffect(()=>{const p=()=>{f.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>f.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),u.createElement(_o,a,u.createElement(Ai,{scope:e,open:t,onOpenChange:d,content:c,onContentChange:l},u.createElement(ou,{scope:e,onClose:u.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:f,dir:h,modal:i},r)))},vi=u.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n,s=Gn(t);return u.createElement(Qc,P({},s,r,{ref:e}))}),Ei="MenuPortal",[au,Ci]=at(Ei,{forceMount:void 0}),cu=n=>{const{__scopeMenu:e,forceMount:t,children:r,container:s}=n,o=Je(Ei,e);return u.createElement(au,{scope:e,forceMount:t},u.createElement(ze,{present:t||o.open},u.createElement(ol,{asChild:!0,container:s},r)))},Ne="MenuContent",[lu,zr]=at(Ne),uu=u.forwardRef((n,e)=>{const t=Ci(Ne,n.__scopeMenu),{forceMount:r=t.forceMount,...s}=n,o=Je(Ne,n.__scopeMenu),i=Yt(Ne,n.__scopeMenu);return u.createElement(Qt.Provider,{scope:n.__scopeMenu},u.createElement(ze,{present:r||o.open},u.createElement(Qt.Slot,{scope:n.__scopeMenu},i.modal?u.createElement(fu,P({},s,{ref:e})):u.createElement(du,P({},s,{ref:e})))))}),fu=u.forwardRef((n,e)=>{const t=Je(Ne,n.__scopeMenu),r=u.useRef(null),s=Ae(e,r);return u.useEffect(()=>{const o=r.current;if(o)return Al(o)},[]),u.createElement(Jr,P({},n,{ref:s,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:D(n.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)}))}),du=u.forwardRef((n,e)=>{const t=Je(Ne,n.__scopeMenu);return u.createElement(Jr,P({},n,{ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)}))}),Jr=u.forwardRef((n,e)=>{const{__scopeMenu:t,loop:r=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:a,onEntryFocus:c,onEscapeKeyDown:l,onPointerDownOutside:f,onFocusOutside:d,onInteractOutside:h,onDismiss:p,disableOutsideScroll:w,...m}=n,y=Je(Ne,t),A=Yt(Ne,t),C=Gn(t),R=bi(t),T=ru(t),[M,J]=u.useState(null),K=u.useRef(null),O=Ae(e,K,y.onContentChange),k=u.useRef(0),V=u.useRef(""),ve=u.useRef(0),nn=u.useRef(null),us=u.useRef("right"),Xn=u.useRef(0),lc=w?ai:u.Fragment,uc=w?{as:Qo,allowPinchZoom:!0}:void 0,fc=I=>{var te,Pe;const je=V.current+I,Ot=T().filter(ke=>!ke.disabled),Zn=document.activeElement,fs=(te=Ot.find(ke=>ke.ref.current===Zn))===null||te===void 0?void 0:te.textValue,rn=Ot.map(ke=>ke.textValue),kt=ku(rn,je,fs),ds=(Pe=Ot.find(ke=>ke.textValue===kt))===null||Pe===void 0?void 0:Pe.ref.current;(function ke(hs){V.current=hs,window.clearTimeout(k.current),hs!==""&&(k.current=window.setTimeout(()=>ke(""),1e3))})(je),ds&&setTimeout(()=>ds.focus())};u.useEffect(()=>()=>window.clearTimeout(k.current),[]),ll();const lt=u.useCallback(I=>{var te,Pe;return us.current===((te=nn.current)===null||te===void 0?void 0:te.side)&&Mu(I,(Pe=nn.current)===null||Pe===void 0?void 0:Pe.area)},[]);return u.createElement(lu,{scope:t,searchRef:V,onItemEnter:u.useCallback(I=>{lt(I)&&I.preventDefault()},[lt]),onItemLeave:u.useCallback(I=>{var te;lt(I)||((te=K.current)===null||te===void 0||te.focus(),J(null))},[lt]),onTriggerLeave:u.useCallback(I=>{lt(I)&&I.preventDefault()},[lt]),pointerGraceTimerRef:ve,onPointerGraceIntentChange:u.useCallback(I=>{nn.current=I},[])},u.createElement(lc,uc,u.createElement(ul,{asChild:!0,trapped:s,onMountAutoFocus:D(o,I=>{var te;I.preventDefault(),(te=K.current)===null||te===void 0||te.focus()}),onUnmountAutoFocus:i},u.createElement(nl,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:l,onPointerDownOutside:f,onFocusOutside:d,onInteractOutside:h,onDismiss:p},u.createElement(Jc,P({asChild:!0},R,{dir:A.dir,orientation:"vertical",loop:r,currentTabStopId:M,onCurrentTabStopIdChange:J,onEntryFocus:D(c,I=>{A.isUsingKeyboardRef.current||I.preventDefault()})}),u.createElement(Hc,P({role:"menu","aria-orientation":"vertical","data-state":Oi(y.open),"data-radix-menu-content":"",dir:A.dir},C,m,{ref:O,style:{outline:"none",...m.style},onKeyDown:D(m.onKeyDown,I=>{const Pe=I.target.closest("[data-radix-menu-content]")===I.currentTarget,je=I.ctrlKey||I.altKey||I.metaKey,Ot=I.key.length===1;Pe&&(I.key==="Tab"&&I.preventDefault(),!je&&Ot&&fc(I.key));const Zn=K.current;if(I.target!==Zn||!eu.includes(I.key))return;I.preventDefault();const rn=T().filter(kt=>!kt.disabled).map(kt=>kt.ref.current);wi.includes(I.key)&&rn.reverse(),Iu(rn)}),onBlur:D(n.onBlur,I=>{I.currentTarget.contains(I.target)||(window.clearTimeout(k.current),V.current="")}),onPointerMove:D(n.onPointerMove,Ht(I=>{const te=I.target,Pe=Xn.current!==I.clientX;if(I.currentTarget.contains(te)&&Pe){const je=I.clientX>Xn.current?"right":"left";us.current=je,Xn.current=I.clientX}}))})))))))}),xi=u.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return u.createElement(me.div,P({role:"group"},r,{ref:e}))}),hu=u.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return u.createElement(me.div,P({},r,{ref:e}))}),vr="MenuItem",Rs="menu.itemSelect",Kr=u.forwardRef((n,e)=>{const{disabled:t=!1,onSelect:r,...s}=n,o=u.useRef(null),i=Yt(vr,n.__scopeMenu),a=zr(vr,n.__scopeMenu),c=Ae(e,o),l=u.useRef(!1),f=()=>{const d=o.current;if(!t&&d){const h=new CustomEvent(Rs,{bubbles:!0,cancelable:!0});d.addEventListener(Rs,p=>r?.(p),{once:!0}),Fo(d,h),h.defaultPrevented?l.current=!1:i.onClose()}};return u.createElement(Pi,P({},s,{ref:c,disabled:t,onClick:D(n.onClick,f),onPointerDown:d=>{var h;(h=n.onPointerDown)===null||h===void 0||h.call(n,d),l.current=!0},onPointerUp:D(n.onPointerUp,d=>{var h;l.current||(h=d.currentTarget)===null||h===void 0||h.click()}),onKeyDown:D(n.onKeyDown,d=>{const h=a.searchRef.current!=="";t||h&&d.key===" "||Ar.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})}))}),Pi=u.forwardRef((n,e)=>{const{__scopeMenu:t,disabled:r=!1,textValue:s,...o}=n,i=zr(vr,t),a=bi(t),c=u.useRef(null),l=Ae(e,c),[f,d]=u.useState(!1),[h,p]=u.useState("");return u.useEffect(()=>{const w=c.current;if(w){var m;p(((m=w.textContent)!==null&&m!==void 0?m:"").trim())}},[o.children]),u.createElement(Qt.ItemSlot,{scope:t,disabled:r,textValue:s??h},u.createElement(Kc,P({asChild:!0},a,{focusable:!r}),u.createElement(me.div,P({role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0},o,{ref:l,onPointerMove:D(n.onPointerMove,Ht(w=>{r?i.onItemLeave(w):(i.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus())})),onPointerLeave:D(n.onPointerLeave,Ht(w=>i.onItemLeave(w))),onFocus:D(n.onFocus,()=>d(!0)),onBlur:D(n.onBlur,()=>d(!1))}))))}),pu=u.forwardRef((n,e)=>{const{checked:t=!1,onCheckedChange:r,...s}=n;return u.createElement(Ri,{scope:n.__scopeMenu,checked:t},u.createElement(Kr,P({role:"menuitemcheckbox","aria-checked":Pn(t)?"mixed":t},s,{ref:e,"data-state":jr(t),onSelect:D(s.onSelect,()=>r?.(Pn(t)?!0:!t),{checkForDefaultPrevented:!1})})))}),gu="MenuRadioGroup",[mu,wu]=at(gu,{value:void 0,onValueChange:()=>{}}),yu=u.forwardRef((n,e)=>{const{value:t,onValueChange:r,...s}=n,o=ie(r);return u.createElement(mu,{scope:n.__scopeMenu,value:t,onValueChange:o},u.createElement(xi,P({},s,{ref:e})))}),bu="MenuRadioItem",Au=u.forwardRef((n,e)=>{const{value:t,...r}=n,s=wu(bu,n.__scopeMenu),o=t===s.value;return u.createElement(Ri,{scope:n.__scopeMenu,checked:o},u.createElement(Kr,P({role:"menuitemradio","aria-checked":o},r,{ref:e,"data-state":jr(o),onSelect:D(r.onSelect,()=>{var i;return(i=s.onValueChange)===null||i===void 0?void 0:i.call(s,t)},{checkForDefaultPrevented:!1})})))}),Ni="MenuItemIndicator",[Ri,vu]=at(Ni,{checked:!1}),Eu=u.forwardRef((n,e)=>{const{__scopeMenu:t,forceMount:r,...s}=n,o=vu(Ni,t);return u.createElement(ze,{present:r||Pn(o.checked)||o.checked===!0},u.createElement(me.span,P({},s,{ref:e,"data-state":jr(o.checked)})))}),Cu=u.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return u.createElement(me.div,P({role:"separator","aria-orientation":"horizontal"},r,{ref:e}))}),Si="MenuSub",[xu,Ii]=at(Si),Pu=n=>{const{__scopeMenu:e,children:t,open:r=!1,onOpenChange:s}=n,o=Je(Si,e),i=Gn(e),[a,c]=u.useState(null),[l,f]=u.useState(null),d=ie(s);return u.useEffect(()=>(o.open===!1&&d(!1),()=>d(!1)),[o.open,d]),u.createElement(_o,i,u.createElement(Ai,{scope:e,open:r,onOpenChange:d,content:l,onContentChange:f},u.createElement(xu,{scope:e,contentId:Cn(),triggerId:Cn(),trigger:a,onTriggerChange:c},t)))},ln="MenuSubTrigger",Nu=u.forwardRef((n,e)=>{const t=Je(ln,n.__scopeMenu),r=Yt(ln,n.__scopeMenu),s=Ii(ln,n.__scopeMenu),o=zr(ln,n.__scopeMenu),i=u.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:c}=o,l={__scopeMenu:n.__scopeMenu},f=u.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return u.useEffect(()=>f,[f]),u.useEffect(()=>{const d=a.current;return()=>{window.clearTimeout(d),c(null)}},[a,c]),u.createElement(vi,P({asChild:!0},l),u.createElement(Pi,P({id:s.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":s.contentId,"data-state":Oi(t.open)},n,{ref:Go(e,s.onTriggerChange),onClick:d=>{var h;(h=n.onClick)===null||h===void 0||h.call(n,d),!(n.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:D(n.onPointerMove,Ht(d=>{o.onItemEnter(d),!d.defaultPrevented&&!n.disabled&&!t.open&&!i.current&&(o.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{t.onOpenChange(!0),f()},100))})),onPointerLeave:D(n.onPointerLeave,Ht(d=>{var h;f();const p=(h=t.content)===null||h===void 0?void 0:h.getBoundingClientRect();if(p){var w;const m=(w=t.content)===null||w===void 0?void 0:w.dataset.side,y=m==="right",A=y?-5:5,C=p[y?"left":"right"],R=p[y?"right":"left"];o.onPointerGraceIntentChange({area:[{x:d.clientX+A,y:d.clientY},{x:C,y:p.top},{x:R,y:p.top},{x:R,y:p.bottom},{x:C,y:p.bottom}],side:m}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(d),d.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:D(n.onKeyDown,d=>{const h=o.searchRef.current!=="";if(!(n.disabled||h&&d.key===" ")&&tu[r.dir].includes(d.key)){var p;t.onOpenChange(!0),(p=t.content)===null||p===void 0||p.focus(),d.preventDefault()}})})))}),Ru="MenuSubContent",Su=u.forwardRef((n,e)=>{const t=Ci(Ne,n.__scopeMenu),{forceMount:r=t.forceMount,...s}=n,o=Je(Ne,n.__scopeMenu),i=Yt(Ne,n.__scopeMenu),a=Ii(Ru,n.__scopeMenu),c=u.useRef(null),l=Ae(e,c);return u.createElement(Qt.Provider,{scope:n.__scopeMenu},u.createElement(ze,{present:r||o.open},u.createElement(Qt.Slot,{scope:n.__scopeMenu},u.createElement(Jr,P({id:a.contentId,"aria-labelledby":a.triggerId},s,{ref:l,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var d;i.isUsingKeyboardRef.current&&((d=c.current)===null||d===void 0||d.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:D(n.onFocusOutside,f=>{f.target!==a.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:D(n.onEscapeKeyDown,f=>{i.onClose(),f.preventDefault()}),onKeyDown:D(n.onKeyDown,f=>{const d=f.currentTarget.contains(f.target),h=nu[i.dir].includes(f.key);if(d&&h){var p;o.onOpenChange(!1),(p=a.trigger)===null||p===void 0||p.focus(),f.preventDefault()}})})))))});function Oi(n){return n?"open":"closed"}function Pn(n){return n==="indeterminate"}function jr(n){return Pn(n)?"indeterminate":n?"checked":"unchecked"}function Iu(n){const e=document.activeElement;for(const t of n)if(t===e||(t.focus(),document.activeElement!==e))return}function Ou(n,e){return n.map((t,r)=>n[(e+r)%n.length])}function ku(n,e,t){const s=e.length>1&&Array.from(e).every(l=>l===e[0])?e[0]:e,o=t?n.indexOf(t):-1;let i=Ou(n,Math.max(o,0));s.length===1&&(i=i.filter(l=>l!==t));const c=i.find(l=>l.toLowerCase().startsWith(s.toLowerCase()));return c!==t?c:void 0}function Tu(n,e){const{x:t,y:r}=n;let s=!1;for(let o=0,i=e.length-1;o<e.length;i=o++){const a=e[o].x,c=e[o].y,l=e[i].x,f=e[i].y;c>r!=f>r&&t<(l-a)*(r-c)/(f-c)+a&&(s=!s)}return s}function Mu(n,e){if(!e)return!1;const t={x:n.clientX,y:n.clientY};return Tu(t,e)}function Ht(n){return e=>e.pointerType==="mouse"?n(e):void 0}const Du=iu,Bu=vi,Fu=cu,$u=uu,Lu=xi,Uu=hu,Gu=Kr,_u=pu,Qu=yu,Hu=Au,Vu=Eu,zu=Cu,Ju=Pu,Ku=Nu,ju=Su,ki="DropdownMenu",[Wu,vg]=Gr(ki,[yi]),de=yi(),[Yu,Ti]=Wu(ki),Xu=n=>{const{__scopeDropdownMenu:e,children:t,dir:r,open:s,defaultOpen:o,onOpenChange:i,modal:a=!0}=n,c=de(e),l=u.useRef(null),[f=!1,d]=zo({prop:s,defaultProp:o,onChange:i});return u.createElement(Yu,{scope:e,triggerId:Cn(),triggerRef:l,contentId:Cn(),open:f,onOpenChange:d,onOpenToggle:u.useCallback(()=>d(h=>!h),[d]),modal:a},u.createElement(Du,P({},c,{open:f,onOpenChange:d,dir:r,modal:a}),t))},Zu="DropdownMenuTrigger",qu=u.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,disabled:r=!1,...s}=n,o=Ti(Zu,t),i=de(t);return u.createElement(Bu,P({asChild:!0},i),u.createElement(me.button,P({type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r},s,{ref:Go(e,o.triggerRef),onPointerDown:D(n.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(o.onOpenToggle(),o.open||a.preventDefault())}),onKeyDown:D(n.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&o.onOpenToggle(),a.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})))}),ef=n=>{const{__scopeDropdownMenu:e,...t}=n,r=de(e);return u.createElement(Fu,P({},r,t))},tf="DropdownMenuContent",nf=u.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Ti(tf,t),o=de(t),i=u.useRef(!1);return u.createElement($u,P({id:s.contentId,"aria-labelledby":s.triggerId},o,r,{ref:e,onCloseAutoFocus:D(n.onCloseAutoFocus,a=>{var c;i.current||(c=s.triggerRef.current)===null||c===void 0||c.focus(),i.current=!1,a.preventDefault()}),onInteractOutside:D(n.onInteractOutside,a=>{const c=a.detail.originalEvent,l=c.button===0&&c.ctrlKey===!0,f=c.button===2||l;(!s.modal||f)&&(i.current=!0)}),style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}}))}),rf=u.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=de(t);return u.createElement(Lu,P({},s,r,{ref:e}))}),sf=u.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=de(t);return u.createElement(Uu,P({},s,r,{ref:e}))}),of=u.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=de(t);return u.createElement(Gu,P({},s,r,{ref:e}))}),af=u.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=de(t);return u.createElement(_u,P({},s,r,{ref:e}))}),cf=u.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=de(t);return u.createElement(Qu,P({},s,r,{ref:e}))}),lf=u.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=de(t);return u.createElement(Hu,P({},s,r,{ref:e}))}),uf=u.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=de(t);return u.createElement(Vu,P({},s,r,{ref:e}))}),ff=u.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=de(t);return u.createElement(zu,P({},s,r,{ref:e}))}),df=n=>{const{__scopeDropdownMenu:e,children:t,open:r,onOpenChange:s,defaultOpen:o}=n,i=de(e),[a=!1,c]=zo({prop:r,defaultProp:o,onChange:s});return u.createElement(Ju,P({},i,{open:a,onOpenChange:c}),t)},hf=u.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=de(t);return u.createElement(Ku,P({},s,r,{ref:e}))}),pf=u.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=de(t);return u.createElement(ju,P({},s,r,{ref:e,style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}}))}),gf=Xu,mf=qu,Mi=ef,wf=nf,yf=rf,bf=sf,Af=of,vf=af,Ef=cf,Cf=lf,Di=uf,xf=ff,Pf=df,Nf=hf,Rf=pf,Sf=["1","2","3"],If=["vertical","horizontal","both"],sr={size:{type:"enum",values:Sf,default:"1",responsive:!0},radius:qo,scrollbars:{type:"enum",values:If,default:"both"}},Wr=u.forwardRef((n,e)=>{const{rest:t,...r}=Xo(n),{className:s,style:o,type:i,scrollHideDelay:a=i!=="scroll"?0:void 0,dir:c,size:l=sr.size.default,radius:f=sr.radius.default,scrollbars:d=sr.scrollbars.default,...h}=t;return u.createElement(Yl,{type:i,scrollHideDelay:a,className:re("rt-ScrollAreaRoot",s,Zo(r)),style:o},u.createElement(Xl,{...h,ref:e,className:"rt-ScrollAreaViewport"}),u.createElement("div",{className:"rt-ScrollAreaViewportFocusRing"}),d!=="vertical"?u.createElement(Ps,{"data-radius":f,orientation:"horizontal",className:re("rt-ScrollAreaScrollbar",Ee(l,"rt-r-size"))},u.createElement(Ns,{className:"rt-ScrollAreaThumb"})):null,d!=="horizontal"?u.createElement(Ps,{"data-radius":f,orientation:"vertical",className:re("rt-ScrollAreaScrollbar",Ee(l,"rt-r-size"))},u.createElement(Ns,{className:"rt-ScrollAreaThumb"})):null,d==="both"?u.createElement(Zl,{className:"rt-ScrollAreaCorner"}):null)});Wr.displayName="ScrollArea";const Of=["1","2"],kf=["solid","soft"],or={size:{type:"enum",values:Of,default:"2",responsive:!0},variant:{type:"enum",values:kf,default:"solid"},color:Qr,highContrast:Yo},Bi={color:Qr,shortcut:{type:"string",default:void 0}},Fi=n=>u.createElement(gf,{...n});Fi.displayName="DropdownMenuRoot";const $i=u.forwardRef((n,e)=>u.createElement(mf,{...n,ref:e,asChild:!0}));$i.displayName="DropdownMenuTrigger";const Li=u.createContext({}),Ui=u.forwardRef((n,e)=>{const t=Vc(),{className:r,children:s,size:o=or.size.default,variant:i=or.variant.default,highContrast:a=or.highContrast.default,color:c=Bi.color.default,container:l,forceMount:f,...d}=n,h=c??t.accentColor;return u.createElement(Mi,{container:l,forceMount:f},u.createElement(Ho,{asChild:!0},u.createElement(wf,{"data-accent-color":h,align:"start",sideOffset:4,collisionPadding:10,...d,ref:e,className:re("rt-PopperContent","rt-BaseMenuContent","rt-DropdownMenuContent",r,Ee(o,"rt-r-size"),`rt-variant-${i}`,{"rt-high-contrast":a})},u.createElement(Wr,{type:"auto"},u.createElement("div",{className:re("rt-BaseMenuViewport","rt-DropdownMenuViewport")},u.createElement(Li.Provider,{value:u.useMemo(()=>({size:o,variant:i,color:h,highContrast:a}),[o,i,h,a])},s))))))});Ui.displayName="DropdownMenuContent";const Gi=u.forwardRef((n,e)=>u.createElement(bf,{...n,ref:e,className:re("rt-BaseMenuLabel","rt-DropdownMenuLabel",n.className)}));Gi.displayName="DropdownMenuLabel";const _i=u.forwardRef((n,e)=>{const{className:t,children:r,color:s=Bi.color.default,shortcut:o,...i}=n;return u.createElement(Af,{"data-accent-color":s,...i,ref:e,className:re("rt-reset","rt-BaseMenuItem","rt-DropdownMenuItem",t)},u.createElement(Dn,null,r),o&&u.createElement("div",{className:"rt-BaseMenuShortcut rt-DropdownMenuShortcut"},o))});_i.displayName="DropdownMenuItem";const Qi=u.forwardRef((n,e)=>u.createElement(yf,{...n,ref:e,className:re("rt-BaseMenuGroup","rt-DropdownMenuGroup",n.className)}));Qi.displayName="DropdownMenuGroup";const Hi=u.forwardRef((n,e)=>u.createElement(Ef,{...n,ref:e,className:re("rt-BaseMenuRadioGroup","rt-DropdownMenuRadioGroup",n.className)}));Hi.displayName="DropdownMenuRadioGroup";const Vi=u.forwardRef((n,e)=>{const{children:t,className:r,...s}=n;return u.createElement(Cf,{...s,ref:e,className:re("rt-BaseMenuItem","rt-BaseMenuRadioItem","rt-DropdownMenuItem","rt-DropdownMenuRadioItem",r)},u.createElement(Dn,null,t),u.createElement(Di,{className:"rt-BaseMenuItemIndicator rt-DropdownMenuItemIndicator"},u.createElement(Hr,{className:"rt-BaseMenuItemIndicatorIcon rt-DropdownMenuItemIndicatorIcon"})))});Vi.displayName="DropdownMenuRadioItem";const zi=u.forwardRef((n,e)=>{const{children:t,className:r,shortcut:s,...o}=n;return u.createElement(vf,{...o,ref:e,className:re("rt-BaseMenuItem","rt-BaseMenuCheckboxItem","rt-DropdownMenuItem","rt-DropdownMenuCheckboxItem",r)},u.createElement(Dn,null,t),u.createElement(Di,{className:"rt-BaseMenuItemIndicator rt-DropdownMenuItemIndicator"},u.createElement(Hr,{className:"rt-BaseMenuItemIndicatorIcon rt-ContextMenuItemIndicatorIcon"})),s&&u.createElement("div",{className:"rt-BaseMenuShortcut rt-DropdownMenuShortcut"},s))});zi.displayName="DropdownMenuCheckboxItem";const Ji=n=>u.createElement(Pf,{...n});Ji.displayName="DropdownMenuSub";const Ki=u.forwardRef((n,e)=>{const{className:t,children:r,...s}=n;return u.createElement(Nf,{...s,ref:e,className:re("rt-BaseMenuItem","rt-BaseMenuSubTrigger","rt-DropdownMenuItem","rt-DropdownMenuSubTrigger",t)},u.createElement(Dn,null,r),u.createElement("div",{className:"rt-BaseMenuShortcut rt-DropdownMenuShortcut"},u.createElement(ei,{className:"rt-BaseMenuSubTriggerIcon rt-DropdownMenuSubtriggerIcon"})))});Ki.displayName="DropdownMenuSubTrigger";const ji=u.forwardRef((n,e)=>{const{className:t,children:r,container:s,forceMount:o,...i}=n,{size:a,variant:c,color:l,highContrast:f}=u.useContext(Li);return u.createElement(Mi,{container:s,forceMount:o},u.createElement(Ho,{asChild:!0},u.createElement(Rf,{"data-accent-color":l,alignOffset:-Number(a)*4,sideOffset:1,collisionPadding:10,...i,ref:e,className:re("rt-PopperContent","rt-BaseMenuContent","rt-BaseMenuSubContent","rt-DropdownMenuContent","rt-DropdownMenuSubContent",t,Ee(a,"rt-r-size"),`rt-variant-${c}`,{"rt-high-contrast":f})},u.createElement(Wr,{type:"auto"},u.createElement("div",{className:re("rt-BaseMenuViewport","rt-DropdownMenuViewport")},r)))))});ji.displayName="DropdownMenuSubContent";const Wi=u.forwardRef((n,e)=>u.createElement(xf,{...n,ref:e,className:re("rt-BaseMenuSeparator","rt-DropdownMenuSeparator",n.className)}));Wi.displayName="DropdownMenuSeparator";const Tt=Object.assign({},{Root:Fi,Trigger:$i,Content:Ui,Label:Gi,Item:_i,Group:Qi,RadioGroup:Hi,RadioItem:Vi,CheckboxItem:zi,Sub:Ji,SubTrigger:Ki,SubContent:ji,Separator:Wi}),Tf=["1","2","3","4"],Mf=["classic","solid","soft","surface","outline","ghost"],Mt={size:{type:"enum",values:Tf,default:"2",responsive:!0},variant:{type:"enum",values:Mf,default:"solid"},color:Qr,highContrast:Yo,radius:qo},Yi=u.forwardRef((n,e)=>{const{rest:t,...r}=Xo(n),{className:s,asChild:o=!1,size:i=Mt.size.default,variant:a=Mt.variant.default,color:c=Mt.color.default,highContrast:l=Mt.highContrast.default,radius:f=Mt.radius.default,...d}=t,h=o?Qo:"button";return u.createElement(h,{"data-disabled":d.disabled||void 0,"data-accent-color":c,"data-radius":f,...d,ref:e,className:re("rt-reset","rt-BaseButton",s,Ee(i,"rt-r-size"),`rt-variant-${a}`,{"rt-high-contrast":l},Zo(r))})});Yi.displayName="BaseButton";const Xi=u.forwardRef((n,e)=>u.createElement(Yi,{...n,ref:e,className:re("rt-Button",n.className)}));Xi.displayName="Button";const Df="_content_1foi1_4",Bf={content:Df},Ff=({children:n,onClose:e})=>{const[t,r]=u.useState(null);return u.useEffect(()=>{const s=document.querySelector(".iekbcc0[data-rk]");if(s){const o=s.querySelector("div > div > div > div div div:nth-child(1)");r(o||s)}},[e]),t?Lr.createPortal(v.jsx("div",{className:"portal-div",children:n}),t):null},$f=({children:n,onClose:e})=>{const[t,r]=u.useState(null);return u.useEffect(()=>{const s=document.querySelector(".iekbcc0[data-rk]");if(s){const o=s.querySelector("div:nth-child(2) > div > div > div > div > div > div:nth-child(2) > div:nth-child(1)");r(o||s)}},[e]),t?Lr.createPortal(v.jsx("div",{className:"portal-div-top",children:n}),t):null},Lf=[{name:"Creator",path:"/dashboard",type:"Creator",icon:Bc},{name:"Collector",path:"/dashboard",type:"Collector",icon:Fc},{name:"WatchList",path:"/dashboard",type:"WatchList",icon:$c}],Uf=()=>{const{address:n,isConnected:e}=$r(),{connectors:t,disconnect:r}=vc(),s=Rc(),o=u.useRef({}),[i,a]=u.useState(!1),c=async()=>{if(e||n){for(const l of t)await r({connector:l});await r(),console.log("=====================>disconnect"),localStorage.removeItem(Ur)}};return v.jsx(Ec.Custom,{children:({account:l,chain:f,openAccountModal:d,openChainModal:h,openConnectModal:p,authenticationStatus:w,mounted:m})=>{const y=m&&w!=="loading",A=y&&l&&f&&(!w||w==="authenticated");return v.jsx("div",{...!y&&{"aria-hidden":!0,style:{opacity:0,pointerEvents:"none",userSelect:"none"}},children:A?v.jsxs("div",{className:"flex items-center",children:[v.jsxs("div",{className:" wallet-border flex items-center justify-center w-[192px] h-[46px] bg-[#1F3B4F] rounded-lg mr-4 font-404px font-bold text-[#07E993] text-lg",children:[l.address.slice(0,6),"...",l.address.slice(-4)]}),v.jsxs(Tt.Root,{children:[v.jsx(Tt.Trigger,{children:v.jsx("div",{children:v.jsx(Mc,{className:"cursor-pointer wallet-border rounded-[7px]"})})}),v.jsxs(Tt.Content,{className:"wallet-dropdown-menu bg-[#1F3B4F]",align:"end",sideOffset:20,children:[v.jsx("div",{className:"divider-x"}),Lf.map(C=>v.jsx(Tt.Item,{className:"mb-6 hover:bg-[#07E993] text-[#FFFFFF] hover:text-[#1F3B4F] py-2 h-10 cursor-pointer",onMouseOver:()=>o.current[C.type].setHovered(!0),onMouseLeave:()=>o.current[C.type].setHovered(!1),onClick:()=>{s(`${C.path}?type=${C.type}`)},children:v.jsxs("div",{className:"flex items-center",children:[v.jsx("div",{className:"flex justify-center items-center w-[40px]",children:v.jsx(C.icon,{ref:R=>o.current[C.type]=R})}),v.jsx("span",{className:"font-404px font-bold text-lg leading-5",children:C.name})]})},C.type)),v.jsx(Tt.Item,{onClick:c,className:"hover:bg-[#07E993] text-[#FFFFFF] hover:text-[#1F3B4F] mt-3 py-2 h-10  cursor-pointer",onMouseOver:()=>o.current.logout.setHovered(!0),onMouseLeave:()=>o.current.logout.setHovered(!1),children:v.jsxs("div",{className:"flex items-center",children:[v.jsx("div",{className:"flex justify-center items-center w-[40px]",children:v.jsx(Dc,{ref:C=>o.current.logout=C})}),v.jsx("span",{className:"font-404px font-bold text-lg leading-5",children:"Log Out"})]})})]})]})]}):v.jsxs(Xi,{variant:"soft",onClick:()=>{p(),a(!0)},className:"wallet-border cursor-pointer hidden md:block text-center text-lg  md:h-[51px] px-6 md:bg-[#1F3B4F] md:text-[#07E993] font-bold font-404px",children:["Connect Wallet",i&&v.jsxs($f,{onClose:()=>{a(!1)},children:[v.jsx("div",{className:"flex items-center flex-column justify-center mt-[-30px]",children:v.jsx("img",{className:"w-[142.11px] ",src:"./walletContent/wallet-logo.png",alt:""})}),v.jsx("div",{className:"connect-to-memoo text-center",children:"Connect to MeMoo"})]}),i&&v.jsx(Ff,{onClose:()=>{a(!1)},children:v.jsx("div",{children:v.jsxs("p",{className:"w-[320px] font-OCR text-[#ffffff]",children:["By connecting your wallet and using MeMoo, you agree to our"," ",v.jsx("span",{className:"text-[#07E993]",children:"Terms of Service"})," and"," ",v.jsx("span",{className:"text-[#07E993]",children:"Privacy Policy."})]})})})]})})}})},Gf="_header_ch6q8_4",_f="_logo_ch6q8_11",Qf="_navItem_ch6q8_16",Hf="_active_ch6q8_32",Vf="_Create_ch6q8_40",un={header:Gf,logo:_f,navItem:Qf,active:Hf,create:Vf};function Zi(n,e){if(n==null)return{};var t={},r=Object.keys(n),s,o;for(o=0;o<r.length;o++)s=r[o],!(e.indexOf(s)>=0)&&(t[s]=n[s]);return t}var zf=["color"],Jf=u.forwardRef(function(n,e){var t=n.color,r=t===void 0?"currentColor":t,s=Zi(n,zf);return u.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),u.createElement("path",{d:"M12.8536 2.85355C13.0488 2.65829 13.0488 2.34171 12.8536 2.14645C12.6583 1.95118 12.3417 1.95118 12.1464 2.14645L7.5 6.79289L2.85355 2.14645C2.65829 1.95118 2.34171 1.95118 2.14645 2.14645C1.95118 2.34171 1.95118 2.65829 2.14645 2.85355L6.79289 7.5L2.14645 12.1464C1.95118 12.3417 1.95118 12.6583 2.14645 12.8536C2.34171 13.0488 2.65829 13.0488 2.85355 12.8536L7.5 8.20711L12.1464 12.8536C12.3417 13.0488 12.6583 13.0488 12.8536 12.8536C13.0488 12.6583 13.0488 12.3417 12.8536 12.1464L8.20711 7.5L12.8536 2.85355Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),Kf=["color"],jf=u.forwardRef(function(n,e){var t=n.color,r=t===void 0?"currentColor":t,s=Zi(n,Kf);return u.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),u.createElement("path",{d:"M1.5 3C1.22386 3 1 3.22386 1 3.5C1 3.77614 1.22386 4 1.5 4H13.5C13.7761 4 14 3.77614 14 3.5C14 3.22386 13.7761 3 13.5 3H1.5ZM1 7.5C1 7.22386 1.22386 7 1.5 7H13.5C13.7761 7 14 7.22386 14 7.5C14 7.77614 13.7761 8 13.5 8H1.5C1.22386 8 1 7.77614 1 7.5ZM1 11.5C1 11.2239 1.22386 11 1.5 11H13.5C13.7761 11 14 11.2239 14 11.5C14 11.7761 13.7761 12 13.5 12H1.5C1.22386 12 1 11.7761 1 11.5Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))});const Wf="_easeAnimation_12kgd_4",Yf="__ease0_12kgd_1",Xf="__ease1_12kgd_1",Zf={easeAnimation:Wf,ease0:Yf,ease1:Xf},qf=({menus:n})=>{const[e,t]=u.useState(!1),r=Sc(),s=()=>{t(!e)};return u.useEffect(()=>{t(!1)},[r]),v.jsxs("div",{className:"relative",children:[v.jsx("div",{className:"flex justify-between items-center",children:v.jsx("button",{onClick:s,className:"text-white focus:outline-none lg:hidden",children:e?v.jsx(Jf,{className:"h-6 w-6"}):v.jsx(jf,{className:"h-6 w-6"})})}),e&&v.jsx("nav",{className:`${Zf.easeAnimation} text-white fixed left-0 right-0 bottom-0 top-[88px] bg-black bg-opacity-90 p-8 gap-4 "`,children:v.jsx("ul",{className:"flex flex-col",children:n.map((o,i)=>v.jsx(Ic,{to:o.path,target:o.target,className:"py-2 font-bold text-lg	",children:o.name},i))})})]})},Ss=[{name:"MemeGecko",path:"/gecko"},{name:"LaunchPad",path:"/launchpad"},{name:"Create",path:"/create_token"}],ed=()=>v.jsxs("header",{className:`${un.header} flex justify-between items-center z-[999]`,children:[v.jsx("div",{className:"flex items-center  gap-[3rem]",children:v.jsx("a",{href:"/",children:v.jsx("img",{src:"/logo.svg",alt:"Logo",className:"w-[200px] h-[70px]"})})}),v.jsx("div",{className:"md:flex hidden items-center  ml-[54px] mr-auto",children:Ss.map((n,e)=>v.jsx(Oc,{to:n.path,target:n.target,className:({isActive:t})=>`${un.navItem} ${t?un.active:void 0} ${n.name==="Create"?un.create:""}`,children:n.name},e))}),v.jsxs("div",{className:"flex items-center gap-[1rem]",children:[v.jsx(Uf,{}),v.jsx(qf,{menus:Ss})]})]});function td(){return v.jsx(jc,{position:"top-right",containerClassName:"my-toast",containerStyle:{top:"8rem",right:"3rem"},toastOptions:{className:"toast-inner-container",style:{background:"#35373F",color:"#A0A5AD"}}})}const nd=({children:n})=>v.jsxs("footer",{className:"footer hidden md:flex",children:[v.jsxs("div",{className:"footerLogo",children:[v.jsx("img",{src:"/logo.svg",alt:"",className:"w-[300px] h-[106px]"}),v.jsxs("div",{className:"flex items-center gap-6 mt-6",children:[v.jsx(Lc,{className:"cursor-pointer w-8",hoverColor:"#B53BFF"}),v.jsx(Do,{className:"cursor-pointer w-8",hoverColor:"#B53BFF"}),v.jsx(Bo,{className:"cursor-pointer w-8",hoverColor:"#B53BFF"})]})]}),v.jsxs("div",{className:"footerCopyright",children:[v.jsx("img",{src:"/img-powered-base.png",alt:"",className:"w-[167px] h-[18px]"}),v.jsx("p",{className:"font-OCR",children:"Copyright  2024 MeMoo. All rights reserved."})]})]}),rd=()=>v.jsxs("div",{className:"w-[100vw] h-[100vh] bg-[#F5F5F5] flex flex-col items-center md:hidden ml-[-1.5rem] mobile-bg pt-8",children:[v.jsx("img",{src:"./img-oops.png",alt:"",className:"w-[180px] mt-3"}),v.jsx("p",{className:"font-404px text-[14px] text-[#ffffff] text-center leading-5 my-5",children:"MeMoo currently doesnt support mobile. This site is optimized for PC."}),v.jsx("img",{src:"./img-face.png",alt:"",className:"w-[150px]"}),v.jsx("p",{className:"font-404px text-[18px] text-[#ffffff] text-center leading-5 my-5 w-[327px]",children:"Follow Us"}),v.jsxs("div",{className:"flex items-center gap-6 mb-4",children:[v.jsx(Do,{className:"cursor-pointer w-8"}),v.jsx(Bo,{className:"cursor-pointer w-8"})]}),v.jsx("img",{src:"./img-logo-vertical.png",alt:"",className:"w-[150px] mb-5"}),v.jsx("img",{src:"./img-powered-base.png",className:"w-[168px] ml-2"})]});var _n={exports:{}};_n.exports=Yr;_n.exports.isMobile=Yr;_n.exports.default=Yr;const sd=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,od=/CrOS/,id=/android|ipad|playbook|silk/i;function Yr(n){n||(n={});let e=n.ua;if(!e&&typeof navigator<"u"&&(e=navigator.userAgent),e&&e.headers&&typeof e.headers["user-agent"]=="string"&&(e=e.headers["user-agent"]),typeof e!="string")return!1;let t=sd.test(e)&&!od.test(e)||!!n.tablet&&id.test(e);return!t&&n.tablet&&n.featureDetect&&navigator&&navigator.maxTouchPoints>1&&e.indexOf("Macintosh")!==-1&&e.indexOf("Safari")!==-1&&(t=!0),t}var ad=_n.exports;const Is=kc(ad),Os="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const ks=BigInt(58);function cd(n){const e=U(n);let t=Jo(e),r="";for(;t;)r=Os[Number(t%ks)]+r,t/=ks;for(let s=0;s<e.length&&!e[s];s++)r=Os[0]+r;return r}function ld(n){n=atob(n);const e=new Uint8Array(n.length);for(let t=0;t<n.length;t++)e[t]=n.charCodeAt(t);return U(e)}function ud(n){const e=U(n);let t="";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return btoa(t)}class qi{filter;emitter;#e;constructor(e,t,r){this.#e=t,S(this,{emitter:e,filter:r})}async removeListener(){this.#e!=null&&await this.emitter.off(this.filter,this.#e)}}function fd(n,e,t,r,s){g(!1,`invalid codepoint at offset ${e}; ${n}`,"bytes",t)}function ea(n,e,t,r,s){if(n==="BAD_PREFIX"||n==="UNEXPECTED_CONTINUE"){let o=0;for(let i=e+1;i<t.length&&t[i]>>6===2;i++)o++;return o}return n==="OVERRUN"?t.length-e-1:0}function dd(n,e,t,r,s){return n==="OVERLONG"?(g(typeof s=="number","invalid bad code point for replacement","badCodepoint",s),r.push(s),0):(r.push(65533),ea(n,e,t))}const hd=Object.freeze({error:fd,ignore:ea,replace:dd});function pd(n,e){e==null&&(e=hd.error);const t=U(n,"bytes"),r=[];let s=0;for(;s<t.length;){const o=t[s++];if(!(o>>7)){r.push(o);continue}let i=null,a=null;if((o&224)===192)i=1,a=127;else if((o&240)===224)i=2,a=2047;else if((o&248)===240)i=3,a=65535;else{(o&192)===128?s+=e("UNEXPECTED_CONTINUE",s-1,t,r):s+=e("BAD_PREFIX",s-1,t,r);continue}if(s-1+i>=t.length){s+=e("OVERRUN",s-1,t,r);continue}let c=o&(1<<8-i-1)-1;for(let l=0;l<i;l++){let f=t[s];if((f&192)!=128){s+=e("MISSING_CONTINUE",s,t,r),c=null;break}c=c<<6|f&63,s++}if(c!==null){if(c>1114111){s+=e("OUT_OF_RANGE",s-1-i,t,r,c);continue}if(c>=55296&&c<=57343){s+=e("UTF16_SURROGATE",s-1-i,t,r,c);continue}if(c<=a){s+=e("OVERLONG",s-1-i,t,r,c);continue}r.push(c)}}return r}function Fe(n,e){g(typeof n=="string","invalid string value","str",n);let t=[];for(let r=0;r<n.length;r++){const s=n.charCodeAt(r);if(s<128)t.push(s);else if(s<2048)t.push(s>>6|192),t.push(s&63|128);else if((s&64512)==55296){r++;const o=n.charCodeAt(r);g(r<n.length&&(o&64512)===56320,"invalid surrogate pair","str",n);const i=65536+((s&1023)<<10)+(o&1023);t.push(i>>18|240),t.push(i>>12&63|128),t.push(i>>6&63|128),t.push(i&63|128)}else t.push(s>>12|224),t.push(s>>6&63|128),t.push(s&63|128)}return new Uint8Array(t)}function gd(n){return n.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function Nn(n,e){return gd(pd(n,e))}function ta(n){async function e(t,r){const s=t.url.split(":")[0].toLowerCase();b(s==="http"||s==="https",`unsupported protocol ${s}`,"UNSUPPORTED_OPERATION",{info:{protocol:s},operation:"request"}),b(s==="https"||!t.credentials||t.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let o;if(r){const d=new AbortController;o=d.signal,r.addListener(()=>{d.abort()})}const i={method:t.method,headers:new Headers(Array.from(t)),body:t.body||void 0,signal:o},a=await fetch(t.url,i),c={};a.headers.forEach((d,h)=>{c[h.toLowerCase()]=d});const l=await a.arrayBuffer(),f=l==null?null:new Uint8Array(l);return{statusCode:a.status,statusMessage:a.statusText,headers:c,body:f}}return e}const md=12,wd=250;let Ts=ta();const yd=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),bd=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let ir=!1;async function na(n,e){try{const t=n.match(yd);if(!t)throw new Error("invalid data");return new He(200,"OK",{"content-type":t[1]||"text/plain"},t[2]?ld(t[3]):vd(t[3]))}catch{return new He(599,"BAD REQUEST (invalid data: URI)",{},null,new Le(n))}}function ra(n){async function e(t,r){try{const s=t.match(bd);if(!s)throw new Error("invalid link");return new Le(`${n}${s[2]}`)}catch{return new He(599,"BAD REQUEST (invalid IPFS URI)",{},null,new Le(t))}}return e}const fn={data:na,ipfs:ra("https://gateway.ipfs.io/ipfs/")},sa=new WeakMap;class Ad{#e;#t;constructor(e){this.#e=[],this.#t=!1,sa.set(e,()=>{if(!this.#t){this.#t=!0;for(const t of this.#e)setTimeout(()=>{t()},0);this.#e=[]}})}addListener(e){b(!this.#t,"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),this.#e.push(e)}get cancelled(){return this.#t}checkSignal(){b(!this.cancelled,"cancelled","CANCELLED",{})}}function dn(n){if(n==null)throw new Error("missing signal; should not happen");return n.checkSignal(),n}class Le{#e;#t;#n;#r;#s;#i;#o;#a;#f;#l;#d;#h;#c;#u;#g;get url(){return this.#i}set url(e){this.#i=String(e)}get body(){return this.#o==null?null:new Uint8Array(this.#o)}set body(e){if(e==null)this.#o=void 0,this.#a=void 0;else if(typeof e=="string")this.#o=Fe(e),this.#a="text/plain";else if(e instanceof Uint8Array)this.#o=e,this.#a="application/octet-stream";else if(typeof e=="object")this.#o=Fe(JSON.stringify(e)),this.#a="application/json";else throw new Error("invalid body")}hasBody(){return this.#o!=null}get method(){return this.#r?this.#r:this.hasBody()?"POST":"GET"}set method(e){e==null&&(e=""),this.#r=String(e).toUpperCase()}get headers(){const e=Object.assign({},this.#n);return this.#f&&(e.authorization=`Basic ${ud(Fe(this.#f))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),e["content-type"]==null&&this.#a&&(e["content-type"]=this.#a),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,t){this.#n[String(e).toLowerCase()]=String(t)}clearHeaders(){this.#n={}}[Symbol.iterator](){const e=this.headers,t=Object.keys(e);let r=0;return{next:()=>{if(r<t.length){const s=t[r++];return{value:[s,e[s]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return this.#f||null}setCredentials(e,t){g(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),this.#f=`${e}:${t}`}get allowGzip(){return this.#t}set allowGzip(e){this.#t=!!e}get allowInsecureAuthentication(){return!!this.#e}set allowInsecureAuthentication(e){this.#e=!!e}get timeout(){return this.#s}set timeout(e){g(e>=0,"timeout must be non-zero","timeout",e),this.#s=e}get preflightFunc(){return this.#l||null}set preflightFunc(e){this.#l=e}get processFunc(){return this.#d||null}set processFunc(e){this.#d=e}get retryFunc(){return this.#h||null}set retryFunc(e){this.#h=e}get getUrlFunc(){return this.#g||Ts}set getUrlFunc(e){this.#g=e}constructor(e){this.#i=String(e),this.#e=!1,this.#t=!0,this.#n={},this.#r="",this.#s=3e5,this.#u={slotInterval:wd,maxAttempts:md},this.#g=null}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${this.#o?N(this.#o):"null"}>`}setThrottleParams(e){e.slotInterval!=null&&(this.#u.slotInterval=e.slotInterval),e.maxAttempts!=null&&(this.#u.maxAttempts=e.maxAttempts)}async#p(e,t,r,s,o){if(e>=this.#u.maxAttempts)return o.makeServerError("exceeded maximum retry limit");b(Ms()<=t,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:s}),r>0&&await Ed(r);let i=this.clone();const a=(i.url.split(":")[0]||"").toLowerCase();if(a in fn){const f=await fn[a](i.url,dn(s.#c));if(f instanceof He){let d=f;if(this.processFunc){dn(s.#c);try{d=await this.processFunc(i,d)}catch(h){(h.throttle==null||typeof h.stall!="number")&&d.makeServerError("error in post-processing function",h).assertOk()}}return d}i=f}this.preflightFunc&&(i=await this.preflightFunc(i));const c=await this.getUrlFunc(i,dn(s.#c));let l=new He(c.statusCode,c.statusMessage,c.headers,c.body,s);if(l.statusCode===301||l.statusCode===302){try{const f=l.headers.location||"";return i.redirect(f).#p(e+1,t,0,s,l)}catch{}return l}else if(l.statusCode===429&&(this.retryFunc==null||await this.retryFunc(i,l,e))){const f=l.headers["retry-after"];let d=this.#u.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return typeof f=="string"&&f.match(/^[1-9][0-9]*$/)&&(d=parseInt(f)),i.clone().#p(e+1,t,d,s,l)}if(this.processFunc){dn(s.#c);try{l=await this.processFunc(i,l)}catch(f){(f.throttle==null||typeof f.stall!="number")&&l.makeServerError("error in post-processing function",f).assertOk();let d=this.#u.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return f.stall>=0&&(d=f.stall),i.clone().#p(e+1,t,d,s,l)}}return l}send(){return b(this.#c==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),this.#c=new Ad(this),this.#p(0,Ms()+this.timeout,0,this,new He(0,"",{},null,this))}cancel(){b(this.#c!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=sa.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const t=this.url.split(":")[0].toLowerCase(),r=e.split(":")[0].toLowerCase();b(this.method==="GET"&&(t!=="https"||r!=="http")&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});const s=new Le(e);return s.method="GET",s.allowGzip=this.allowGzip,s.timeout=this.timeout,s.#n=Object.assign({},this.#n),this.#o&&(s.#o=new Uint8Array(this.#o)),s.#a=this.#a,s}clone(){const e=new Le(this.url);return e.#r=this.#r,this.#o&&(e.#o=this.#o),e.#a=this.#a,e.#n=Object.assign({},this.#n),e.#f=this.#f,this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),e.#l=this.#l,e.#d=this.#d,e.#h=this.#h,e.#g=this.#g,e}static lockConfig(){ir=!0}static getGateway(e){return fn[e.toLowerCase()]||null}static registerGateway(e,t){if(e=e.toLowerCase(),e==="http"||e==="https")throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(ir)throw new Error("gateways locked");fn[e]=t}static registerGetUrl(e){if(ir)throw new Error("gateways locked");Ts=e}static createGetUrlFunc(e){return ta()}static createDataGateway(){return na}static createIpfsGatewayFunc(e){return ra(e)}}class He{#e;#t;#n;#r;#s;#i;toString(){return`<FetchResponse status=${this.statusCode} body=${this.#r?N(this.#r):"null"}>`}get statusCode(){return this.#e}get statusMessage(){return this.#t}get headers(){return Object.assign({},this.#n)}get body(){return this.#r==null?null:new Uint8Array(this.#r)}get bodyText(){try{return this.#r==null?"":Nn(this.#r)}catch{b(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{b(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,t=Object.keys(e);let r=0;return{next:()=>{if(r<t.length){const s=t[r++];return{value:[s,e[s]],done:!1}}return{value:void 0,done:!0}}}}constructor(e,t,r,s,o){this.#e=e,this.#t=t,this.#n=Object.keys(r).reduce((i,a)=>(i[a.toLowerCase()]=String(r[a]),i),{}),this.#r=s==null?null:new Uint8Array(s),this.#s=o||null,this.#i={message:""}}makeServerError(e,t){let r;e?r=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,r=`CLIENT ESCALATED SERVER ERROR (${e})`);const s=new He(599,r,this.headers,this.body,this.#s||void 0);return s.#i={message:e,error:t},s}throwThrottleError(e,t){t==null?t=-1:g(Number.isInteger(t)&&t>=0,"invalid stall timeout","stall",t);const r=new Error(e||"throttling requests");throw S(r,{stall:t,throttle:!0}),r}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return this.#r!=null}get request(){return this.#s}ok(){return this.#i.message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:t}=this.#i;e===""&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let r=null;this.request&&(r=this.request.url);let s=null;try{this.#r&&(s=Nn(this.#r))}catch{}b(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:t,info:{requestUrl:r,responseBody:s,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}}function Ms(){return new Date().getTime()}function vd(n){return Fe(n.replace(/%([0-9a-f][0-9a-f])/gi,(e,t)=>String.fromCharCode(parseInt(t,16))))}function Ed(n){return new Promise(e=>setTimeout(e,n))}function Cd(n){let e=n.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function Ds(n,e,t){let r=0;for(let s=0;s<t;s++)r=r*256+n[e+s];return r}function Bs(n,e,t,r){const s=[];for(;t<e+1+r;){const o=oa(n,t);s.push(o.result),t+=o.consumed,b(t<=e+1+r,"child data too short","BUFFER_OVERRUN",{buffer:n,length:r,offset:e})}return{consumed:1+r,result:s}}function oa(n,e){b(n.length!==0,"data too short","BUFFER_OVERRUN",{buffer:n,length:0,offset:1});const t=r=>{b(r<=n.length,"data short segment too short","BUFFER_OVERRUN",{buffer:n,length:n.length,offset:r})};if(n[e]>=248){const r=n[e]-247;t(e+1+r);const s=Ds(n,e+1,r);return t(e+1+r+s),Bs(n,e,e+1+r,r+s)}else if(n[e]>=192){const r=n[e]-192;return t(e+1+r),Bs(n,e,e+1,r)}else if(n[e]>=184){const r=n[e]-183;t(e+1+r);const s=Ds(n,e+1,r);t(e+1+r+s);const o=N(n.slice(e+1+r,e+1+r+s));return{consumed:1+r+s,result:o}}else if(n[e]>=128){const r=n[e]-128;t(e+1+r);const s=N(n.slice(e+1,e+1+r));return{consumed:1+r,result:s}}return{consumed:1,result:Cd(n[e])}}function Qn(n){const e=U(n,"data"),t=oa(e,0);return g(t.consumed===e.length,"unexpected junk after rlp payload","data",n),t.result}function Fs(n){const e=[];for(;n;)e.unshift(n&255),n>>=8;return e}function ia(n){if(Array.isArray(n)){let r=[];if(n.forEach(function(o){r=r.concat(ia(o))}),r.length<=55)return r.unshift(192+r.length),r;const s=Fs(r.length);return s.unshift(247+s.length),s.concat(r)}const e=Array.prototype.slice.call(U(n,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const t=Fs(e.length);return t.unshift(183+t.length),t.concat(e)}const $s="0123456789abcdef";function Pt(n){let e="0x";for(const t of ia(n))e+=$s[t>>4],e+=$s[t&15];return e}const le=32,Er=new Uint8Array(le),xd=["then"],hn={};function Dt(n,e){const t=new Error(`deferred error during ABI decoding triggered accessing ${n}`);throw t.error=e,t}class vt extends Array{#e;constructor(...e){const t=e[0];let r=e[1],s=(e[2]||[]).slice(),o=!0;t!==hn&&(r=e,s=[],o=!1),super(r.length),r.forEach((a,c)=>{this[c]=a});const i=s.reduce((a,c)=>(typeof c=="string"&&a.set(c,(a.get(c)||0)+1),a),new Map);if(this.#e=Object.freeze(r.map((a,c)=>{const l=s[c];return l!=null&&i.get(l)===1?l:null})),!!o)return Object.freeze(this),new Proxy(this,{get:(a,c,l)=>{if(typeof c=="string"){if(c.match(/^[0-9]+$/)){const d=$(c,"%index");if(d<0||d>=this.length)throw new RangeError("out of result range");const h=a[d];return h instanceof Error&&Dt(`index ${d}`,h),h}if(xd.indexOf(c)>=0)return Reflect.get(a,c,l);const f=a[c];if(f instanceof Function)return function(...d){return f.apply(this===l?a:this,d)};if(!(c in a))return a.getValue.apply(this===l?a:this,[c])}return Reflect.get(a,c,l)}})}toArray(){const e=[];return this.forEach((t,r)=>{t instanceof Error&&Dt(`index ${r}`,t),e.push(t)}),e}toObject(){return this.#e.reduce((e,t,r)=>(b(t!=null,"value at index ${ index } unnamed","UNSUPPORTED_OPERATION",{operation:"toObject()"}),t in e||(e[t]=this.getValue(t)),e),{})}slice(e,t){e==null&&(e=0),e<0&&(e+=this.length,e<0&&(e=0)),t==null&&(t=this.length),t<0&&(t+=this.length,t<0&&(t=0)),t>this.length&&(t=this.length);const r=[],s=[];for(let o=e;o<t;o++)r.push(this[o]),s.push(this.#e[o]);return new vt(hn,r,s)}filter(e,t){const r=[],s=[];for(let o=0;o<this.length;o++){const i=this[o];i instanceof Error&&Dt(`index ${o}`,i),e.call(t,i,o,this)&&(r.push(i),s.push(this.#e[o]))}return new vt(hn,r,s)}map(e,t){const r=[];for(let s=0;s<this.length;s++){const o=this[s];o instanceof Error&&Dt(`index ${s}`,o),r.push(e.call(t,o,s,this))}return r}getValue(e){const t=this.#e.indexOf(e);if(t===-1)return;const r=this[t];return r instanceof Error&&Dt(`property ${JSON.stringify(e)}`,r.error),r}static fromItems(e,t){return new vt(hn,e,t)}}function Ls(n){let e=pe(n);return b(e.length<=le,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:le,offset:e.length}),e.length!==le&&(e=ae(Z([Er.slice(e.length%le),e]))),e}class _e{name;type;localName;dynamic;constructor(e,t,r,s){S(this,{name:e,type:t,localName:r,dynamic:s},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,t){g(!1,e,this.localName,t)}}class Cr{#e;#t;constructor(){this.#e=[],this.#t=0}get data(){return Z(this.#e)}get length(){return this.#t}#n(e){return this.#e.push(e),this.#t+=e.length,e.length}appendWriter(e){return this.#n(ae(e.data))}writeBytes(e){let t=ae(e);const r=t.length%le;return r&&(t=ae(Z([t,Er.slice(r)]))),this.#n(t)}writeValue(e){return this.#n(Ls(e))}writeUpdatableValue(){const e=this.#e.length;return this.#e.push(Er),this.#t+=le,t=>{this.#e[e]=Ls(t)}}}class Xr{allowLoose;#e;#t;#n;#r;#s;constructor(e,t,r){S(this,{allowLoose:!!t}),this.#e=ae(e),this.#n=0,this.#r=null,this.#s=r??1024,this.#t=0}get data(){return N(this.#e)}get dataLength(){return this.#e.length}get consumed(){return this.#t}get bytes(){return new Uint8Array(this.#e)}#i(e){if(this.#r)return this.#r.#i(e);this.#n+=e,b(this.#s<1||this.#n<=this.#s*this.dataLength,`compressed ABI data exceeds inflation ratio of ${this.#s} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:ae(this.#e),offset:this.#t,length:e,info:{bytesRead:this.#n,dataLength:this.dataLength}})}#o(e,t,r){let s=Math.ceil(t/le)*le;return this.#t+s>this.#e.length&&(this.allowLoose&&r&&this.#t+t<=this.#e.length?s=t:b(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:ae(this.#e),length:this.#e.length,offset:this.#t+s})),this.#e.slice(this.#t,this.#t+s)}subReader(e){const t=new Xr(this.#e.slice(this.#t+e),this.allowLoose,this.#s);return t.#r=this,t}readBytes(e,t){let r=this.#o(0,e,!!t);return this.#i(e),this.#t+=r.length,r.slice(0,e)}readValue(){return Jo(this.readBytes(le))}readIndex(){return Wc(this.readBytes(le))}}let aa=!1;const ca=function(n){return Cc(n)};let la=ca;function Q(n){const e=U(n,"data");return N(la(e))}Q._=ca;Q.lock=function(){aa=!0};Q.register=function(n){if(aa)throw new TypeError("keccak256 is locked");la=n};Object.freeze(Q);const Vt="0x0000000000000000000000000000000000000000",Us="0x0000000000000000000000000000000000000000000000000000000000000000",Gs=BigInt(0),_s=BigInt(1),Qs=BigInt(2),Hs=BigInt(27),Vs=BigInt(28),pn=BigInt(35),ht={};function zs(n){return nt(pe(n),32)}class ee{#e;#t;#n;#r;get r(){return this.#e}set r(e){g(At(e)===32,"invalid r","value",e),this.#e=N(e)}get s(){return this.#t}set s(e){g(At(e)===32,"invalid s","value",e);const t=N(e);g(parseInt(t.substring(0,3))<8,"non-canonical s","value",t),this.#t=t}get v(){return this.#n}set v(e){const t=$(e,"value");g(t===27||t===28,"invalid v","v",e),this.#n=t}get networkV(){return this.#r}get legacyChainId(){const e=this.networkV;return e==null?null:ee.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){const e=U(this.s);return this.yParity&&(e[0]|=128),N(e)}get compactSerialized(){return Z([this.r,this.yParityAndS])}get serialized(){return Z([this.r,this.s,this.yParity?"0x1c":"0x1b"])}constructor(e,t,r,s){Bn(e,ht,"Signature"),this.#e=t,this.#t=r,this.#n=s,this.#r=null}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const e=new ee(ht,this.r,this.s,this.v);return this.networkV&&(e.#r=this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(e){const t=x(e,"v");return t==Hs||t==Vs?Gs:(g(t>=pn,"invalid EIP-155 v","v",e),(t-pn)/Qs)}static getChainIdV(e,t){return x(e)*Qs+BigInt(35+t-27)}static getNormalizedV(e){const t=x(e);return t===Gs||t===Hs?27:t===_s||t===Vs?28:(g(t>=pn,"invalid v","v",e),t&_s?27:28)}static from(e){function t(l,f){g(l,f,"signature",e)}if(e==null)return new ee(ht,Us,Us,27);if(typeof e=="string"){const l=U(e,"signature");if(l.length===64){const f=N(l.slice(0,32)),d=l.slice(32,64),h=d[0]&128?28:27;return d[0]&=127,new ee(ht,f,N(d),h)}if(l.length===65){const f=N(l.slice(0,32)),d=l.slice(32,64);t((d[0]&128)===0,"non-canonical s");const h=ee.getNormalizedV(l[64]);return new ee(ht,f,N(d),h)}t(!1,"invalid raw signature length")}if(e instanceof ee)return e.clone();const r=e.r;t(r!=null,"missing r");const s=zs(r),o=function(l,f){if(l!=null)return zs(l);if(f!=null){t(H(f,32),"invalid yParityAndS");const d=U(f);return d[0]&=127,N(d)}t(!1,"missing s")}(e.s,e.yParityAndS);t((U(o)[0]&128)==0,"non-canonical s");const{networkV:i,v:a}=function(l,f,d){if(l!=null){const h=x(l);return{networkV:h>=pn?h:void 0,v:ee.getNormalizedV(h)}}if(f!=null)return t(H(f,32),"invalid yParityAndS"),{v:U(f)[0]&128?28:27};if(d!=null){switch($(d,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}t(!1,"invalid yParity")}t(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),c=new ee(ht,s,o,a);return i&&(c.#r=i),t(e.yParity==null||$(e.yParity,"sig.yParity")===c.yParity,"yParity mismatch"),t(e.yParityAndS==null||e.yParityAndS===c.yParityAndS,"yParityAndS mismatch"),c}}class De{#e;constructor(e){g(At(e)===32,"invalid private key","privateKey","[REDACTED]"),this.#e=N(e)}get privateKey(){return this.#e}get publicKey(){return De.computePublicKey(this.#e)}get compressedPublicKey(){return De.computePublicKey(this.#e,!0)}sign(e){g(At(e)===32,"invalid digest length","digest",e);const t=We.sign(ae(e),ae(this.#e),{lowS:!0});return ee.from({r:Ve(t.r,32),s:Ve(t.s,32),v:t.recovery?28:27})}computeSharedSecret(e){const t=De.computePublicKey(e);return N(We.getSharedSecret(ae(this.#e),U(t),!1))}static computePublicKey(e,t){let r=U(e,"key");if(r.length===32){const o=We.getPublicKey(r,!!t);return N(o)}if(r.length===64){const o=new Uint8Array(65);o[0]=4,o.set(r,1),r=o}const s=We.ProjectivePoint.fromHex(r);return N(s.toRawBytes(t))}static recoverPublicKey(e,t){g(At(e)===32,"invalid digest length","digest",e);const r=ee.from(t);let s=We.Signature.fromCompact(ae(Z([r.r,r.s])));s=s.addRecoveryBit(r.yParity);const o=s.recoverPublicKey(ae(e));return g(o!=null,"invalid signautre for digest","signature",t),"0x"+o.toHex(!1)}static addPoints(e,t,r){const s=We.ProjectivePoint.fromHex(De.computePublicKey(e).substring(2)),o=We.ProjectivePoint.fromHex(De.computePublicKey(t).substring(2));return"0x"+s.add(o).toHex(!!r)}}const Pd=BigInt(0),Nd=BigInt(36);function Js(n){n=n.toLowerCase();const e=n.substring(2).split(""),t=new Uint8Array(40);for(let s=0;s<40;s++)t[s]=e[s].charCodeAt(0);const r=U(Q(t));for(let s=0;s<40;s+=2)r[s>>1]>>4>=8&&(e[s]=e[s].toUpperCase()),(r[s>>1]&15)>=8&&(e[s+1]=e[s+1].toUpperCase());return"0x"+e.join("")}const Zr={};for(let n=0;n<10;n++)Zr[String(n)]=String(n);for(let n=0;n<26;n++)Zr[String.fromCharCode(65+n)]=String(10+n);const Ks=15;function Rd(n){n=n.toUpperCase(),n=n.substring(4)+n.substring(0,2)+"00";let e=n.split("").map(r=>Zr[r]).join("");for(;e.length>=Ks;){let r=e.substring(0,Ks);e=parseInt(r,10)%97+e.substring(r.length)}let t=String(98-parseInt(e,10)%97);for(;t.length<2;)t="0"+t;return t}const Sd=function(){const n={};for(let e=0;e<36;e++){const t="0123456789abcdefghijklmnopqrstuvwxyz"[e];n[t]=BigInt(e)}return n}();function Id(n){n=n.toLowerCase();let e=Pd;for(let t=0;t<n.length;t++)e=e*Nd+Sd[n[t]];return e}function L(n){if(g(typeof n=="string","invalid address","address",n),n.match(/^(0x)?[0-9a-fA-F]{40}$/)){n.startsWith("0x")||(n="0x"+n);const e=Js(n);return g(!n.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===n,"bad address checksum","address",n),e}if(n.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){g(n.substring(2,4)===Rd(n),"bad icap checksum","address",n);let e=Id(n.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return Js("0x"+e)}g(!1,"invalid address","address",n)}function Od(n){const e=L(n.from);let r=x(n.nonce,"tx.nonce").toString(16);return r==="0"?r="0x":r.length%2?r="0x0"+r:r="0x"+r,L(j(Q(Pt([e,r])),12))}function ua(n){return n&&typeof n.getAddress=="function"}async function ar(n,e){const t=await e;return(t==null||t==="0x0000000000000000000000000000000000000000")&&(b(typeof n!="string","unconfigured name","UNCONFIGURED_NAME",{value:n}),g(!1,"invalid AddressLike value; did not resolve to a value address","target",n)),L(t)}function ue(n,e){if(typeof n=="string")return n.match(/^0x[0-9a-f]{40}$/i)?L(n):(b(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),ar(n,e.resolveName(n)));if(ua(n))return ar(n,n.getAddress());if(n&&typeof n.then=="function")return ar(n,n);g(!1,"unsupported addressable value","target",n)}const Te={};function E(n,e){let t=!1;return e<0&&(t=!0,e*=-1),new W(Te,`${t?"":"u"}int${e}`,n,{signed:t,width:e})}function F(n,e){return new W(Te,`bytes${e||""}`,n,{size:e})}const js=Symbol.for("_ethers_typed");class W{type;value;#e;_typedSymbol;constructor(e,t,r,s){s==null&&(s=null),Bn(Te,e,"Typed"),S(this,{_typedSymbol:js,type:t,value:r}),this.#e=s,this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return this.#e}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return this.#e===!0?-1:this.#e===!1?this.value.length:null}static from(e,t){return new W(Te,e,t)}static uint8(e){return E(e,8)}static uint16(e){return E(e,16)}static uint24(e){return E(e,24)}static uint32(e){return E(e,32)}static uint40(e){return E(e,40)}static uint48(e){return E(e,48)}static uint56(e){return E(e,56)}static uint64(e){return E(e,64)}static uint72(e){return E(e,72)}static uint80(e){return E(e,80)}static uint88(e){return E(e,88)}static uint96(e){return E(e,96)}static uint104(e){return E(e,104)}static uint112(e){return E(e,112)}static uint120(e){return E(e,120)}static uint128(e){return E(e,128)}static uint136(e){return E(e,136)}static uint144(e){return E(e,144)}static uint152(e){return E(e,152)}static uint160(e){return E(e,160)}static uint168(e){return E(e,168)}static uint176(e){return E(e,176)}static uint184(e){return E(e,184)}static uint192(e){return E(e,192)}static uint200(e){return E(e,200)}static uint208(e){return E(e,208)}static uint216(e){return E(e,216)}static uint224(e){return E(e,224)}static uint232(e){return E(e,232)}static uint240(e){return E(e,240)}static uint248(e){return E(e,248)}static uint256(e){return E(e,256)}static uint(e){return E(e,256)}static int8(e){return E(e,-8)}static int16(e){return E(e,-16)}static int24(e){return E(e,-24)}static int32(e){return E(e,-32)}static int40(e){return E(e,-40)}static int48(e){return E(e,-48)}static int56(e){return E(e,-56)}static int64(e){return E(e,-64)}static int72(e){return E(e,-72)}static int80(e){return E(e,-80)}static int88(e){return E(e,-88)}static int96(e){return E(e,-96)}static int104(e){return E(e,-104)}static int112(e){return E(e,-112)}static int120(e){return E(e,-120)}static int128(e){return E(e,-128)}static int136(e){return E(e,-136)}static int144(e){return E(e,-144)}static int152(e){return E(e,-152)}static int160(e){return E(e,-160)}static int168(e){return E(e,-168)}static int176(e){return E(e,-176)}static int184(e){return E(e,-184)}static int192(e){return E(e,-192)}static int200(e){return E(e,-200)}static int208(e){return E(e,-208)}static int216(e){return E(e,-216)}static int224(e){return E(e,-224)}static int232(e){return E(e,-232)}static int240(e){return E(e,-240)}static int248(e){return E(e,-248)}static int256(e){return E(e,-256)}static int(e){return E(e,-256)}static bytes1(e){return F(e,1)}static bytes2(e){return F(e,2)}static bytes3(e){return F(e,3)}static bytes4(e){return F(e,4)}static bytes5(e){return F(e,5)}static bytes6(e){return F(e,6)}static bytes7(e){return F(e,7)}static bytes8(e){return F(e,8)}static bytes9(e){return F(e,9)}static bytes10(e){return F(e,10)}static bytes11(e){return F(e,11)}static bytes12(e){return F(e,12)}static bytes13(e){return F(e,13)}static bytes14(e){return F(e,14)}static bytes15(e){return F(e,15)}static bytes16(e){return F(e,16)}static bytes17(e){return F(e,17)}static bytes18(e){return F(e,18)}static bytes19(e){return F(e,19)}static bytes20(e){return F(e,20)}static bytes21(e){return F(e,21)}static bytes22(e){return F(e,22)}static bytes23(e){return F(e,23)}static bytes24(e){return F(e,24)}static bytes25(e){return F(e,25)}static bytes26(e){return F(e,26)}static bytes27(e){return F(e,27)}static bytes28(e){return F(e,28)}static bytes29(e){return F(e,29)}static bytes30(e){return F(e,30)}static bytes31(e){return F(e,31)}static bytes32(e){return F(e,32)}static address(e){return new W(Te,"address",e)}static bool(e){return new W(Te,"bool",!!e)}static bytes(e){return new W(Te,"bytes",e)}static string(e){return new W(Te,"string",e)}static array(e,t){throw new Error("not implemented yet")}static tuple(e,t){throw new Error("not implemented yet")}static overrides(e){return new W(Te,"overrides",Object.assign({},e))}static isTyped(e){return e&&typeof e=="object"&&"_typedSymbol"in e&&e._typedSymbol===js}static dereference(e,t){if(W.isTyped(e)){if(e.type!==t)throw new Error(`invalid type: expecetd ${t}, got ${e.type}`);return e.value}return e}}class kd extends _e{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){let r=W.dereference(t,"string");try{r=L(r)}catch(s){return this._throwError(s.message,t)}return e.writeValue(r)}decode(e){return L(Ve(e.readValue(),20))}}class Td extends _e{coder;constructor(e){super(e.name,e.type,"_",e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}function fa(n,e,t){let r=[];if(Array.isArray(t))r=t;else if(t&&typeof t=="object"){let c={};r=e.map(l=>{const f=l.localName;return b(f,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:l},value:t}),b(!c[f],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:l},value:t}),c[f]=!0,t[f]})}else g(!1,"invalid tuple value","tuple",t);g(e.length===r.length,"types/value length mismatch","tuple",t);let s=new Cr,o=new Cr,i=[];e.forEach((c,l)=>{let f=r[l];if(c.dynamic){let d=o.length;c.encode(o,f);let h=s.writeUpdatableValue();i.push(p=>{h(p+d)})}else c.encode(s,f)}),i.forEach(c=>{c(s.length)});let a=n.appendWriter(s);return a+=n.appendWriter(o),a}function da(n,e){let t=[],r=[],s=n.subReader(0);return e.forEach(o=>{let i=null;if(o.dynamic){let a=n.readIndex(),c=s.subReader(a);try{i=o.decode(c)}catch(l){if(ce(l,"BUFFER_OVERRUN"))throw l;i=l,i.baseType=o.name,i.name=o.localName,i.type=o.type}}else try{i=o.decode(n)}catch(a){if(ce(a,"BUFFER_OVERRUN"))throw a;i=a,i.baseType=o.name,i.name=o.localName,i.type=o.type}if(i==null)throw new Error("investigate");t.push(i),r.push(o.localName||null)}),vt.fromItems(t,r)}class Md extends _e{coder;length;constructor(e,t,r){const s=e.type+"["+(t>=0?t:"")+"]",o=t===-1||e.dynamic;super("array",s,r,o),S(this,{coder:e,length:t})}defaultValue(){const e=this.coder.defaultValue(),t=[];for(let r=0;r<this.length;r++)t.push(e);return t}encode(e,t){const r=W.dereference(t,"array");Array.isArray(r)||this._throwError("expected array value",r);let s=this.length;s===-1&&(s=r.length,e.writeValue(r.length)),Ko(r.length,s,"coder array"+(this.localName?" "+this.localName:""));let o=[];for(let i=0;i<r.length;i++)o.push(this.coder);return fa(e,o,r)}decode(e){let t=this.length;t===-1&&(t=e.readIndex(),b(t*le<=e.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:e.bytes,offset:t*le,length:e.dataLength}));let r=[];for(let s=0;s<t;s++)r.push(new Td(this.coder));return da(e,r)}}class Dd extends _e{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){const r=W.dereference(t,"bool");return e.writeValue(r?1:0)}decode(e){return!!e.readValue()}}class ha extends _e{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=ae(t);let r=e.writeValue(t.length);return r+=e.writeBytes(t),r}decode(e){return e.readBytes(e.readIndex(),!0)}}class Bd extends ha{constructor(e){super("bytes",e)}decode(e){return N(super.decode(e))}}class Fd extends _e{size;constructor(e,t){let r="bytes"+String(e);super(r,r,t,!1),S(this,{size:e},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,t){let r=ae(W.dereference(t,this.type));return r.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(r)}decode(e){return N(e.readBytes(this.size))}}const $d=new Uint8Array([]);class Ld extends _e{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return t!=null&&this._throwError("not null",t),e.writeBytes($d)}decode(e){return e.readBytes(0),null}}const Ud=BigInt(0),Gd=BigInt(1),_d=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class Qd extends _e{size;signed;constructor(e,t,r){const s=(t?"int":"uint")+e*8;super(s,s,r,!1),S(this,{size:e,signed:t},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(e,t){let r=x(W.dereference(t,this.type)),s=Bt(_d,le*8);if(this.signed){let o=Bt(s,this.size*8-1);(r>o||r<-(o+Gd))&&this._throwError("value out-of-bounds",t),r=jo(r,8*le)}else(r<Ud||r>Bt(s,this.size*8))&&this._throwError("value out-of-bounds",t);return e.writeValue(r)}decode(e){let t=Bt(e.readValue(),this.size*8);return this.signed&&(t=Yc(t,this.size*8)),t}}class Hd extends ha{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,Fe(W.dereference(t,"string")))}decode(e){return Nn(super.decode(e))}}class gn extends _e{coders;constructor(e,t){let r=!1;const s=[];e.forEach(i=>{i.dynamic&&(r=!0),s.push(i.type)});const o="tuple("+s.join(",")+")";super("tuple",o,t,r),S(this,{coders:Object.freeze(e.slice())})}defaultValue(){const e=[];this.coders.forEach(r=>{e.push(r.defaultValue())});const t=this.coders.reduce((r,s)=>{const o=s.localName;return o&&(r[o]||(r[o]=0),r[o]++),r},{});return this.coders.forEach((r,s)=>{let o=r.localName;!o||t[o]!==1||(o==="length"&&(o="_length"),e[o]==null&&(e[o]=e[s]))}),Object.freeze(e)}encode(e,t){const r=W.dereference(t,"tuple");return fa(e,this.coders,r)}decode(e){return da(e,this.coders)}}function rt(n){return Q(Fe(n))}var Vd="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";const Ws=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),Ys=4;function zd(n){let e=0;function t(){return n[e++]<<8|n[e++]}let r=t(),s=1,o=[0,1];for(let M=1;M<r;M++)o.push(s+=t());let i=t(),a=e;e+=i;let c=0,l=0;function f(){return c==0&&(l=l<<8|n[e++],c=8),l>>--c&1}const d=31,h=2**d,p=h>>>1,w=p>>1,m=h-1;let y=0;for(let M=0;M<d;M++)y=y<<1|f();let A=[],C=0,R=h;for(;;){let M=Math.floor(((y-C+1)*s-1)/R),J=0,K=r;for(;K-J>1;){let V=J+K>>>1;M<o[V]?K=V:J=V}if(J==0)break;A.push(J);let O=C+Math.floor(R*o[J]/s),k=C+Math.floor(R*o[J+1]/s)-1;for(;!((O^k)&p);)y=y<<1&m|f(),O=O<<1&m,k=k<<1&m|1;for(;O&~k&w;)y=y&p|y<<1&m>>>1|f(),O=O<<1^p,k=(k^p)<<1|p|1;C=O,R=1+k-O}let T=r-4;return A.map(M=>{switch(M-T){case 3:return T+65792+(n[a++]<<16|n[a++]<<8|n[a++]);case 2:return T+256+(n[a++]<<8|n[a++]);case 1:return T+n[a++];default:return M-1}})}function Jd(n){let e=0;return()=>n[e++]}function pa(n){return Jd(zd(Kd(n)))}function Kd(n){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((s,o)=>e[s.charCodeAt(0)]=o);let t=n.length,r=new Uint8Array(6*t>>3);for(let s=0,o=0,i=0,a=0;s<t;s++)a=a<<6|e[n.charCodeAt(s)],i+=6,i>=8&&(r[o++]=a>>(i-=8));return r}function jd(n){return n&1?~n>>1:n>>1}function Wd(n,e){let t=Array(n);for(let r=0,s=0;r<n;r++)t[r]=s+=jd(e());return t}function zt(n,e=0){let t=[];for(;;){let r=n(),s=n();if(!s)break;e+=r;for(let o=0;o<s;o++)t.push(e+o);e+=s+1}return t}function ga(n){return Jt(()=>{let e=zt(n);if(e.length)return e})}function ma(n){let e=[];for(;;){let t=n();if(t==0)break;e.push(Yd(t,n))}for(;;){let t=n()-1;if(t<0)break;e.push(Xd(t,n))}return e.flat()}function Jt(n){let e=[];for(;;){let t=n(e.length);if(!t)break;e.push(t)}return e}function wa(n,e,t){let r=Array(n).fill().map(()=>[]);for(let s=0;s<e;s++)Wd(n,t).forEach((o,i)=>r[i].push(o));return r}function Yd(n,e){let t=1+e(),r=e(),s=Jt(e);return wa(s.length,1+n,e).flatMap((i,a)=>{let[c,...l]=i;return Array(s[a]).fill().map((f,d)=>{let h=d*r;return[c+d*t,l.map(p=>p+h)]})})}function Xd(n,e){let t=1+e();return wa(t,1+n,e).map(s=>[s[0],s.slice(1)])}function Zd(n){let e=[],t=zt(n);return s(r([]),[]),e;function r(o){let i=n(),a=Jt(()=>{let c=zt(n).map(l=>t[l]);if(c.length)return r(c)});return{S:i,B:a,Q:o}}function s({S:o,B:i},a,c){if(!(o&4&&c===a[a.length-1])){o&2&&(c=a[a.length-1]),o&1&&e.push(a);for(let l of i)for(let f of l.Q)s(l,[...a,f],c)}}}function qd(n){return n.toString(16).toUpperCase().padStart(2,"0")}function ya(n){return`{${qd(n)}}`}function eh(n){let e=[];for(let t=0,r=n.length;t<r;){let s=n.codePointAt(t);t+=s<65536?1:2,e.push(s)}return e}function Nt(n){let t=n.length;if(t<4096)return String.fromCodePoint(...n);let r=[];for(let s=0;s<t;)r.push(String.fromCodePoint(...n.slice(s,s+=4096)));return r.join("")}function th(n,e){let t=n.length,r=t-e.length;for(let s=0;r==0&&s<t;s++)r=n[s]-e[s];return r}var nh="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";const Kt=44032,Rn=4352,Sn=4449,In=4519,ba=19,Aa=21,Rt=28,On=Aa*Rt,rh=ba*On,sh=Kt+rh,oh=Rn+ba,ih=Sn+Aa,ah=In+Rt;function Ft(n){return n>>24&255}function va(n){return n&16777215}let xr,Xs,Pr,bn;function ch(){let n=pa(nh);xr=new Map(ga(n).flatMap((e,t)=>e.map(r=>[r,t+1<<24]))),Xs=new Set(zt(n)),Pr=new Map,bn=new Map;for(let[e,t]of ma(n)){if(!Xs.has(e)&&t.length==2){let[r,s]=t,o=bn.get(r);o||(o=new Map,bn.set(r,o)),o.set(s,e)}Pr.set(e,t.reverse())}}function Ea(n){return n>=Kt&&n<sh}function lh(n,e){if(n>=Rn&&n<oh&&e>=Sn&&e<ih)return Kt+(n-Rn)*On+(e-Sn)*Rt;if(Ea(n)&&e>In&&e<ah&&(n-Kt)%Rt==0)return n+(e-In);{let t=bn.get(n);return t&&(t=t.get(e),t)?t:-1}}function Ca(n){xr||ch();let e=[],t=[],r=!1;function s(o){let i=xr.get(o);i&&(r=!0,o|=i),e.push(o)}for(let o of n)for(;;){if(o<128)e.push(o);else if(Ea(o)){let i=o-Kt,a=i/On|0,c=i%On/Rt|0,l=i%Rt;s(Rn+a),s(Sn+c),l>0&&s(In+l)}else{let i=Pr.get(o);i?t.push(...i):s(o)}if(!t.length)break;o=t.pop()}if(r&&e.length>1){let o=Ft(e[0]);for(let i=1;i<e.length;i++){let a=Ft(e[i]);if(a==0||o<=a){o=a;continue}let c=i-1;for(;;){let l=e[c+1];if(e[c+1]=e[c],e[c]=l,!c||(o=Ft(e[--c]),o<=a))break}o=Ft(e[i])}}return e}function uh(n){let e=[],t=[],r=-1,s=0;for(let o of n){let i=Ft(o),a=va(o);if(r==-1)i==0?r=a:e.push(a);else if(s>0&&s>=i)i==0?(e.push(r,...t),t.length=0,r=a):t.push(a),s=i;else{let c=lh(r,a);c>=0?r=c:s==0&&i==0?(e.push(r),r=a):(t.push(a),s=i)}}return r>=0&&e.push(r,...t),e}function xa(n){return Ca(n).map(va)}function fh(n){return uh(Ca(n))}const Zs=45,Pa=".",Na=65039,Ra=1,kn=n=>Array.from(n);function jt(n,e){return n.P.has(e)||n.Q.has(e)}class dh extends Array{get is_emoji(){return!0}}let Nr,Sa,qe,Rr,Ia,Et,cr,wt,Ze,qs,Sr;function qr(){if(Nr)return;let n=pa(Vd);const e=()=>zt(n),t=()=>new Set(e()),r=(f,d)=>d.forEach(h=>f.add(h));Nr=new Map(ma(n)),Sa=t(),qe=e(),Rr=new Set(e().map(f=>qe[f])),qe=new Set(qe),Ia=t(),t();let s=ga(n),o=n();const i=()=>{let f=new Set;return e().forEach(d=>r(f,s[d])),r(f,e()),f};Et=Jt(f=>{let d=Jt(n).map(h=>h+96);if(d.length){let h=f>=o;d[0]-=32,d=Nt(d),h&&(d=`Restricted[${d}]`);let p=i(),w=i(),m=!n();return{N:d,P:p,Q:w,M:m,R:h}}}),cr=t(),wt=new Map;let a=e().concat(kn(cr)).sort((f,d)=>f-d);a.forEach((f,d)=>{let h=n(),p=a[d]=h?a[d-h]:{V:[],M:new Map};p.V.push(f),cr.has(f)||wt.set(f,p)});for(let{V:f,M:d}of new Set(wt.values())){let h=[];for(let w of f){let m=Et.filter(A=>jt(A,w)),y=h.find(({G:A})=>m.some(C=>A.has(C)));y||(y={G:new Set,V:[]},h.push(y)),y.V.push(w),r(y.G,m)}let p=h.flatMap(w=>kn(w.G));for(let{G:w,V:m}of h){let y=new Set(p.filter(A=>!w.has(A)));for(let A of m)d.set(A,y)}}Ze=new Set;let c=new Set;const l=f=>Ze.has(f)?c.add(f):Ze.add(f);for(let f of Et){for(let d of f.P)l(d);for(let d of f.Q)l(d)}for(let f of Ze)!wt.has(f)&&!c.has(f)&&wt.set(f,Ra);r(Ze,xa(Ze)),qs=Zd(n).map(f=>dh.from(f)).sort(th),Sr=new Map;for(let f of qs){let d=[Sr];for(let h of f){let p=d.map(w=>{let m=w.get(h);return m||(m=new Map,w.set(h,m)),m});h===Na?d.push(...p):d=p}for(let h of d)h.V=f}}function es(n){return(Oa(n)?"":`${ts(Hn([n]))} `)+ya(n)}function ts(n){return`"${n}"`}function hh(n){if(n.length>=4&&n[2]==Zs&&n[3]==Zs)throw new Error(`invalid label extension: "${Nt(n.slice(0,4))}"`)}function ph(n){for(let t=n.lastIndexOf(95);t>0;)if(n[--t]!==95)throw new Error("underscore allowed only at start")}function gh(n){let e=n[0],t=Ws.get(e);if(t)throw Lt(`leading ${t}`);let r=n.length,s=-1;for(let o=1;o<r;o++){e=n[o];let i=Ws.get(e);if(i){if(s==o)throw Lt(`${t} + ${i}`);s=o+1,t=i}}if(s==r)throw Lt(`trailing ${t}`)}function Hn(n,e=1/0,t=ya){let r=[];mh(n[0])&&r.push(""),n.length>e&&(e>>=1,n=[...n.slice(0,e),8230,...n.slice(-e)]);let s=0,o=n.length;for(let i=0;i<o;i++){let a=n[i];Oa(a)&&(r.push(Nt(n.slice(s,i))),r.push(t(a)),s=i+1)}return r.push(Nt(n.slice(s,o))),r.join("")}function mh(n){return qr(),qe.has(n)}function Oa(n){return qr(),Ia.has(n)}function wh(n){return vh(yh(n,fh,xh))}function yh(n,e,t){if(!n)return[];qr();let r=0;return n.split(Pa).map(s=>{let o=eh(s),i={input:o,offset:r};r+=o.length+1;try{let a=i.tokens=Ch(o,e,t),c=a.length,l;if(!c)throw new Error("empty label");let f=i.output=a.flat();if(ph(f),!(i.emoji=c>1||a[0].is_emoji)&&f.every(h=>h<128))hh(f),l="ASCII";else{let h=a.flatMap(p=>p.is_emoji?[]:p);if(!h.length)l="Emoji";else{if(qe.has(f[0]))throw Lt("leading combining mark");for(let m=1;m<c;m++){let y=a[m];if(!y.is_emoji&&qe.has(y[0]))throw Lt(`emoji + combining mark: "${Nt(a[m-1])} + ${Hn([y[0]])}"`)}gh(f);let p=kn(new Set(h)),[w]=Ah(p);Eh(w,h),bh(w,p),l=w.N}}i.type=l}catch(a){i.error=a}return i})}function bh(n,e){let t,r=[];for(let s of e){let o=wt.get(s);if(o===Ra)return;if(o){let i=o.M.get(s);if(t=t?t.filter(a=>i.has(a)):kn(i),!t.length)return}else r.push(s)}if(t){for(let s of t)if(r.every(o=>jt(s,o)))throw new Error(`whole-script confusable: ${n.N}/${s.N}`)}}function Ah(n){let e=Et;for(let t of n){let r=e.filter(s=>jt(s,t));if(!r.length)throw Et.some(s=>jt(s,t))?Ta(e[0],t):ka(t);if(e=r,r.length==1)break}return e}function vh(n){return n.map(({input:e,error:t,output:r})=>{if(t){let s=t.message;throw new Error(n.length==1?s:`Invalid label ${ts(Hn(e,63))}: ${s}`)}return Nt(r)}).join(Pa)}function ka(n){return new Error(`disallowed character: ${es(n)}`)}function Ta(n,e){let t=es(e),r=Et.find(s=>s.P.has(e));return r&&(t=`${r.N} ${t}`),new Error(`illegal mixture: ${n.N} + ${t}`)}function Lt(n){return new Error(`illegal placement: ${n}`)}function Eh(n,e){for(let t of e)if(!jt(n,t))throw Ta(n,t);if(n.M){let t=xa(e);for(let r=1,s=t.length;r<s;r++)if(Rr.has(t[r])){let o=r+1;for(let i;o<s&&Rr.has(i=t[o]);o++)for(let a=r;a<o;a++)if(t[a]==i)throw new Error(`duplicate non-spacing marks: ${es(i)}`);if(o-r>Ys)throw new Error(`excessive non-spacing marks: ${ts(Hn(t.slice(r-1,o)))} (${o-r}/${Ys})`);r=o}}}function Ch(n,e,t){let r=[],s=[];for(n=n.slice().reverse();n.length;){let o=Ph(n);if(o)s.length&&(r.push(e(s)),s=[]),r.push(t(o));else{let i=n.pop();if(Ze.has(i))s.push(i);else{let a=Nr.get(i);if(a)s.push(...a);else if(!Sa.has(i))throw ka(i)}}}return s.length&&r.push(e(s)),r}function xh(n){return n.filter(e=>e!=Na)}function Ph(n,e){let t=Sr,r,s=n.length;for(;s&&(t=t.get(n[--s]),!!t);){let{V:o}=t;o&&(r=o,n.length=s)}return r}const Ma=new Uint8Array(32);Ma.fill(0);function eo(n){return g(n.length!==0,"invalid ENS name; empty component","comp",n),n}function Da(n){const e=Fe(Nh(n)),t=[];if(n.length===0)return t;let r=0;for(let s=0;s<e.length;s++)e[s]===46&&(t.push(eo(e.slice(r,s))),r=s+1);return g(r<e.length,"invalid ENS name; empty component","name",n),t.push(eo(e.slice(r))),t}function Nh(n){try{if(n.length===0)throw new Error("empty label");return wh(n)}catch(e){g(!1,`invalid ENS name (${e.message})`,"name",n)}}function Ir(n){g(typeof n=="string","invalid ENS name; not a string","name",n),g(n.length,"invalid ENS name (empty label)","name",n);let e=Ma;const t=Da(n);for(;t.length;)e=Q(Z([e,Q(t.pop())]));return N(e)}function Rh(n,e){const t=e;return g(t<=255,"DNS encoded label cannot exceed 255","length",t),N(Z(Da(n).map(r=>{g(r.length<=t,`label ${JSON.stringify(n)} exceeds ${t} bytes`,"name",n);const s=new Uint8Array(r.length+1);return s.set(r,1),s[0]=s.length-1,s})))+"00"}function lr(n,e){return{address:L(n),storageKeys:e.map((t,r)=>(g(H(t,32),"invalid slot",`storageKeys[${r}]`,t),t.toLowerCase()))}}function ct(n){if(Array.isArray(n))return n.map((t,r)=>Array.isArray(t)?(g(t.length===2,"invalid slot set",`value[${r}]`,t),lr(t[0],t[1])):(g(t!=null&&typeof t=="object","invalid address-slot set","value",n),lr(t.address,t.storageKeys)));g(n!=null&&typeof n=="object","invalid access list","value",n);const e=Object.keys(n).map(t=>{const r=n[t].reduce((s,o)=>(s[o]=!0,s),{});return lr(t,Object.keys(r).sort())});return e.sort((t,r)=>t.address.localeCompare(r.address)),e}function Sh(n){let e;return typeof n=="string"?e=De.computePublicKey(n,!1):e=n.publicKey,L(Q("0x"+e.substring(4)).substring(26))}function Ih(n,e){return Sh(De.recoverPublicKey(n,e))}const ne=BigInt(0),Oh=BigInt(2),kh=BigInt(27),Th=BigInt(28),Mh=BigInt(35),Dh=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function Vn(n){return n==="0x"?null:L(n)}function ns(n,e){try{return ct(n)}catch(t){g(!1,t.message,e,n)}}function Xt(n,e){return n==="0x"?0:$(n,e)}function X(n,e){if(n==="0x")return ne;const t=x(n,e);return g(t<=Dh,"value exceeds uint size",e,t),t}function _(n,e){const t=x(n,"value"),r=pe(t);return g(r.length<=32,"value too large",`tx.${e}`,t),r}function rs(n){return ct(n).map(e=>[e.address,e.storageKeys])}function Bh(n,e){g(Array.isArray(n),`invalid ${e}`,"value",n);for(let t=0;t<n.length;t++)g(H(n[t],32),"invalid ${ param } hash",`value[${t}]`,n[t]);return n}function Fh(n){const e=Qn(n);g(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",n);const t={type:0,nonce:Xt(e[0],"nonce"),gasPrice:X(e[1],"gasPrice"),gasLimit:X(e[2],"gasLimit"),to:Vn(e[3]),value:X(e[4],"value"),data:N(e[5]),chainId:ne};if(e.length===6)return t;const r=X(e[6],"v"),s=X(e[7],"r"),o=X(e[8],"s");if(s===ne&&o===ne)t.chainId=r;else{let i=(r-Mh)/Oh;i<ne&&(i=ne),t.chainId=i,g(i!==ne||r===kh||r===Th,"non-canonical legacy v","v",e[6]),t.signature=ee.from({r:nt(e[7],32),s:nt(e[8],32),v:r}),t.hash=Q(n)}return t}function to(n,e){const t=[_(n.nonce,"nonce"),_(n.gasPrice||0,"gasPrice"),_(n.gasLimit,"gasLimit"),n.to||"0x",_(n.value,"value"),n.data];let r=ne;if(n.chainId!=ne)r=x(n.chainId,"tx.chainId"),g(!e||e.networkV==null||e.legacyChainId===r,"tx.chainId/sig.v mismatch","sig",e);else if(n.signature){const o=n.signature.legacyChainId;o!=null&&(r=o)}if(!e)return r!==ne&&(t.push(pe(r)),t.push("0x"),t.push("0x")),Pt(t);let s=BigInt(27+e.yParity);return r!==ne?s=ee.getChainIdV(r,e.v):BigInt(e.v)!==s&&g(!1,"tx.chainId/sig.v mismatch","sig",e),t.push(pe(s)),t.push(pe(e.r)),t.push(pe(e.s)),Pt(t)}function ss(n,e){let t;try{if(t=Xt(e[0],"yParity"),t!==0&&t!==1)throw new Error("bad yParity")}catch{g(!1,"invalid yParity","yParity",e[0])}const r=nt(e[1],32),s=nt(e[2],32),o=ee.from({r,s,yParity:t});n.signature=o}function $h(n){const e=Qn(U(n).slice(1));g(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",N(n));const t={type:2,chainId:X(e[0],"chainId"),nonce:Xt(e[1],"nonce"),maxPriorityFeePerGas:X(e[2],"maxPriorityFeePerGas"),maxFeePerGas:X(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:X(e[4],"gasLimit"),to:Vn(e[5]),value:X(e[6],"value"),data:N(e[7]),accessList:ns(e[8],"accessList")};return e.length===9||(t.hash=Q(n),ss(t,e.slice(9))),t}function no(n,e){const t=[_(n.chainId,"chainId"),_(n.nonce,"nonce"),_(n.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),_(n.maxFeePerGas||0,"maxFeePerGas"),_(n.gasLimit,"gasLimit"),n.to||"0x",_(n.value,"value"),n.data,rs(n.accessList||[])];return e&&(t.push(_(e.yParity,"yParity")),t.push(pe(e.r)),t.push(pe(e.s))),Z(["0x02",Pt(t)])}function Lh(n){const e=Qn(U(n).slice(1));g(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",N(n));const t={type:1,chainId:X(e[0],"chainId"),nonce:Xt(e[1],"nonce"),gasPrice:X(e[2],"gasPrice"),gasLimit:X(e[3],"gasLimit"),to:Vn(e[4]),value:X(e[5],"value"),data:N(e[6]),accessList:ns(e[7],"accessList")};return e.length===8||(t.hash=Q(n),ss(t,e.slice(8))),t}function ro(n,e){const t=[_(n.chainId,"chainId"),_(n.nonce,"nonce"),_(n.gasPrice||0,"gasPrice"),_(n.gasLimit,"gasLimit"),n.to||"0x",_(n.value,"value"),n.data,rs(n.accessList||[])];return e&&(t.push(_(e.yParity,"recoveryParam")),t.push(pe(e.r)),t.push(pe(e.s))),Z(["0x01",Pt(t)])}function Uh(n){const e=Qn(U(n).slice(1));g(Array.isArray(e)&&(e.length===11||e.length===14),"invalid field count for transaction type: 3","data",N(n));const t={type:3,chainId:X(e[0],"chainId"),nonce:Xt(e[1],"nonce"),maxPriorityFeePerGas:X(e[2],"maxPriorityFeePerGas"),maxFeePerGas:X(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:X(e[4],"gasLimit"),to:Vn(e[5]),value:X(e[6],"value"),data:N(e[7]),accessList:ns(e[8],"accessList"),maxFeePerBlobGas:X(e[9],"maxFeePerBlobGas"),blobVersionedHashes:e[10]};g(t.to!=null,"invalid address for transaction type: 3","data",n),g(Array.isArray(t.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",n);for(let r=0;r<t.blobVersionedHashes.length;r++)g(H(t.blobVersionedHashes[r],32),`invalid blobVersionedHash at index ${r}: must be length 32`,"data",n);return e.length===11||(t.hash=Q(n),ss(t,e.slice(11))),t}function so(n,e){const t=[_(n.chainId,"chainId"),_(n.nonce,"nonce"),_(n.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),_(n.maxFeePerGas||0,"maxFeePerGas"),_(n.gasLimit,"gasLimit"),n.to||Vt,_(n.value,"value"),n.data,rs(n.accessList||[]),_(n.maxFeePerBlobGas||0,"maxFeePerBlobGas"),Bh(n.blobVersionedHashes||[],"blobVersionedHashes")];return e&&(t.push(_(e.yParity,"yParity")),t.push(pe(e.r)),t.push(pe(e.s))),Z(["0x03",Pt(t)])}class Se{#e;#t;#n;#r;#s;#i;#o;#a;#f;#l;#d;#h;#c;#u;get type(){return this.#e}set type(e){switch(e){case null:this.#e=null;break;case 0:case"legacy":this.#e=0;break;case 1:case"berlin":case"eip-2930":this.#e=1;break;case 2:case"london":case"eip-1559":this.#e=2;break;case 3:case"cancun":case"eip-4844":this.#e=3;break;default:g(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844"}return null}get to(){const e=this.#t;return e==null&&this.type===3?Vt:e}set to(e){this.#t=e==null?null:L(e)}get nonce(){return this.#r}set nonce(e){this.#r=$(e,"value")}get gasLimit(){return this.#s}set gasLimit(e){this.#s=x(e)}get gasPrice(){const e=this.#i;return e==null&&(this.type===0||this.type===1)?ne:e}set gasPrice(e){this.#i=e==null?null:x(e,"gasPrice")}get maxPriorityFeePerGas(){const e=this.#o;return e??(this.type===2||this.type===3?ne:null)}set maxPriorityFeePerGas(e){this.#o=e==null?null:x(e,"maxPriorityFeePerGas")}get maxFeePerGas(){const e=this.#a;return e??(this.type===2||this.type===3?ne:null)}set maxFeePerGas(e){this.#a=e==null?null:x(e,"maxFeePerGas")}get data(){return this.#n}set data(e){this.#n=N(e)}get value(){return this.#f}set value(e){this.#f=x(e,"value")}get chainId(){return this.#l}set chainId(e){this.#l=x(e)}get signature(){return this.#d||null}set signature(e){this.#d=e==null?null:ee.from(e)}get accessList(){const e=this.#h||null;return e??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(e){this.#h=e==null?null:ct(e)}get maxFeePerBlobGas(){const e=this.#c;return e==null&&this.type===3?ne:e}set maxFeePerBlobGas(e){this.#c=e==null?null:x(e,"maxFeePerBlobGas")}get blobVersionedHashes(){let e=this.#u;return e==null&&this.type===3?[]:e}set blobVersionedHashes(e){if(e!=null){g(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let t=0;t<e.length;t++)g(H(e[t],32),"invalid blobVersionedHash",`value[${t}]`,e[t])}this.#u=e}constructor(){this.#e=null,this.#t=null,this.#r=0,this.#s=ne,this.#i=null,this.#o=null,this.#a=null,this.#n="0x",this.#f=ne,this.#l=ne,this.#d=null,this.#h=null,this.#c=null,this.#u=null}get hash(){return this.signature==null?null:Q(this.serialized)}get unsignedHash(){return Q(this.unsignedSerialized)}get from(){return this.signature==null?null:Ih(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:De.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}get serialized(){switch(b(this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"}),this.inferType()){case 0:return to(this,this.signature);case 1:return ro(this,this.signature);case 2:return no(this,this.signature);case 3:return so(this,this.signature)}b(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get unsignedSerialized(){switch(this.inferType()){case 0:return to(this);case 1:return ro(this);case 2:return no(this);case 3:return so(this)}b(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".unsignedSerialized"})}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=this.gasPrice!=null,t=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,r=this.accessList!=null,s=this.#c!=null||this.#u;this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&b(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),b(!t||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),b(this.type!==0||!r,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const o=[];return this.type!=null?o.push(this.type):t?o.push(2):e?(o.push(1),r||o.push(0)):r?(o.push(1),o.push(2)):(s&&this.to||(o.push(0),o.push(1),o.push(2)),o.push(3)),o.sort(),o}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return Se.from(this)}toJSON(){const e=t=>t==null?null:t.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(e==null)return new Se;if(typeof e=="string"){const r=U(e);if(r[0]>=127)return Se.from(Fh(r));switch(r[0]){case 1:return Se.from(Lh(r));case 2:return Se.from($h(r));case 3:return Se.from(Uh(r))}b(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const t=new Se;return e.type!=null&&(t.type=e.type),e.to!=null&&(t.to=e.to),e.nonce!=null&&(t.nonce=e.nonce),e.gasLimit!=null&&(t.gasLimit=e.gasLimit),e.gasPrice!=null&&(t.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(t.maxFeePerGas=e.maxFeePerGas),e.maxFeePerBlobGas!=null&&(t.maxFeePerBlobGas=e.maxFeePerBlobGas),e.data!=null&&(t.data=e.data),e.value!=null&&(t.value=e.value),e.chainId!=null&&(t.chainId=e.chainId),e.signature!=null&&(t.signature=ee.from(e.signature)),e.accessList!=null&&(t.accessList=e.accessList),e.blobVersionedHashes!=null&&(t.blobVersionedHashes=e.blobVersionedHashes),e.hash!=null&&(g(t.isSigned(),"unsigned transaction cannot define hash","tx",e),g(t.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&(g(t.isSigned(),"unsigned transaction cannot define from","tx",e),g(t.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),t}}const Ba=new Uint8Array(32);Ba.fill(0);const Gh=BigInt(-1),Fa=BigInt(0),$a=BigInt(1),_h=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function Qh(n){const e=U(n),t=e.length%32;return t?Z([e,Ba.slice(t)]):N(e)}const Hh=Ve($a,32),Vh=Ve(Fa,32),oo={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},ur=["name","version","chainId","verifyingContract","salt"];function io(n){return function(e){return g(typeof e=="string",`invalid domain value for ${JSON.stringify(n)}`,`domain.${n}`,e),e}}const zh={name:io("name"),version:io("version"),chainId:function(n){const e=x(n,"domain.chainId");return g(e>=0,"invalid chain ID","domain.chainId",n),Number.isSafeInteger(e)?Number(e):yt(e)},verifyingContract:function(n){try{return L(n).toLowerCase()}catch{}g(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",n)},salt:function(n){const e=U(n,"domain.salt");return g(e.length===32,'invalid domain value "salt"',"domain.salt",n),N(e)}};function fr(n){{const e=n.match(/^(u?)int(\d+)$/);if(e){const t=e[1]==="",r=parseInt(e[2]);g(r%8===0&&r!==0&&r<=256&&e[2]===String(r),"invalid numeric width","type",n);const s=Bt(_h,t?r-1:r),o=t?(s+$a)*Gh:Fa;return function(i){const a=x(i,"value");return g(a>=o&&a<=s,`value out-of-bounds for ${n}`,"value",a),Ve(t?jo(a,256):a,32)}}}{const e=n.match(/^bytes(\d+)$/);if(e){const t=parseInt(e[1]);return g(t!==0&&t<=32&&e[1]===String(t),"invalid bytes width","type",n),function(r){const s=U(r);return g(s.length===t,`invalid length for ${n}`,"value",r),Qh(r)}}}switch(n){case"address":return function(e){return nt(L(e),32)};case"bool":return function(e){return e?Hh:Vh};case"bytes":return function(e){return Q(e)};case"string":return function(e){return rt(e)}}return null}function ao(n,e){return`${n}(${e.map(({name:t,type:r})=>r+" "+t).join(",")})`}function mn(n){const e=n.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return e?{base:e[1],index:e[2]+e[4],array:{base:e[1],prefix:e[1]+e[2],count:e[5]?parseInt(e[5]):-1}}:{base:n}}class we{primaryType;#e;get types(){return JSON.parse(this.#e)}#t;#n;constructor(e){this.#t=new Map,this.#n=new Map;const t=new Map,r=new Map,s=new Map,o={};Object.keys(e).forEach(c=>{o[c]=e[c].map(({name:l,type:f})=>{let{base:d,index:h}=mn(f);return d==="int"&&!e.int&&(d="int256"),d==="uint"&&!e.uint&&(d="uint256"),{name:l,type:d+(h||"")}}),t.set(c,new Set),r.set(c,[]),s.set(c,new Set)}),this.#e=JSON.stringify(o);for(const c in o){const l=new Set;for(const f of o[c]){g(!l.has(f.name),`duplicate variable name ${JSON.stringify(f.name)} in ${JSON.stringify(c)}`,"types",e),l.add(f.name);const d=mn(f.type).base;g(d!==c,`circular type reference to ${JSON.stringify(d)}`,"types",e),!fr(d)&&(g(r.has(d),`unknown type ${JSON.stringify(d)}`,"types",e),r.get(d).push(c),t.get(c).add(d))}}const i=Array.from(r.keys()).filter(c=>r.get(c).length===0);g(i.length!==0,"missing primary type","types",e),g(i.length===1,`ambiguous primary types or unused types: ${i.map(c=>JSON.stringify(c)).join(", ")}`,"types",e),S(this,{primaryType:i[0]});function a(c,l){g(!l.has(c),`circular type reference to ${JSON.stringify(c)}`,"types",e),l.add(c);for(const f of t.get(c))if(r.has(f)){a(f,l);for(const d of l)s.get(d).add(f)}l.delete(c)}a(this.primaryType,new Set);for(const[c,l]of s){const f=Array.from(l);f.sort(),this.#t.set(c,ao(c,o[c])+f.map(d=>ao(d,o[d])).join(""))}}getEncoder(e){let t=this.#n.get(e);return t||(t=this.#r(e),this.#n.set(e,t)),t}#r(e){{const s=fr(e);if(s)return s}const t=mn(e).array;if(t){const s=t.prefix,o=this.getEncoder(s);return i=>{g(t.count===-1||t.count===i.length,`array length mismatch; expected length ${t.count}`,"value",i);let a=i.map(o);return this.#t.has(s)&&(a=a.map(Q)),Q(Z(a))}}const r=this.types[e];if(r){const s=rt(this.#t.get(e));return o=>{const i=r.map(({name:a,type:c})=>{const l=this.getEncoder(c)(o[a]);return this.#t.has(c)?Q(l):l});return i.unshift(s),Z(i)}}g(!1,`unknown type: ${e}`,"type",e)}encodeType(e){const t=this.#t.get(e);return g(t,`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return Q(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,r){if(fr(e))return r(e,t);const s=mn(e).array;if(s)return g(s.count===-1||s.count===t.length,`array length mismatch; expected length ${s.count}`,"value",t),t.map(i=>this._visit(s.prefix,i,r));const o=this.types[e];if(o)return o.reduce((i,{name:a,type:c})=>(i[a]=this._visit(c,t[a],r),i),{});g(!1,`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new we(e)}static getPrimaryType(e){return we.from(e).primaryType}static hashStruct(e,t,r){return we.from(t).hashStruct(e,r)}static hashDomain(e){const t=[];for(const r in e){if(e[r]==null)continue;const s=oo[r];g(s,`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),t.push({name:r,type:s})}return t.sort((r,s)=>ur.indexOf(r.name)-ur.indexOf(s.name)),we.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,r){return Z(["0x1901",we.hashDomain(e),we.from(t).hash(r)])}static hash(e,t,r){return Q(we.encode(e,t,r))}static async resolveNames(e,t,r,s){e=Object.assign({},e);for(const a in e)e[a]==null&&delete e[a];const o={};e.verifyingContract&&!H(e.verifyingContract,20)&&(o[e.verifyingContract]="0x");const i=we.from(t);i.visit(r,(a,c)=>(a==="address"&&!H(c,20)&&(o[c]="0x"),c));for(const a in o)o[a]=await s(a);return e.verifyingContract&&o[e.verifyingContract]&&(e.verifyingContract=o[e.verifyingContract]),r=i.visit(r,(a,c)=>a==="address"&&o[c]?o[c]:c),{domain:e,value:r}}static getPayload(e,t,r){we.hashDomain(e);const s={},o=[];ur.forEach(c=>{const l=e[c];l!=null&&(s[c]=zh[c](l),o.push({name:c,type:oo[c]}))});const i=we.from(t);t=i.types;const a=Object.assign({},t);return g(a.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",t),a.EIP712Domain=o,i.encode(r),{types:a,domain:s,primaryType:i.primaryType,message:i.visit(r,(c,l)=>{if(c.match(/^bytes(\d*)/))return N(U(l));if(c.match(/^u?int/))return x(l).toString();switch(c){case"address":return l.toLowerCase();case"bool":return!!l;case"string":return g(typeof l=="string","invalid string","value",l),l}g(!1,"unsupported type","type",c)})}}}function fe(n){const e=new Set;return n.forEach(t=>e.add(t)),Object.freeze(e)}const Jh="external public payable override",Kh=fe(Jh.split(" ")),La="constant external internal payable private public pure view override",jh=fe(La.split(" ")),Ua="constructor error event fallback function receive struct",Ga=fe(Ua.split(" ")),_a="calldata memory storage payable indexed",Wh=fe(_a.split(" ")),Yh="tuple returns",Xh=[Ua,_a,Yh,La].join(" "),Zh=fe(Xh.split(" ")),qh={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},ep=new RegExp("^(\\s*)"),tp=new RegExp("^([0-9]+)"),np=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),Qa=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),Ha=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");class Ce{#e;#t;get offset(){return this.#e}get length(){return this.#t.length-this.#e}constructor(e){this.#e=0,this.#t=e.slice()}clone(){return new Ce(this.#t)}reset(){this.#e=0}#n(e=0,t=0){return new Ce(this.#t.slice(e,t).map(r=>Object.freeze(Object.assign({},r,{match:r.match-e,linkBack:r.linkBack-e,linkNext:r.linkNext-e}))))}popKeyword(e){const t=this.peek();if(t.type!=="KEYWORD"||!e.has(t.text))throw new Error(`expected keyword ${t.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){const t=this.peek();throw new Error(`expected ${e}; got ${t.type} ${JSON.stringify(t.text)}`)}return this.pop().text}popParen(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const t=this.#n(this.#e+1,e.match+1);return this.#e=e.match+1,t}popParams(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const t=[];for(;this.#e<e.match-1;){const r=this.peek().linkNext;t.push(this.#n(this.#e+1,r)),this.#e=r}return this.#e=e.match+1,t}peek(){if(this.#e>=this.#t.length)throw new Error("out-of-bounds");return this.#t[this.#e]}peekKeyword(e){const t=this.peekType("KEYWORD");return t!=null&&e.has(t)?t:null}peekType(e){if(this.length===0)return null;const t=this.peek();return t.type===e?t.text:null}pop(){const e=this.peek();return this.#e++,e}toString(){const e=[];for(let t=this.#e;t<this.#t.length;t++){const r=this.#t[t];e.push(`${r.type}:${r.text}`)}return`<TokenString ${e.join(" ")}>`}}function Ke(n){const e=[],t=i=>{const a=o<n.length?JSON.stringify(n[o]):"$EOI";throw new Error(`invalid token ${a} at ${o}: ${i}`)};let r=[],s=[],o=0;for(;o<n.length;){let i=n.substring(o),a=i.match(ep);a&&(o+=a[1].length,i=n.substring(o));const c={depth:r.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:o,value:-1};e.push(c);let l=qh[i[0]]||"";if(l){if(c.type=l,c.text=i[0],o++,l==="OPEN_PAREN")r.push(e.length-1),s.push(e.length-1);else if(l=="CLOSE_PAREN")r.length===0&&t("no matching open bracket"),c.match=r.pop(),e[c.match].match=e.length-1,c.depth--,c.linkBack=s.pop(),e[c.linkBack].linkNext=e.length-1;else if(l==="COMMA")c.linkBack=s.pop(),e[c.linkBack].linkNext=e.length-1,s.push(e.length-1);else if(l==="OPEN_BRACKET")c.type="BRACKET";else if(l==="CLOSE_BRACKET"){let f=e.pop().text;if(e.length>0&&e[e.length-1].type==="NUMBER"){const d=e.pop().text;f=d+f,e[e.length-1].value=$(d)}if(e.length===0||e[e.length-1].type!=="BRACKET")throw new Error("missing opening bracket");e[e.length-1].text+=f}continue}if(a=i.match(np),a){if(c.text=a[1],o+=c.text.length,Zh.has(c.text)){c.type="KEYWORD";continue}if(c.text.match(Ha)){c.type="TYPE";continue}c.type="ID";continue}if(a=i.match(tp),a){c.text=a[1],c.type="NUMBER",o+=c.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(i[0])} at position ${o}`)}return new Ce(e.map(i=>Object.freeze(i)))}function co(n,e){let t=[];for(const r in e.keys())n.has(r)&&t.push(r);if(t.length>1)throw new Error(`conflicting types: ${t.join(", ")}`)}function zn(n,e){if(e.peekKeyword(Ga)){const t=e.pop().text;if(t!==n)throw new Error(`expected ${n}, got ${t}`)}return e.popType("ID")}function Ue(n,e){const t=new Set;for(;;){const r=n.peekType("KEYWORD");if(r==null||e&&!e.has(r))break;if(n.pop(),t.has(r))throw new Error(`duplicate keywords: ${JSON.stringify(r)}`);t.add(r)}return Object.freeze(t)}function Va(n){let e=Ue(n,jh);return co(e,fe("constant payable nonpayable".split(" "))),co(e,fe("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function $e(n,e){return n.popParams().map(t=>G.from(t,e))}function za(n){if(n.peekType("AT")){if(n.pop(),n.peekType("NUMBER"))return x(n.pop().text);throw new Error("invalid gas")}return null}function st(n){if(n.length)throw new Error(`unexpected tokens at offset ${n.offset}: ${n.toString()}`)}const rp=new RegExp(/^(.*)\[([0-9]*)\]$/);function lo(n){const e=n.match(Ha);if(g(e,"invalid type","type",n),n==="uint")return"uint256";if(n==="int")return"int256";if(e[2]){const t=parseInt(e[2]);g(t!==0&&t<=32,"invalid bytes length","type",n)}else if(e[3]){const t=parseInt(e[3]);g(t!==0&&t<=256&&t%8===0,"invalid numeric width","type",n)}return n}const z={},ge=Symbol.for("_ethers_internal"),uo="_ParamTypeInternal",fo="_ErrorInternal",ho="_EventInternal",po="_ConstructorInternal",go="_FallbackInternal",mo="_FunctionInternal",wo="_StructInternal";class G{name;type;baseType;indexed;components;arrayLength;arrayChildren;constructor(e,t,r,s,o,i,a,c){if(Bn(e,z,"ParamType"),Object.defineProperty(this,ge,{value:uo}),i&&(i=Object.freeze(i.slice())),s==="array"){if(a==null||c==null)throw new Error("")}else if(a!=null||c!=null)throw new Error("");if(s==="tuple"){if(i==null)throw new Error("")}else if(i!=null)throw new Error("");S(this,{name:t,type:r,baseType:s,indexed:o,components:i,arrayLength:a,arrayChildren:c})}format(e){if(e==null&&(e="sighash"),e==="json"){const r=this.name||"";if(this.isArray()){const o=JSON.parse(this.arrayChildren.format("json"));return o.name=r,o.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(o)}const s={type:this.baseType==="tuple"?"tuple":this.type,name:r};return typeof this.indexed=="boolean"&&(s.indexed=this.indexed),this.isTuple()&&(s.components=this.components.map(o=>JSON.parse(o.format(e)))),JSON.stringify(s)}let t="";return this.isArray()?(t+=this.arrayChildren.format(e),t+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?t+="("+this.components.map(r=>r.format(e)).join(e==="full"?", ":",")+")":t+=this.type,e!=="sighash"&&(this.indexed===!0&&(t+=" indexed"),e==="full"&&this.name&&(t+=" "+this.name)),t}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(e,t){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");const r=this;return e.map(s=>r.arrayChildren.walk(s,t))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const r=this;return e.map((s,o)=>r.components[o].walk(s,t))}return t(this.type,e)}#e(e,t,r,s){if(this.isArray()){if(!Array.isArray(t))throw new Error("invalid array value");if(this.arrayLength!==-1&&t.length!==this.arrayLength)throw new Error("array is wrong length");const i=this.arrayChildren,a=t.slice();a.forEach((c,l)=>{i.#e(e,c,r,f=>{a[l]=f})}),s(a);return}if(this.isTuple()){const i=this.components;let a;if(Array.isArray(t))a=t.slice();else{if(t==null||typeof t!="object")throw new Error("invalid tuple value");a=i.map(c=>{if(!c.name)throw new Error("cannot use object value with unnamed components");if(!(c.name in t))throw new Error(`missing value for component ${c.name}`);return t[c.name]})}if(a.length!==this.components.length)throw new Error("array is wrong length");a.forEach((c,l)=>{i[l].#e(e,c,r,f=>{a[l]=f})}),s(a);return}const o=r(this.type,t);o.then?e.push(async function(){s(await o)}()):s(o)}async walkAsync(e,t){const r=[],s=[e];return this.#e(r,e,t,o=>{s[0]=o}),r.length&&await Promise.all(r),s[0]}static from(e,t){if(G.isParamType(e))return e;if(typeof e=="string")try{return G.from(Ke(e),t)}catch{g(!1,"invalid param type","obj",e)}else if(e instanceof Ce){let a="",c="",l=null;Ue(e,fe(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(c="tuple",l=e.popParams().map(m=>G.from(m)),a=`tuple(${l.map(m=>m.format()).join(",")})`):(a=lo(e.popType("TYPE")),c=a);let f=null,d=null;for(;e.length&&e.peekType("BRACKET");){const m=e.pop();f=new G(z,"",a,c,null,l,d,f),d=m.value,a+=m.text,c="array",l=null}let h=null;if(Ue(e,Wh).has("indexed")){if(!t)throw new Error("");h=!0}const w=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new G(z,w,a,c,h,l,d,f)}const r=e.name;g(!r||typeof r=="string"&&r.match(Qa),"invalid name","obj.name",r);let s=e.indexed;s!=null&&(g(t,"parameter cannot be indexed","obj.indexed",e.indexed),s=!!s);let o=e.type,i=o.match(rp);if(i){const a=parseInt(i[2]||"-1"),c=G.from({type:i[1],components:e.components});return new G(z,r||"",o,"array",s,null,a,c)}if(o==="tuple"||o.startsWith("tuple(")||o.startsWith("(")){const a=e.components!=null?e.components.map(l=>G.from(l)):null;return new G(z,r||"",o,"tuple",s,a,null,null)}return o=lo(e.type),new G(z,r||"",o,o,s,null,null,null)}static isParamType(e){return e&&e[ge]===uo}}class ot{type;inputs;constructor(e,t,r){Bn(e,z,"Fragment"),r=Object.freeze(r.slice()),S(this,{type:t,inputs:r})}static from(e){if(typeof e=="string"){try{ot.from(JSON.parse(e))}catch{}return ot.from(Ke(e))}if(e instanceof Ce)switch(e.peekKeyword(Ga)){case"constructor":return Be.from(e);case"error":return he.from(e);case"event":return Ie.from(e);case"fallback":case"receive":return Me.from(e);case"function":return Oe.from(e);case"struct":return tt.from(e)}else if(typeof e=="object"){switch(e.type){case"constructor":return Be.from(e);case"error":return he.from(e);case"event":return Ie.from(e);case"fallback":case"receive":return Me.from(e);case"function":return Oe.from(e);case"struct":return tt.from(e)}b(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}g(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return Be.isFragment(e)}static isError(e){return he.isFragment(e)}static isEvent(e){return Ie.isFragment(e)}static isFunction(e){return Oe.isFragment(e)}static isStruct(e){return tt.isFragment(e)}}class Jn extends ot{name;constructor(e,t,r,s){super(e,t,s),g(typeof r=="string"&&r.match(Qa),"invalid identifier","name",r),s=Object.freeze(s.slice()),S(this,{name:r})}}function Wt(n,e){return"("+e.map(t=>t.format(n)).join(n==="full"?", ":",")+")"}class he extends Jn{constructor(e,t,r){super(e,"error",t,r),Object.defineProperty(this,ge,{value:fo})}get selector(){return rt(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});const t=[];return e!=="sighash"&&t.push("error"),t.push(this.name+Wt(e,this.inputs)),t.join(" ")}static from(e){if(he.isFragment(e))return e;if(typeof e=="string")return he.from(Ke(e));if(e instanceof Ce){const t=zn("error",e),r=$e(e);return st(e),new he(z,t,r)}return new he(z,e.name,e.inputs?e.inputs.map(G.from):[])}static isFragment(e){return e&&e[ge]===fo}}class Ie extends Jn{anonymous;constructor(e,t,r,s){super(e,"event",t,r),Object.defineProperty(this,ge,{value:ho}),S(this,{anonymous:s})}get topicHash(){return rt(this.format("sighash"))}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});const t=[];return e!=="sighash"&&t.push("event"),t.push(this.name+Wt(e,this.inputs)),e!=="sighash"&&this.anonymous&&t.push("anonymous"),t.join(" ")}static getTopicHash(e,t){return t=(t||[]).map(s=>G.from(s)),new Ie(z,e,t,!1).topicHash}static from(e){if(Ie.isFragment(e))return e;if(typeof e=="string")try{return Ie.from(Ke(e))}catch{g(!1,"invalid event fragment","obj",e)}else if(e instanceof Ce){const t=zn("event",e),r=$e(e,!0),s=!!Ue(e,fe(["anonymous"])).has("anonymous");return st(e),new Ie(z,t,r,s)}return new Ie(z,e.name,e.inputs?e.inputs.map(t=>G.from(t,!0)):[],!!e.anonymous)}static isFragment(e){return e&&e[ge]===ho}}class Be extends ot{payable;gas;constructor(e,t,r,s,o){super(e,t,r),Object.defineProperty(this,ge,{value:po}),S(this,{payable:s,gas:o})}format(e){if(b(e!=null&&e!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),e==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});const t=[`constructor${Wt(e,this.inputs)}`];return this.payable&&t.push("payable"),this.gas!=null&&t.push(`@${this.gas.toString()}`),t.join(" ")}static from(e){if(Be.isFragment(e))return e;if(typeof e=="string")try{return Be.from(Ke(e))}catch{g(!1,"invalid constuctor fragment","obj",e)}else if(e instanceof Ce){Ue(e,fe(["constructor"]));const t=$e(e),r=!!Ue(e,Kh).has("payable"),s=za(e);return st(e),new Be(z,"constructor",t,r,s)}return new Be(z,"constructor",e.inputs?e.inputs.map(G.from):[],!!e.payable,e.gas!=null?e.gas:null)}static isFragment(e){return e&&e[ge]===po}}class Me extends ot{payable;constructor(e,t,r){super(e,"fallback",t),Object.defineProperty(this,ge,{value:go}),S(this,{payable:r})}format(e){const t=this.inputs.length===0?"receive":"fallback";if(e==="json"){const r=this.payable?"payable":"nonpayable";return JSON.stringify({type:t,stateMutability:r})}return`${t}()${this.payable?" payable":""}`}static from(e){if(Me.isFragment(e))return e;if(typeof e=="string")try{return Me.from(Ke(e))}catch{g(!1,"invalid fallback fragment","obj",e)}else if(e instanceof Ce){const t=e.toString(),r=e.peekKeyword(fe(["fallback","receive"]));if(g(r,"type must be fallback or receive","obj",t),e.popKeyword(fe(["fallback","receive"]))==="receive"){const a=$e(e);return g(a.length===0,"receive cannot have arguments","obj.inputs",a),Ue(e,fe(["payable"])),st(e),new Me(z,[],!0)}let o=$e(e);o.length?g(o.length===1&&o[0].type==="bytes","invalid fallback inputs","obj.inputs",o.map(a=>a.format("minimal")).join(", ")):o=[G.from("bytes")];const i=Va(e);if(g(i==="nonpayable"||i==="payable","fallback cannot be constants","obj.stateMutability",i),Ue(e,fe(["returns"])).has("returns")){const a=$e(e);g(a.length===1&&a[0].type==="bytes","invalid fallback outputs","obj.outputs",a.map(c=>c.format("minimal")).join(", "))}return st(e),new Me(z,o,i==="payable")}if(e.type==="receive")return new Me(z,[],!0);if(e.type==="fallback"){const t=[G.from("bytes")],r=e.stateMutability==="payable";return new Me(z,t,r)}g(!1,"invalid fallback description","obj",e)}static isFragment(e){return e&&e[ge]===go}}class Oe extends Jn{constant;outputs;stateMutability;payable;gas;constructor(e,t,r,s,o,i){super(e,"function",t,s),Object.defineProperty(this,ge,{value:mo}),o=Object.freeze(o.slice()),S(this,{constant:r==="view"||r==="pure",gas:i,outputs:o,payable:r==="payable",stateMutability:r})}get selector(){return rt(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(r=>JSON.parse(r.format(e))),outputs:this.outputs.map(r=>JSON.parse(r.format(e)))});const t=[];return e!=="sighash"&&t.push("function"),t.push(this.name+Wt(e,this.inputs)),e!=="sighash"&&(this.stateMutability!=="nonpayable"&&t.push(this.stateMutability),this.outputs&&this.outputs.length&&(t.push("returns"),t.push(Wt(e,this.outputs))),this.gas!=null&&t.push(`@${this.gas.toString()}`)),t.join(" ")}static getSelector(e,t){return t=(t||[]).map(s=>G.from(s)),new Oe(z,e,"view",t,[],null).selector}static from(e){if(Oe.isFragment(e))return e;if(typeof e=="string")try{return Oe.from(Ke(e))}catch{g(!1,"invalid function fragment","obj",e)}else if(e instanceof Ce){const r=zn("function",e),s=$e(e),o=Va(e);let i=[];Ue(e,fe(["returns"])).has("returns")&&(i=$e(e));const a=za(e);return st(e),new Oe(z,r,o,s,i,a)}let t=e.stateMutability;return t==null&&(t="payable",typeof e.constant=="boolean"?(t="view",e.constant||(t="payable",typeof e.payable=="boolean"&&!e.payable&&(t="nonpayable"))):typeof e.payable=="boolean"&&!e.payable&&(t="nonpayable")),new Oe(z,e.name,t,e.inputs?e.inputs.map(G.from):[],e.outputs?e.outputs.map(G.from):[],e.gas!=null?e.gas:null)}static isFragment(e){return e&&e[ge]===mo}}class tt extends Jn{constructor(e,t,r){super(e,"struct",t,r),Object.defineProperty(this,ge,{value:wo})}format(){throw new Error("@TODO")}static from(e){if(typeof e=="string")try{return tt.from(Ke(e))}catch{g(!1,"invalid struct fragment","obj",e)}else if(e instanceof Ce){const t=zn("struct",e),r=$e(e);return st(e),new tt(z,t,r)}return new tt(z,e.name,e.inputs?e.inputs.map(G.from):[])}static isFragment(e){return e&&e[ge]===wo}}const Re=new Map;Re.set(0,"GENERIC_PANIC");Re.set(1,"ASSERT_FALSE");Re.set(17,"OVERFLOW");Re.set(18,"DIVIDE_BY_ZERO");Re.set(33,"ENUM_RANGE_ERROR");Re.set(34,"BAD_STORAGE_DATA");Re.set(49,"STACK_UNDERFLOW");Re.set(50,"ARRAY_RANGE_ERROR");Re.set(65,"OUT_OF_MEMORY");Re.set(81,"UNINITIALIZED_FUNCTION_CALL");const sp=new RegExp(/^bytes([0-9]*)$/),op=new RegExp(/^(u?int)([0-9]*)$/);let dr=null,yo=1024;function ip(n,e,t,r){let s="missing revert data",o=null;const i=null;let a=null;if(t){s="execution reverted";const l=U(t);if(t=N(t),l.length===0)s+=" (no data present; likely require(false) occurred",o="require(false)";else if(l.length%32!==4)s+=" (could not decode reason; invalid data length)";else if(N(l.slice(0,4))==="0x08c379a0")try{o=r.decode(["string"],l.slice(4))[0],a={signature:"Error(string)",name:"Error",args:[o]},s+=`: ${JSON.stringify(o)}`}catch{s+=" (could not decode reason; invalid string data)"}else if(N(l.slice(0,4))==="0x4e487b71")try{const f=Number(r.decode(["uint256"],l.slice(4))[0]);a={signature:"Panic(uint256)",name:"Panic",args:[f]},o=`Panic due to ${Re.get(f)||"UNKNOWN"}(${f})`,s+=`: ${o}`}catch{s+=" (could not decode panic code)"}else s+=" (unknown custom error)"}const c={to:e.to?L(e.to):null,data:e.data||"0x"};return e.from&&(c.from=L(e.from)),q(s,"CALL_EXCEPTION",{action:n,data:t,reason:o,transaction:c,invocation:i,revert:a})}class St{#e(e){if(e.isArray())return new Md(this.#e(e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new gn(e.components.map(r=>this.#e(r)),e.name);switch(e.baseType){case"address":return new kd(e.name);case"bool":return new Dd(e.name);case"string":return new Hd(e.name);case"bytes":return new Bd(e.name);case"":return new Ld(e.name)}let t=e.type.match(op);if(t){let r=parseInt(t[2]||"256");return g(r!==0&&r<=256&&r%8===0,"invalid "+t[1]+" bit length","param",e),new Qd(r/8,t[1]==="int",e.name)}if(t=e.type.match(sp),t){let r=parseInt(t[1]);return g(r!==0&&r<=32,"invalid bytes length","param",e),new Fd(r,e.name)}g(!1,"invalid type","type",e.type)}getDefaultValue(e){const t=e.map(s=>this.#e(G.from(s)));return new gn(t,"_").defaultValue()}encode(e,t){Ko(t.length,e.length,"types/values length mismatch");const r=e.map(i=>this.#e(G.from(i))),s=new gn(r,"_"),o=new Cr;return s.encode(o,t),o.data}decode(e,t,r){const s=e.map(i=>this.#e(G.from(i)));return new gn(s,"_").decode(new Xr(t,r,yo))}static _setDefaultMaxInflation(e){g(typeof e=="number"&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),yo=e}static defaultAbiCoder(){return dr==null&&(dr=new St),dr}static getBuiltinCallException(e,t,r){return ip(e,t,r,St.defaultAbiCoder())}}class ap{fragment;name;signature;topic;args;constructor(e,t,r){const s=e.name,o=e.format();S(this,{fragment:e,name:s,signature:o,topic:t,args:r})}}class cp{fragment;name;args;signature;selector;value;constructor(e,t,r,s){const o=e.name,i=e.format();S(this,{fragment:e,name:o,args:r,signature:i,selector:t,value:s})}}class lp{fragment;name;args;signature;selector;constructor(e,t,r){const s=e.name,o=e.format();S(this,{fragment:e,name:s,args:r,signature:o,selector:t})}}class bo{hash;_isIndexed;static isIndexed(e){return!!(e&&e._isIndexed)}constructor(e){S(this,{hash:e,_isIndexed:!0})}}const Ao={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},vo={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:n=>`reverted with reason string ${JSON.stringify(n)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:n=>{let e="unknown panic code";return n>=0&&n<=255&&Ao[n.toString()]&&(e=Ao[n.toString()]),`reverted with panic code 0x${n.toString(16)} (${e})`}}};class bt{fragments;deploy;fallback;receive;#e;#t;#n;#r;constructor(e){let t=[];typeof e=="string"?t=JSON.parse(e):t=e,this.#n=new Map,this.#e=new Map,this.#t=new Map;const r=[];for(const i of t)try{r.push(ot.from(i))}catch(a){console.log(`[Warning] Invalid Fragment ${JSON.stringify(i)}:`,a.message)}S(this,{fragments:Object.freeze(r)});let s=null,o=!1;this.#r=this.getAbiCoder(),this.fragments.forEach((i,a)=>{let c;switch(i.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}S(this,{deploy:i});return;case"fallback":i.inputs.length===0?o=!0:(g(!s||i.payable!==s.payable,"conflicting fallback fragments",`fragments[${a}]`,i),s=i,o=s.payable);return;case"function":c=this.#n;break;case"event":c=this.#t;break;case"error":c=this.#e;break;default:return}const l=i.format();c.has(l)||c.set(l,i)}),this.deploy||S(this,{deploy:Be.from("constructor()")}),S(this,{fallback:s,receive:o})}format(e){const t=e?"minimal":"full";return this.fragments.map(s=>s.format(t))}formatJson(){const e=this.fragments.map(t=>t.format("json"));return JSON.stringify(e.map(t=>JSON.parse(t)))}getAbiCoder(){return St.defaultAbiCoder()}#s(e,t,r){if(H(e)){const o=e.toLowerCase();for(const i of this.#n.values())if(o===i.selector)return i;return null}if(e.indexOf("(")===-1){const o=[];for(const[i,a]of this.#n)i.split("(")[0]===e&&o.push(a);if(t){const i=t.length>0?t[t.length-1]:null;let a=t.length,c=!0;W.isTyped(i)&&i.type==="overrides"&&(c=!1,a--);for(let l=o.length-1;l>=0;l--){const f=o[l].inputs.length;f!==a&&(!c||f!==a-1)&&o.splice(l,1)}for(let l=o.length-1;l>=0;l--){const f=o[l].inputs;for(let d=0;d<t.length;d++)if(W.isTyped(t[d])){if(d>=f.length){if(t[d].type==="overrides")continue;o.splice(l,1);break}if(t[d].type!==f[d].baseType){o.splice(l,1);break}}}}if(o.length===1&&t&&t.length!==o[0].inputs.length){const i=t[t.length-1];(i==null||Array.isArray(i)||typeof i!="object")&&o.splice(0,1)}if(o.length===0)return null;if(o.length>1&&r){const i=o.map(a=>JSON.stringify(a.format())).join(", ");g(!1,`ambiguous function description (i.e. matches ${i})`,"key",e)}return o[0]}const s=this.#n.get(Oe.from(e).format());return s||null}getFunctionName(e){const t=this.#s(e,null,!1);return g(t,"no matching function","key",e),t.name}hasFunction(e){return!!this.#s(e,null,!1)}getFunction(e,t){return this.#s(e,t||null,!0)}forEachFunction(e){const t=Array.from(this.#n.keys());t.sort((r,s)=>r.localeCompare(s));for(let r=0;r<t.length;r++){const s=t[r];e(this.#n.get(s),r)}}#i(e,t,r){if(H(e)){const o=e.toLowerCase();for(const i of this.#t.values())if(o===i.topicHash)return i;return null}if(e.indexOf("(")===-1){const o=[];for(const[i,a]of this.#t)i.split("(")[0]===e&&o.push(a);if(t){for(let i=o.length-1;i>=0;i--)o[i].inputs.length<t.length&&o.splice(i,1);for(let i=o.length-1;i>=0;i--){const a=o[i].inputs;for(let c=0;c<t.length;c++)if(W.isTyped(t[c])&&t[c].type!==a[c].baseType){o.splice(i,1);break}}}if(o.length===0)return null;if(o.length>1&&r){const i=o.map(a=>JSON.stringify(a.format())).join(", ");g(!1,`ambiguous event description (i.e. matches ${i})`,"key",e)}return o[0]}const s=this.#t.get(Ie.from(e).format());return s||null}getEventName(e){const t=this.#i(e,null,!1);return g(t,"no matching event","key",e),t.name}hasEvent(e){return!!this.#i(e,null,!1)}getEvent(e,t){return this.#i(e,t||null,!0)}forEachEvent(e){const t=Array.from(this.#t.keys());t.sort((r,s)=>r.localeCompare(s));for(let r=0;r<t.length;r++){const s=t[r];e(this.#t.get(s),r)}}getError(e,t){if(H(e)){const s=e.toLowerCase();if(vo[s])return he.from(vo[s].signature);for(const o of this.#e.values())if(s===o.selector)return o;return null}if(e.indexOf("(")===-1){const s=[];for(const[o,i]of this.#e)o.split("(")[0]===e&&s.push(i);if(s.length===0)return e==="Error"?he.from("error Error(string)"):e==="Panic"?he.from("error Panic(uint256)"):null;if(s.length>1){const o=s.map(i=>JSON.stringify(i.format())).join(", ");g(!1,`ambiguous error description (i.e. ${o})`,"name",e)}return s[0]}if(e=he.from(e).format(),e==="Error(string)")return he.from("error Error(string)");if(e==="Panic(uint256)")return he.from("error Panic(uint256)");const r=this.#e.get(e);return r||null}forEachError(e){const t=Array.from(this.#e.keys());t.sort((r,s)=>r.localeCompare(s));for(let r=0;r<t.length;r++){const s=t[r];e(this.#e.get(s),r)}}_decodeParams(e,t){return this.#r.decode(e,t)}_encodeParams(e,t){return this.#r.encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){if(typeof e=="string"){const r=this.getError(e);g(r,"unknown error","fragment",e),e=r}return g(j(t,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",t),this._decodeParams(e.inputs,j(t,4))}encodeErrorResult(e,t){if(typeof e=="string"){const r=this.getError(e);g(r,"unknown error","fragment",e),e=r}return Z([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionData(e,t){if(typeof e=="string"){const r=this.getFunction(e);g(r,"unknown function","fragment",e),e=r}return g(j(t,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",t),this._decodeParams(e.inputs,j(t,4))}encodeFunctionData(e,t){if(typeof e=="string"){const r=this.getFunction(e);g(r,"unknown function","fragment",e),e=r}return Z([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionResult(e,t){if(typeof e=="string"){const o=this.getFunction(e);g(o,"unknown function","fragment",e),e=o}let r="invalid length for result data";const s=ae(t);if(s.length%32===0)try{return this.#r.decode(e.outputs,s)}catch{r="could not decode result data"}b(!1,r,"BAD_DATA",{value:N(s),info:{method:e.name,signature:e.format()}})}makeError(e,t){const r=U(e,"data"),s=St.getBuiltinCallException("call",t,r);if(s.message.startsWith("execution reverted (unknown custom error)")){const a=N(r.slice(0,4)),c=this.getError(a);if(c)try{const l=this.#r.decode(c.inputs,r.slice(4));s.revert={name:c.name,signature:c.format(),args:l},s.reason=s.revert.signature,s.message=`execution reverted: ${s.reason}`}catch{s.message="execution reverted (coult not decode custom error)"}}const i=this.parseTransaction(t);return i&&(s.invocation={method:i.name,signature:i.signature,args:i.args}),s}encodeFunctionResult(e,t){if(typeof e=="string"){const r=this.getFunction(e);g(r,"unknown function","fragment",e),e=r}return N(this.#r.encode(e.outputs,t||[]))}encodeFilterTopics(e,t){if(typeof e=="string"){const o=this.getEvent(e);g(o,"unknown event","eventFragment",e),e=o}b(t.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:t.length,expectedCount:e.inputs.length});const r=[];e.anonymous||r.push(e.topicHash);const s=(o,i)=>o.type==="string"?rt(i):o.type==="bytes"?Q(N(i)):(o.type==="bool"&&typeof i=="boolean"?i=i?"0x01":"0x00":o.type.match(/^u?int/)?i=Ve(i):o.type.match(/^bytes/)?i=Xc(i,32):o.type==="address"&&this.#r.encode(["address"],[i]),nt(N(i),32));for(t.forEach((o,i)=>{const a=e.inputs[i];if(!a.indexed){g(o==null,"cannot filter non-indexed parameters; must be null","contract."+a.name,o);return}o==null?r.push(null):a.baseType==="array"||a.baseType==="tuple"?g(!1,"filtering with tuples or arrays not supported","contract."+a.name,o):Array.isArray(o)?r.push(o.map(c=>s(a,c))):r.push(s(a,o))});r.length&&r[r.length-1]===null;)r.pop();return r}encodeEventLog(e,t){if(typeof e=="string"){const i=this.getEvent(e);g(i,"unknown event","eventFragment",e),e=i}const r=[],s=[],o=[];return e.anonymous||r.push(e.topicHash),g(t.length===e.inputs.length,"event arguments/values mismatch","values",t),e.inputs.forEach((i,a)=>{const c=t[a];if(i.indexed)if(i.type==="string")r.push(rt(c));else if(i.type==="bytes")r.push(Q(c));else{if(i.baseType==="tuple"||i.baseType==="array")throw new Error("not implemented");r.push(this.#r.encode([i.type],[c]))}else s.push(i),o.push(c)}),{data:this.#r.encode(s,o),topics:r}}decodeEventLog(e,t,r){if(typeof e=="string"){const p=this.getEvent(e);g(p,"unknown event","eventFragment",e),e=p}if(r!=null&&!e.anonymous){const p=e.topicHash;g(H(r[0],32)&&r[0].toLowerCase()===p,"fragment/topic mismatch","topics[0]",r[0]),r=r.slice(1)}const s=[],o=[],i=[];e.inputs.forEach((p,w)=>{p.indexed?p.type==="string"||p.type==="bytes"||p.baseType==="tuple"||p.baseType==="array"?(s.push(G.from({type:"bytes32",name:p.name})),i.push(!0)):(s.push(p),i.push(!1)):(o.push(p),i.push(!1))});const a=r!=null?this.#r.decode(s,Z(r)):null,c=this.#r.decode(o,t,!0),l=[],f=[];let d=0,h=0;return e.inputs.forEach((p,w)=>{let m=null;if(p.indexed)if(a==null)m=new bo(null);else if(i[w])m=new bo(a[h++]);else try{m=a[h++]}catch(y){m=y}else try{m=c[d++]}catch(y){m=y}l.push(m),f.push(p.name||null)}),vt.fromItems(l,f)}parseTransaction(e){const t=U(e.data,"tx.data"),r=x(e.value!=null?e.value:0,"tx.value"),s=this.getFunction(N(t.slice(0,4)));if(!s)return null;const o=this.#r.decode(s.inputs,t.slice(4));return new cp(s,s.selector,o,r)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new ap(t,t.topicHash,this.decodeEventLog(t,e.data,e.topics))}parseError(e){const t=N(e),r=this.getError(j(t,0,4));if(!r)return null;const s=this.#r.decode(r.inputs,j(t,4));return new lp(r,r.selector,s)}static from(e){return e instanceof bt?e:typeof e=="string"?new bt(JSON.parse(e)):typeof e.format=="function"?new bt(e.format("json")):new bt(e)}}const Ja=BigInt(0);function Ut(n){return n??null}function Y(n){return n==null?null:n.toString()}class Eo{gasPrice;maxFeePerGas;maxPriorityFeePerGas;constructor(e,t,r){S(this,{gasPrice:Ut(e),maxFeePerGas:Ut(t),maxPriorityFeePerGas:Ut(r)})}toJSON(){const{gasPrice:e,maxFeePerGas:t,maxPriorityFeePerGas:r}=this;return{_type:"FeeData",gasPrice:Y(e),maxFeePerGas:Y(t),maxPriorityFeePerGas:Y(r)}}}function Tn(n){const e={};n.to&&(e.to=n.to),n.from&&(e.from=n.from),n.data&&(e.data=N(n.data));const t="chainId,gasLimit,gasPrice,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const s of t)!(s in n)||n[s]==null||(e[s]=x(n[s],`request.${s}`));const r="type,nonce".split(/,/);for(const s of r)!(s in n)||n[s]==null||(e[s]=$(n[s],`request.${s}`));return n.accessList&&(e.accessList=ct(n.accessList)),"blockTag"in n&&(e.blockTag=n.blockTag),"enableCcipRead"in n&&(e.enableCcipRead=!!n.enableCcipRead),"customData"in n&&(e.customData=n.customData),e}class up{provider;number;hash;timestamp;parentHash;parentBeaconBlockRoot;nonce;difficulty;gasLimit;gasUsed;stateRoot;receiptsRoot;blobGasUsed;excessBlobGas;miner;extraData;baseFeePerGas;#e;constructor(e,t){this.#e=e.transactions.map(r=>typeof r!="string"?new qt(r,t):r),S(this,{provider:t,hash:Ut(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,extraData:e.extraData,baseFeePerGas:Ut(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return this.#e.map(e=>typeof e=="string"?e:e.hash)}get prefetchedTransactions(){const e=this.#e.slice();return e.length===0?[]:(b(typeof e[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:t,extraData:r,gasLimit:s,gasUsed:o,hash:i,miner:a,nonce:c,number:l,parentHash:f,parentBeaconBlockRoot:d,stateRoot:h,receiptsRoot:p,timestamp:w,transactions:m}=this;return{_type:"Block",baseFeePerGas:Y(e),difficulty:Y(t),extraData:r,gasLimit:Y(s),gasUsed:Y(o),blobGasUsed:Y(this.blobGasUsed),excessBlobGas:Y(this.excessBlobGas),hash:i,miner:a,nonce:c,number:l,parentHash:f,timestamp:w,parentBeaconBlockRoot:d,stateRoot:h,receiptsRoot:p,transactions:m}}[Symbol.iterator](){let e=0;const t=this.transactions;return{next:()=>e<this.length?{value:t[e++],done:!1}:{value:void 0,done:!0}}}get length(){return this.#e.length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(e){let t;if(typeof e=="number")t=this.#e[e];else{const r=e.toLowerCase();for(const s of this.#e)if(typeof s=="string"){if(s!==r)continue;t=s;break}else{if(s.hash===r)continue;t=s;break}}if(t==null)throw new Error("no such tx");return typeof t=="string"?await this.provider.getTransaction(t):t}getPrefetchedTransaction(e){const t=this.prefetchedTransactions;if(typeof e=="number")return t[e];e=e.toLowerCase();for(const r of t)if(r.hash===e)return r;g(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return fp(this)}}class Zt{provider;transactionHash;blockHash;blockNumber;removed;address;data;topics;index;transactionIndex;constructor(e,t){this.provider=t;const r=Object.freeze(e.topics.slice());S(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:r,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:t,blockNumber:r,data:s,index:o,removed:i,topics:a,transactionHash:c,transactionIndex:l}=this;return{_type:"log",address:e,blockHash:t,blockNumber:r,data:s,index:o,removed:i,topics:a,transactionHash:c,transactionIndex:l}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return b(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return b(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return b(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return dp(this)}}class Ka{provider;to;from;contractAddress;hash;index;blockHash;blockNumber;logsBloom;gasUsed;blobGasUsed;cumulativeGasUsed;gasPrice;blobGasPrice;type;status;root;#e;constructor(e,t){this.#e=Object.freeze(e.logs.map(s=>new Zt(s,t)));let r=Ja;e.effectiveGasPrice!=null?r=e.effectiveGasPrice:e.gasPrice!=null&&(r=e.gasPrice),S(this,{provider:t,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:r,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return this.#e}toJSON(){const{to:e,from:t,contractAddress:r,hash:s,index:o,blockHash:i,blockNumber:a,logsBloom:c,logs:l,status:f,root:d}=this;return{_type:"TransactionReceipt",blockHash:i,blockNumber:a,contractAddress:r,cumulativeGasUsed:Y(this.cumulativeGasUsed),from:t,gasPrice:Y(this.gasPrice),blobGasUsed:Y(this.blobGasUsed),blobGasPrice:Y(this.blobGasPrice),gasUsed:Y(this.gasUsed),hash:s,index:o,logs:l,logsBloom:c,root:d,status:f,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(e==null)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(e==null)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return Wa(this)}reorderedEvent(e){return b(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),ja(this,e)}}class qt{provider;blockNumber;blockHash;index;hash;type;to;from;nonce;gasLimit;gasPrice;maxPriorityFeePerGas;maxFeePerGas;maxFeePerBlobGas;data;value;chainId;signature;accessList;blobVersionedHashes;#e;constructor(e,t){this.provider=t,this.blockNumber=e.blockNumber!=null?e.blockNumber:null,this.blockHash=e.blockHash!=null?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=e.maxPriorityFeePerGas!=null?e.maxPriorityFeePerGas:null,this.maxFeePerGas=e.maxFeePerGas!=null?e.maxFeePerGas:null,this.maxFeePerBlobGas=e.maxFeePerBlobGas!=null?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=e.accessList!=null?e.accessList:null,this.blobVersionedHashes=e.blobVersionedHashes!=null?e.blobVersionedHashes:null,this.#e=-1}toJSON(){const{blockNumber:e,blockHash:t,index:r,hash:s,type:o,to:i,from:a,nonce:c,data:l,signature:f,accessList:d,blobVersionedHashes:h}=this;return{_type:"TransactionResponse",accessList:d,blockNumber:e,blockHash:t,blobVersionedHashes:h,chainId:Y(this.chainId),data:l,from:a,gasLimit:Y(this.gasLimit),gasPrice:Y(this.gasPrice),hash:s,maxFeePerGas:Y(this.maxFeePerGas),maxPriorityFeePerGas:Y(this.maxPriorityFeePerGas),maxFeePerBlobGas:Y(this.maxFeePerBlobGas),nonce:c,signature:f,to:i,index:r,type:o,value:Y(this.value)}}async getBlock(){let e=this.blockNumber;if(e==null){const r=await this.getTransaction();r&&(e=r.blockNumber)}if(e==null)return null;const t=this.provider.getBlock(e);if(t==null)throw new Error("TODO");return t}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:t,blockNumber:r}=await oe({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return t==null||t.blockNumber==null?0:r-t.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,t){const r=e??1,s=t??0;let o=this.#e,i=-1,a=o===-1;const c=async()=>{if(a)return null;const{blockNumber:h,nonce:p}=await oe({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(p<this.nonce){o=h;return}if(a)return null;const w=await this.getTransaction();if(!(w&&w.blockNumber!=null))for(i===-1&&(i=o-3,i<this.#e&&(i=this.#e));i<=h;){if(a)return null;const m=await this.provider.getBlock(i,!0);if(m==null)return;for(const y of m)if(y===this.hash)return;for(let y=0;y<m.length;y++){const A=await m.getTransaction(y);if(A.from===this.from&&A.nonce===this.nonce){if(a)return null;const C=await this.provider.getTransactionReceipt(A.hash);if(C==null||h-C.blockNumber+1<r)return;let R="replaced";A.data===this.data&&A.to===this.to&&A.value===this.value?R="repriced":A.data==="0x"&&A.from===A.to&&A.value===Ja&&(R="cancelled"),b(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:R==="replaced"||R==="cancelled",reason:R,replacement:A.replaceableTransaction(o),hash:A.hash,receipt:C})}}i++}},l=h=>{if(h==null||h.status!==0)return h;b(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:h.to,from:h.from,data:""},receipt:h})},f=await this.provider.getTransactionReceipt(this.hash);if(r===0)return l(f);if(f){if(await f.confirmations()>=r)return l(f)}else if(await c(),r===0)return null;return await new Promise((h,p)=>{const w=[],m=()=>{w.forEach(A=>A())};if(w.push(()=>{a=!0}),s>0){const A=setTimeout(()=>{m(),p(q("wait for transaction timeout","TIMEOUT"))},s);w.push(()=>{clearTimeout(A)})}const y=async A=>{if(await A.confirmations()>=r){m();try{h(l(A))}catch(C){p(C)}}};if(w.push(()=>{this.provider.off(this.hash,y)}),this.provider.on(this.hash,y),o>=0){const A=async()=>{try{await c()}catch(C){if(ce(C,"TRANSACTION_REPLACED")){m(),p(C);return}}a||this.provider.once("block",A)};w.push(()=>{this.provider.off("block",A)}),this.provider.once("block",A)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return b(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Wa(this)}reorderedEvent(e){return b(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),b(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),ja(this,e)}replaceableTransaction(e){g(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const t=new qt(this,this.provider);return t.#e=e,t}}function fp(n){return{orphan:"drop-block",hash:n.hash,number:n.number}}function ja(n,e){return{orphan:"reorder-transaction",tx:n,other:e}}function Wa(n){return{orphan:"drop-transaction",tx:n}}function dp(n){return{orphan:"drop-log",log:{transactionHash:n.transactionHash,blockHash:n.blockHash,blockNumber:n.blockNumber,address:n.address,data:n.data,topics:Object.freeze(n.topics.slice()),index:n.index}}}class os extends Zt{interface;fragment;args;constructor(e,t,r){super(e,e.provider);const s=t.decodeEventLog(r,e.data,e.topics);S(this,{args:s,fragment:r,interface:t})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class Ya extends Zt{error;constructor(e,t){super(e,e.provider),S(this,{error:t})}}class hp extends Ka{#e;constructor(e,t,r){super(r,t),this.#e=e}get logs(){return super.logs.map(e=>{const t=e.topics.length?this.#e.getEvent(e.topics[0]):null;if(t)try{return new os(e,this.#e,t)}catch(r){return new Ya(e,r)}return e})}}class is extends qt{#e;constructor(e,t,r){super(r,t),this.#e=e}async wait(e,t){const r=await super.wait(e,t);return r==null?null:new hp(this.#e,this.provider,r)}}class Xa extends qi{log;constructor(e,t,r,s){super(e,t,r),S(this,{log:s})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class pp extends Xa{constructor(e,t,r,s,o){super(e,t,r,new os(o,e.interface,s));const i=e.interface.decodeEventLog(s,this.log.data,this.log.topics);S(this,{args:i,fragment:s})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const Co=BigInt(0);function Za(n){return n&&typeof n.call=="function"}function qa(n){return n&&typeof n.estimateGas=="function"}function Kn(n){return n&&typeof n.resolveName=="function"}function ec(n){return n&&typeof n.sendTransaction=="function"}function tc(n){if(n!=null){if(Kn(n))return n;if(n.provider)return n.provider}}class gp{#e;fragment;constructor(e,t,r){if(S(this,{fragment:t}),t.inputs.length<r.length)throw new Error("too many arguments");const s=it(e.runner,"resolveName"),o=Kn(s)?s:null;this.#e=async function(){const i=await Promise.all(t.inputs.map((a,c)=>r[c]==null?null:a.walkAsync(r[c],(f,d)=>f==="address"?Array.isArray(d)?Promise.all(d.map(h=>ue(h,o))):ue(d,o):d)));return e.interface.encodeFilterTopics(t,i)}()}getTopicFilter(){return this.#e}}function it(n,e){return n==null?null:typeof n[e]=="function"?n:n.provider&&typeof n.provider[e]=="function"?n.provider:null}function et(n){return n==null?null:n.provider||null}async function nc(n,e){const t=W.dereference(n,"overrides");g(typeof t=="object","invalid overrides parameter","overrides",n);const r=Tn(t);return g(r.to==null||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",r.to),g(r.data==null||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",r.data),r.from&&(r.from=r.from),r}async function mp(n,e,t){const r=it(n,"resolveName"),s=Kn(r)?r:null;return await Promise.all(e.map((o,i)=>o.walkAsync(t[i],(a,c)=>(c=W.dereference(c,a),a==="address"?ue(c,s):c))))}function wp(n){const e=async function(i){const a=await nc(i,["data"]);a.to=await n.getAddress(),a.from&&(a.from=await ue(a.from,tc(n.runner)));const c=n.interface,l=x(a.value||Co,"overrides.value")===Co,f=(a.data||"0x")==="0x";c.fallback&&!c.fallback.payable&&c.receive&&!f&&!l&&g(!1,"cannot send data to receive or send value to non-payable fallback","overrides",i),g(c.fallback||f,"cannot send data to receive-only contract","overrides.data",a.data);const d=c.receive||c.fallback&&c.fallback.payable;return g(d||l,"cannot send value to non-payable fallback","overrides.value",a.value),g(c.fallback||f,"cannot send data to receive-only contract","overrides.data",a.data),a},t=async function(i){const a=it(n.runner,"call");b(Za(a),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const c=await e(i);try{return await a.call(c)}catch(l){throw _r(l)&&l.data?n.interface.makeError(l.data,c):l}},r=async function(i){const a=n.runner;b(ec(a),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const c=await a.sendTransaction(await e(i)),l=et(n.runner);return new is(n.interface,l,c)},s=async function(i){const a=it(n.runner,"estimateGas");return b(qa(a),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await a.estimateGas(await e(i))},o=async i=>await r(i);return S(o,{_contract:n,estimateGas:s,populateTransaction:e,send:r,staticCall:t}),o}function yp(n,e){const t=function(...l){const f=n.interface.getFunction(e,l);return b(f,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:l}}),f},r=async function(...l){const f=t(...l);let d={};if(f.inputs.length+1===l.length&&(d=await nc(l.pop()),d.from&&(d.from=await ue(d.from,tc(n.runner)))),f.inputs.length!==l.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const h=await mp(n.runner,f.inputs,l);return Object.assign({},d,await oe({to:n.getAddress(),data:n.interface.encodeFunctionData(f,h)}))},s=async function(...l){const f=await a(...l);return f.length===1?f[0]:f},o=async function(...l){const f=n.runner;b(ec(f),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const d=await f.sendTransaction(await r(...l)),h=et(n.runner);return new is(n.interface,h,d)},i=async function(...l){const f=it(n.runner,"estimateGas");return b(qa(f),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await f.estimateGas(await r(...l))},a=async function(...l){const f=it(n.runner,"call");b(Za(f),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const d=await r(...l);let h="0x";try{h=await f.call(d)}catch(w){throw _r(w)&&w.data?n.interface.makeError(w.data,d):w}const p=t(...l);return n.interface.decodeFunctionResult(p,h)},c=async(...l)=>t(...l).constant?await s(...l):await o(...l);return S(c,{name:n.interface.getFunctionName(e),_contract:n,_key:e,getFragment:t,estimateGas:i,populateTransaction:r,send:o,staticCall:s,staticCallResult:a}),Object.defineProperty(c,"fragment",{configurable:!1,enumerable:!0,get:()=>{const l=n.interface.getFunction(e);return b(l,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),l}}),c}function bp(n,e){const t=function(...s){const o=n.interface.getEvent(e,s);return b(o,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:s}}),o},r=function(...s){return new gp(n,t(...s),s)};return S(r,{name:n.interface.getEventName(e),_contract:n,_key:e,getFragment:t}),Object.defineProperty(r,"fragment",{configurable:!1,enumerable:!0,get:()=>{const s=n.interface.getEvent(e);return b(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),s}}),r}const Mn=Symbol.for("_ethersInternal_contract"),rc=new WeakMap;function Ap(n,e){rc.set(n[Mn],e)}function ye(n){return rc.get(n[Mn])}function vp(n){return n&&typeof n=="object"&&"getTopicFilter"in n&&typeof n.getTopicFilter=="function"&&n.fragment}async function as(n,e){let t,r=null;if(Array.isArray(e)){const o=function(i){if(H(i,32))return i;const a=n.interface.getEvent(i);return g(a,"unknown fragment","name",i),a.topicHash};t=e.map(i=>i==null?null:Array.isArray(i)?i.map(o):o(i))}else e==="*"?t=[null]:typeof e=="string"?H(e,32)?t=[e]:(r=n.interface.getEvent(e),g(r,"unknown fragment","event",e),t=[r.topicHash]):vp(e)?t=await e.getTopicFilter():"fragment"in e?(r=e.fragment,t=[r.topicHash]):g(!1,"unknown event name","event",e);t=t.map(o=>{if(o==null)return null;if(Array.isArray(o)){const i=Array.from(new Set(o.map(a=>a.toLowerCase())).values());return i.length===1?i[0]:(i.sort(),i)}return o.toLowerCase()});const s=t.map(o=>o==null?"null":Array.isArray(o)?o.join("|"):o).join("&");return{fragment:r,tag:s,topics:t}}async function $t(n,e){const{subs:t}=ye(n);return t.get((await as(n,e)).tag)||null}async function xo(n,e,t){const r=et(n.runner);b(r,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});const{fragment:s,tag:o,topics:i}=await as(n,t),{addr:a,subs:c}=ye(n);let l=c.get(o);if(!l){const d={address:a||n,topics:i},h=y=>{let A=s;if(A==null)try{A=n.interface.getEvent(y.topics[0])}catch{}if(A){const C=A,R=s?n.interface.decodeEventLog(s,y.data,y.topics):[];kr(n,t,R,T=>new pp(n,T,t,C,y))}else kr(n,t,[],C=>new Xa(n,C,t,y))};let p=[];l={tag:o,listeners:[],start:()=>{p.length||p.push(r.on(d,h))},stop:async()=>{if(p.length==0)return;let y=p;p=[],await Promise.all(y),r.off(d,h)}},c.set(o,l)}return l}let Or=Promise.resolve();async function Ep(n,e,t,r){await Or;const s=await $t(n,e);if(!s)return!1;const o=s.listeners.length;return s.listeners=s.listeners.filter(({listener:i,once:a})=>{const c=Array.from(t);r&&c.push(r(a?null:i));try{i.call(n,...c)}catch{}return!a}),s.listeners.length===0&&(s.stop(),ye(n).subs.delete(s.tag)),o>0}async function kr(n,e,t,r){try{await Or}catch{}const s=Ep(n,e,t,r);return Or=s,await s}const wn=["then"];class Gt{target;interface;runner;filters;[Mn];fallback;constructor(e,t,r,s){g(typeof e=="string"||ua(e),"invalid value for Contract target","target",e),r==null&&(r=null);const o=bt.from(t);S(this,{target:e,runner:r,interface:o}),Object.defineProperty(this,Mn,{value:{}});let i,a=null,c=null;if(s){const d=et(r);c=new is(this.interface,d,s)}let l=new Map;if(typeof e=="string")if(H(e))a=e,i=Promise.resolve(e);else{const d=it(r,"resolveName");if(!Kn(d))throw q("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});i=d.resolveName(e).then(h=>{if(h==null)throw q("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return ye(this).addr=h,h})}else i=e.getAddress().then(d=>{if(d==null)throw new Error("TODO");return ye(this).addr=d,d});Ap(this,{addrPromise:i,addr:a,deployTx:c,subs:l});const f=new Proxy({},{get:(d,h,p)=>{if(typeof h=="symbol"||wn.indexOf(h)>=0)return Reflect.get(d,h,p);try{return this.getEvent(h)}catch(w){if(!ce(w,"INVALID_ARGUMENT")||w.argument!=="key")throw w}},has:(d,h)=>wn.indexOf(h)>=0?Reflect.has(d,h):Reflect.has(d,h)||this.interface.hasEvent(String(h))});return S(this,{filters:f}),S(this,{fallback:o.receive||o.fallback?wp(this):null}),new Proxy(this,{get:(d,h,p)=>{if(typeof h=="symbol"||h in d||wn.indexOf(h)>=0)return Reflect.get(d,h,p);try{return d.getFunction(h)}catch(w){if(!ce(w,"INVALID_ARGUMENT")||w.argument!=="key")throw w}},has:(d,h)=>typeof h=="symbol"||h in d||wn.indexOf(h)>=0?Reflect.has(d,h):d.interface.hasFunction(h)})}connect(e){return new Gt(this.target,this.interface,e)}attach(e){return new Gt(e,this.interface,this.runner)}async getAddress(){return await ye(this).addrPromise}async getDeployedCode(){const e=et(this.runner);b(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const t=await e.getCode(await this.getAddress());return t==="0x"?null:t}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(await this.getDeployedCode()!=null)return this;const r=et(this.runner);return b(r!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((s,o)=>{const i=async()=>{try{if(await this.getDeployedCode()!=null)return s(this);r.once("block",i)}catch(a){o(a)}};i()})}deploymentTransaction(){return ye(this).deployTx}getFunction(e){return typeof e!="string"&&(e=e.format()),yp(this,e)}getEvent(e){return typeof e!="string"&&(e=e.format()),bp(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,t,r){t==null&&(t=0),r==null&&(r="latest");const{addr:s,addrPromise:o}=ye(this),i=s||await o,{fragment:a,topics:c}=await as(this,e),l={address:i,topics:c,fromBlock:t,toBlock:r},f=et(this.runner);return b(f,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await f.getLogs(l)).map(d=>{let h=a;if(h==null)try{h=this.interface.getEvent(d.topics[0])}catch{}if(h)try{return new os(d,this.interface,h)}catch(p){return new Ya(d,p)}return new Zt(d,f)})}async on(e,t){const r=await xo(this,"on",e);return r.listeners.push({listener:t,once:!1}),r.start(),this}async once(e,t){const r=await xo(this,"once",e);return r.listeners.push({listener:t,once:!0}),r.start(),this}async emit(e,...t){return await kr(this,e,t,null)}async listenerCount(e){if(e){const s=await $t(this,e);return s?s.listeners.length:0}const{subs:t}=ye(this);let r=0;for(const{listeners:s}of t.values())r+=s.length;return r}async listeners(e){if(e){const s=await $t(this,e);return s?s.listeners.map(({listener:o})=>o):[]}const{subs:t}=ye(this);let r=[];for(const{listeners:s}of t.values())r=r.concat(s.map(({listener:o})=>o));return r}async off(e,t){const r=await $t(this,e);if(!r)return this;if(t){const s=r.listeners.map(({listener:o})=>o).indexOf(t);s>=0&&r.listeners.splice(s,1)}return(t==null||r.listeners.length===0)&&(r.stop(),ye(this).subs.delete(r.tag)),this}async removeAllListeners(e){if(e){const t=await $t(this,e);if(!t)return this;t.stop(),ye(this).subs.delete(t.tag)}else{const{subs:t}=ye(this);for(const{tag:r,stop:s}of t.values())s(),t.delete(r)}return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return await this.off(e,t)}static buildClass(e){class t extends Gt{constructor(s,o=null){super(s,e,o)}}return t}static from(e,t,r){return r==null&&(r=null),new this(e,t,r)}}function Cp(){return Gt}class _t extends Cp(){}function hr(n){return n.match(/^ipfs:\/\/ipfs\//i)?n=n.substring(12):n.match(/^ipfs:\/\//i)?n=n.substring(7):g(!1,"unsupported IPFS format","link",n),`https://gateway.ipfs.io/ipfs/${n}`}class xp{name;constructor(e){S(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,t){throw new Error("unsupported coin")}async decodeAddress(e,t){throw new Error("unsupported coin")}}const sc=new RegExp("^(ipfs)://(.*)$","i"),Po=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),sc,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];class Ct{provider;address;name;#e;#t;constructor(e,t,r){S(this,{provider:e,address:t,name:r}),this.#e=null,this.#t=new _t(t,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e)}async supportsWildcard(){return this.#e==null&&(this.#e=(async()=>{try{return await this.#t.supportsInterface("0x9061b923")}catch(e){if(ce(e,"CALL_EXCEPTION"))return!1;throw this.#e=null,e}})()),await this.#e}async#n(e,t){t=(t||[]).slice();const r=this.#t.interface;t.unshift(Ir(this.name));let s=null;await this.supportsWildcard()&&(s=r.getFunction(e),b(s,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),t=[Rh(this.name,255),r.encodeFunctionData(s,t)],e="resolve(bytes,bytes)"),t.push({enableCcipRead:!0});try{const o=await this.#t[e](...t);return s?r.decodeFunctionResult(s,o)[0]:o}catch(o){if(!ce(o,"CALL_EXCEPTION"))throw o}return null}async getAddress(e){if(e==null&&(e=60),e===60)try{const o=await this.#n("addr(bytes32)");return o==null||o===Vt?null:o}catch(o){if(ce(o,"CALL_EXCEPTION"))return null;throw o}if(e>=0&&e<2147483648){let o=e+2147483648;const i=await this.#n("addr(bytes32,uint)",[o]);if(H(i,20))return L(i)}let t=null;for(const o of this.provider.plugins)if(o instanceof xp&&o.supportsCoinType(e)){t=o;break}if(t==null)return null;const r=await this.#n("addr(bytes32,uint)",[e]);if(r==null||r==="0x")return null;const s=await t.decodeAddress(e,r);if(s!=null)return s;b(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:r}})}async getText(e){const t=await this.#n("text(bytes32,string)",[e]);return t==null||t==="0x"?null:t}async getContentHash(){const e=await this.#n("contenthash(bytes32)");if(e==null||e==="0x")return null;const t=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){const s=t[1]==="e3010170"?"ipfs":"ipns",o=parseInt(t[4],16);if(t[5].length===o*2)return`${s}://${cd("0x"+t[2])}`}const r=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(r&&r[1].length===64)return`bzz://${r[1]}`;b(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const t=await this.getText("avatar");if(t==null)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:t});for(let r=0;r<Po.length;r++){const s=t.match(Po[r]);if(s==null)continue;const o=s[1].toLowerCase();switch(o){case"https":case"data":return e.push({type:"url",value:t}),{linkage:e,url:t};case"ipfs":{const i=hr(t);return e.push({type:"ipfs",value:t}),e.push({type:"url",value:i}),{linkage:e,url:i}}case"erc721":case"erc1155":{const i=o==="erc721"?"tokenURI(uint256)":"uri(uint256)";e.push({type:o,value:t});const a=await this.getAddress();if(a==null)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const c=(s[2]||"").split("/");if(c.length!==2)return e.push({type:`!${o}caip`,value:s[2]||""}),{url:null,linkage:e};const l=c[1],f=new _t(c[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(o==="erc721"){const m=await f.ownerOf(l);if(a!==m)return e.push({type:"!owner",value:m}),{url:null,linkage:e};e.push({type:"owner",value:m})}else if(o==="erc1155"){const m=await f.balanceOf(a,l);if(!m)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:m.toString()})}let d=await f[i](l);if(d==null||d==="0x")return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:d}),o==="erc1155"&&(d=d.replace("{id}",Ve(l,32).substring(2)),e.push({type:"metadata-url-expanded",value:d})),d.match(/^ipfs:/i)&&(d=hr(d)),e.push({type:"metadata-url",value:d});let h={};const p=await new Le(d).send();p.assertOk();try{h=p.bodyJson}catch{try{e.push({type:"!metadata",value:p.bodyText})}catch{const A=p.body;return A&&e.push({type:"!metadata",value:N(A)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!h)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(h)});let w=h.image;if(typeof w!="string")return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(!w.match(/^(https:\/\/|data:)/i)){if(w.match(sc)==null)return e.push({type:"!imageUrl-ipfs",value:w}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:w}),w=hr(w)}return e.push({type:"url",value:w}),{linkage:e,url:w}}}}}catch{}return{linkage:e,url:null}}static async getEnsAddress(e){const t=await e.getNetwork(),r=t.getPlugin("org.ethers.plugins.network.Ens");return b(r,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:t}}),r.address}static async#r(e,t){const r=await Ct.getEnsAddress(e);try{const o=await new _t(r,["function resolver(bytes32) view returns (address)"],e).resolver(Ir(t),{enableCcipRead:!0});return o===Vt?null:o}catch(s){throw s}return null}static async fromName(e,t){let r=t;for(;;){if(r===""||r==="."||t!=="eth"&&r==="eth")return null;const s=await Ct.#r(e,r);if(s!=null){const o=new Ct(e,s,t);return r!==t&&!await o.supportsWildcard()?null:o}r=r.split(".").slice(1).join(".")}}}const No=BigInt(0);function B(n,e){return function(t){return t==null?e:n(t)}}function jn(n,e){return t=>{if(e&&t==null)return null;if(!Array.isArray(t))throw new Error("not an array");return t.map(r=>n(r))}}function en(n,e){return t=>{const r={};for(const s in n){let o=s;if(e&&s in e&&!(o in t)){for(const i of e[s])if(i in t){o=i;break}}try{const i=n[s](t[o]);i!==void 0&&(r[s]=i)}catch(i){const a=i instanceof Error?i.message:"not-an-error";b(!1,`invalid value for value.${s} (${a})`,"BAD_DATA",{value:t})}}return r}}function Pp(n){switch(n){case!0:case"true":return!0;case!1:case"false":return!1}g(!1,`invalid boolean; ${JSON.stringify(n)}`,"value",n)}function It(n){return g(H(n,!0),"invalid data","value",n),n}function se(n){return g(H(n,32),"invalid hash","value",n),n}const Np=en({address:L,blockHash:se,blockNumber:$,data:It,index:$,removed:B(Pp,!1),topics:jn(se),transactionHash:se,transactionIndex:$},{index:["logIndex"]});function Rp(n){return Np(n)}const Sp=en({hash:B(se),parentHash:se,parentBeaconBlockRoot:B(se,null),number:$,timestamp:$,nonce:B(It),difficulty:x,gasLimit:x,gasUsed:x,stateRoot:B(se,null),receiptsRoot:B(se,null),blobGasUsed:B(x,null),excessBlobGas:B(x,null),miner:B(L),extraData:It,baseFeePerGas:B(x)});function Ip(n){const e=Sp(n);return e.transactions=n.transactions.map(t=>typeof t=="string"?t:oc(t)),e}const Op=en({transactionIndex:$,blockNumber:$,transactionHash:se,address:L,topics:jn(se),data:It,index:$,blockHash:se},{index:["logIndex"]});function kp(n){return Op(n)}const Tp=en({to:B(L,null),from:B(L,null),contractAddress:B(L,null),index:$,root:B(N),gasUsed:x,blobGasUsed:B(x,null),logsBloom:B(It),blockHash:se,hash:se,logs:jn(kp),blockNumber:$,cumulativeGasUsed:x,effectiveGasPrice:B(x),blobGasPrice:B(x,null),status:B($),type:B($,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function Mp(n){return Tp(n)}function oc(n){n.to&&x(n.to)===No&&(n.to="0x0000000000000000000000000000000000000000");const e=en({hash:se,index:B($,void 0),type:t=>t==="0x"||t==null?0:$(t),accessList:B(ct,null),blobVersionedHashes:B(jn(se,!0),null),blockHash:B(se,null),blockNumber:B($,null),transactionIndex:B($,null),from:L,gasPrice:B(x),maxPriorityFeePerGas:B(x),maxFeePerGas:B(x),maxFeePerBlobGas:B(x,null),gasLimit:x,to:B(L,null),value:x,nonce:$,data:It,creates:B(L,null),chainId:B(x,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(n);if(e.to==null&&e.creates==null&&(e.creates=Od(e)),(n.type===1||n.type===2)&&n.accessList==null&&(e.accessList=[]),n.signature?e.signature=ee.from(n.signature):e.signature=ee.from(n),e.chainId==null){const t=e.signature.legacyChainId;t!=null&&(e.chainId=t)}return e.blockHash&&x(e.blockHash)===No&&(e.blockHash=null),e}const Dp="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class tn{name;constructor(e){S(this,{name:e})}clone(){return new tn(this.name)}}class Wn extends tn{effectiveBlock;txBase;txCreate;txDataZero;txDataNonzero;txAccessListStorageKey;txAccessListAddress;constructor(e,t){e==null&&(e=0),super(`org.ethers.network.plugins.GasCost#${e||0}`);const r={effectiveBlock:e};function s(o,i){let a=(t||{})[o];a==null&&(a=i),g(typeof a=="number",`invalud value for ${o}`,"costs",t),r[o]=a}s("txBase",21e3),s("txCreate",32e3),s("txDataZero",4),s("txDataNonzero",16),s("txAccessListStorageKey",1900),s("txAccessListAddress",2400),S(this,r)}clone(){return new Wn(this.effectiveBlock,this)}}class Yn extends tn{address;targetNetwork;constructor(e,t){super("org.ethers.plugins.network.Ens"),S(this,{address:e||Dp,targetNetwork:t??1})}clone(){return new Yn(this.address,this.targetNetwork)}}class Bp extends tn{#e;#t;get url(){return this.#e}get processFunc(){return this.#t}constructor(e,t){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin"),this.#e=e,this.#t=t}clone(){return this}}const pr=new Map;class be{#e;#t;#n;constructor(e,t){this.#e=e,this.#t=x(t),this.#n=new Map}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return this.#e}set name(e){this.#e=e}get chainId(){return this.#t}set chainId(e){this.#t=x(e,"chainId")}matches(e){if(e==null)return!1;if(typeof e=="string"){try{return this.chainId===x(e)}catch{}return this.name===e}if(typeof e=="number"||typeof e=="bigint"){try{return this.chainId===x(e)}catch{}return!1}if(typeof e=="object"){if(e.chainId!=null){try{return this.chainId===x(e.chainId)}catch{}return!1}return e.name!=null?this.name===e.name:!1}return!1}get plugins(){return Array.from(this.#n.values())}attachPlugin(e){if(this.#n.get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return this.#n.set(e.name,e.clone()),this}getPlugin(e){return this.#n.get(e)||null}getPlugins(e){return this.plugins.filter(t=>t.name.split("#")[0]===e)}clone(){const e=new be(this.name,this.chainId);return this.plugins.forEach(t=>{e.attachPlugin(t.clone())}),e}computeIntrinsicGas(e){const t=this.getPlugin("org.ethers.plugins.network.GasCost")||new Wn;let r=t.txBase;if(e.to==null&&(r+=t.txCreate),e.data)for(let s=2;s<e.data.length;s+=2)e.data.substring(s,s+2)==="00"?r+=t.txDataZero:r+=t.txDataNonzero;if(e.accessList){const s=ct(e.accessList);for(const o in s)r+=t.txAccessListAddress+t.txAccessListStorageKey*s[o].storageKeys.length}return r}static from(e){if(Fp(),e==null)return be.from("mainnet");if(typeof e=="number"&&(e=BigInt(e)),typeof e=="string"||typeof e=="bigint"){const t=pr.get(e);if(t)return t();if(typeof e=="bigint")return new be("unknown",e);g(!1,"unknown network","network",e)}if(typeof e.clone=="function")return e.clone();if(typeof e=="object"){g(typeof e.name=="string"&&typeof e.chainId=="number","invalid network object name or chainId","network",e);const t=new be(e.name,e.chainId);return(e.ensAddress||e.ensNetwork!=null)&&t.attachPlugin(new Yn(e.ensAddress,e.ensNetwork)),t}g(!1,"invalid network","network",e)}static register(e,t){typeof e=="number"&&(e=BigInt(e));const r=pr.get(e);r&&g(!1,`conflicting network for ${JSON.stringify(r.name)}`,"nameOrChainId",e),pr.set(e,t)}}function Ro(n,e){const t=String(n);if(!t.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${n}`);const r=t.split(".");if(r.length===1&&r.push(""),r.length!==2)throw new Error(`invalid gwei value: ${n}`);for(;r[1].length<e;)r[1]+="0";if(r[1].length>9){let s=BigInt(r[1].substring(0,9));r[1].substring(9).match(/^0+$/)||s++,r[1]=s.toString()}return BigInt(r[0]+r[1])}function So(n){return new Bp(n,async(e,t,r)=>{r.setHeader("User-Agent","ethers");let s;try{const[o,i]=await Promise.all([r.send(),e()]);s=o;const a=s.bodyJson.standard;return{gasPrice:i.gasPrice,maxFeePerGas:Ro(a.maxFee,9),maxPriorityFeePerGas:Ro(a.maxPriorityFee,9)}}catch(o){b(!1,`error encountered with polygon gas station (${JSON.stringify(r.url)})`,"SERVER_ERROR",{request:r,response:s,error:o})}})}let Io=!1;function Fp(){if(Io)return;Io=!0;function n(e,t,r){const s=function(){const o=new be(e,t);return r.ensNetwork!=null&&o.attachPlugin(new Yn(null,r.ensNetwork)),o.attachPlugin(new Wn),(r.plugins||[]).forEach(i=>{o.attachPlugin(i)}),o};be.register(e,s),be.register(t,s),r.altNames&&r.altNames.forEach(o=>{be.register(o,s)})}n("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),n("ropsten",3,{ensNetwork:3}),n("rinkeby",4,{ensNetwork:4}),n("goerli",5,{ensNetwork:5}),n("kovan",42,{ensNetwork:42}),n("sepolia",11155111,{ensNetwork:11155111}),n("holesky",17e3,{ensNetwork:17e3}),n("classic",61,{}),n("classicKotti",6,{}),n("arbitrum",42161,{ensNetwork:1}),n("arbitrum-goerli",421613,{}),n("arbitrum-sepolia",421614,{}),n("base",8453,{ensNetwork:1}),n("base-goerli",84531,{}),n("base-sepolia",84532,{}),n("bnb",56,{ensNetwork:1}),n("bnbt",97,{}),n("linea",59144,{ensNetwork:1}),n("linea-goerli",59140,{}),n("matic",137,{ensNetwork:1,plugins:[So("https://gasstation.polygon.technology/v2")]}),n("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[So("https://gasstation-testnet.polygon.technology/v2")]}),n("optimism",10,{ensNetwork:1,plugins:[]}),n("optimism-goerli",420,{}),n("optimism-sepolia",11155420,{}),n("xdai",100,{ensNetwork:1})}function Tr(n){return JSON.parse(JSON.stringify(n))}class $p{#e;#t;#n;#r;constructor(e){this.#e=e,this.#t=null,this.#n=4e3,this.#r=-2}get pollingInterval(){return this.#n}set pollingInterval(e){this.#n=e}async#s(){try{const e=await this.#e.getBlockNumber();if(this.#r===-2){this.#r=e;return}if(e!==this.#r){for(let t=this.#r+1;t<=e;t++){if(this.#t==null)return;await this.#e.emit("block",t)}this.#r=e}}catch{}this.#t!=null&&(this.#t=this.#e._setTimeout(this.#s.bind(this),this.#n))}start(){this.#t||(this.#t=this.#e._setTimeout(this.#s.bind(this),this.#n),this.#s())}stop(){this.#t&&(this.#e._clearTimeout(this.#t),this.#t=null)}pause(e){this.stop(),e&&(this.#r=-2)}resume(){this.start()}}class cs{#e;#t;#n;constructor(e){this.#e=e,this.#n=!1,this.#t=t=>{this._poll(t,this.#e)}}async _poll(e,t){throw new Error("sub-classes must override this")}start(){this.#n||(this.#n=!0,this.#t(-2),this.#e.on("block",this.#t))}stop(){this.#n&&(this.#n=!1,this.#e.off("block",this.#t))}pause(e){this.stop()}resume(){this.start()}}class Lp extends cs{#e;#t;constructor(e,t){super(e),this.#e=t,this.#t=-2}pause(e){e&&(this.#t=-2),super.pause(e)}async _poll(e,t){const r=await t.getBlock(this.#e);r!=null&&(this.#t===-2?this.#t=r.number:r.number>this.#t&&(t.emit(this.#e,r.number),this.#t=r.number))}}class Up extends cs{#e;constructor(e,t){super(e),this.#e=Tr(t)}async _poll(e,t){throw new Error("@TODO")}}class Gp extends cs{#e;constructor(e,t){super(e),this.#e=t}async _poll(e,t){const r=await t.getTransactionReceipt(this.#e);r&&t.emit(this.#e,r)}}class ls{#e;#t;#n;#r;#s;constructor(e,t){this.#e=e,this.#t=Tr(t),this.#n=this.#i.bind(this),this.#r=!1,this.#s=-2}async#i(e){if(this.#s===-2)return;const t=Tr(this.#t);t.fromBlock=this.#s+1,t.toBlock=e;const r=await this.#e.getLogs(t);if(r.length===0){this.#s<e-60&&(this.#s=e-60);return}for(const s of r)this.#e.emit(this.#t,s),this.#s=s.blockNumber}start(){this.#r||(this.#r=!0,this.#s===-2&&this.#e.getBlockNumber().then(e=>{this.#s=e}),this.#e.on("block",this.#n))}stop(){this.#r&&(this.#r=!1,this.#e.off("block",this.#n))}pause(e){this.stop(),e&&(this.#s=-2)}resume(){this.start()}}const _p=BigInt(2),Qp=10;function yn(n){return n&&typeof n.then=="function"}function An(n,e){return n+":"+JSON.stringify(e,(t,r)=>{if(r==null)return"null";if(typeof r=="bigint")return`bigint:${r.toString()}`;if(typeof r=="string")return r.toLowerCase();if(typeof r=="object"&&!Array.isArray(r)){const s=Object.keys(r);return s.sort(),s.reduce((o,i)=>(o[i]=r[i],o),{})}return r})}class ic{name;constructor(e){S(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function Hp(n){return JSON.parse(JSON.stringify(n))}function Mr(n){return n=Array.from(new Set(n).values()),n.sort(),n}async function gr(n,e){if(n==null)throw new Error("invalid event");if(Array.isArray(n)&&(n={topics:n}),typeof n=="string")switch(n){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:n,tag:n}}if(H(n,32)){const t=n.toLowerCase();return{type:"transaction",tag:An("tx",{hash:t}),hash:t}}if(n.orphan){const t=n;return{type:"orphan",tag:An("orphan",t),filter:Hp(t)}}if(n.address||n.topics){const t=n,r={topics:(t.topics||[]).map(s=>s==null?null:Array.isArray(s)?Mr(s.map(o=>o.toLowerCase())):s.toLowerCase())};if(t.address){const s=[],o=[],i=a=>{H(a)?s.push(a):o.push((async()=>{s.push(await ue(a,e))})())};Array.isArray(t.address)?t.address.forEach(i):i(t.address),o.length&&await Promise.all(o),r.address=Mr(s.map(a=>a.toLowerCase()))}return{filter:r,tag:An("event",r),type:"event"}}g(!1,"unknown ProviderEvent","event",n)}function mr(){return new Date().getTime()}const Vp={cacheTimeout:250,pollingInterval:4e3};class zp{#e;#t;#n;#r;#s;#i;#o;#a;#f;#l;#d;#h;constructor(e,t){if(this.#h=Object.assign({},Vp,t||{}),e==="any")this.#i=!0,this.#s=null;else if(e){const r=be.from(e);this.#i=!1,this.#s=Promise.resolve(r),setTimeout(()=>{this.emit("network",r,null)},0)}else this.#i=!1,this.#s=null;this.#a=-1,this.#o=new Map,this.#e=new Map,this.#t=new Map,this.#n=null,this.#r=!1,this.#f=1,this.#l=new Map,this.#d=!1}get pollingInterval(){return this.#h.pollingInterval}get provider(){return this}get plugins(){return Array.from(this.#t.values())}attachPlugin(e){if(this.#t.get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return this.#t.set(e.name,e.connect(this)),this}getPlugin(e){return this.#t.get(e)||null}get disableCcipRead(){return this.#d}set disableCcipRead(e){this.#d=!!e}async#c(e){const t=this.#h.cacheTimeout;if(t<0)return await this._perform(e);const r=An(e.method,e);let s=this.#o.get(r);return s||(s=this._perform(e),this.#o.set(r,s),setTimeout(()=>{this.#o.get(r)===s&&this.#o.delete(r)},t)),await s}async ccipReadFetch(e,t,r){if(this.disableCcipRead||r.length===0||e.to==null)return null;const s=e.to.toLowerCase(),o=t.toLowerCase(),i=[];for(let a=0;a<r.length;a++){const c=r[a],l=c.replace("{sender}",s).replace("{data}",o),f=new Le(l);c.indexOf("{data}")===-1&&(f.body={data:o,sender:s}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:f,index:a,urls:r});let d="unknown error";const h=await f.send();try{const p=h.bodyJson;if(p.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:f,result:p}),p.data;p.message&&(d=p.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:f,result:p})}catch{}b(h.statusCode<400||h.statusCode>=500,`response not found during CCIP fetch: ${d}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:c,errorMessage:d}}),i.push(d)}b(!1,`error encountered during CCIP fetch: ${i.map(a=>JSON.stringify(a)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:r,errorMessages:i}})}_wrapBlock(e,t){return new up(Ip(e),this)}_wrapLog(e,t){return new Zt(Rp(e),this)}_wrapTransactionReceipt(e,t){return new Ka(Mp(e),this)}_wrapTransactionResponse(e,t){return new qt(oc(e),this)}_detectNetwork(){b(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){b(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=$(await this.#c({method:"getBlockNumber"}),"%response");return this.#a>=0&&(this.#a=e),e}_getAddress(e){return ue(e,this)}_getBlockTag(e){if(e==null)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}if(H(e))return H(e,32)?e:yt(e);if(typeof e=="bigint"&&(e=$(e,"blockTag")),typeof e=="number")return e>=0?yt(e):this.#a>=0?yt(this.#a+e):this.getBlockNumber().then(t=>yt(t+e));g(!1,"invalid blockTag","blockTag",e)}_getFilter(e){const t=(e.topics||[]).map(c=>c==null?null:Array.isArray(c)?Mr(c.map(l=>l.toLowerCase())):c.toLowerCase()),r="blockHash"in e?e.blockHash:void 0,s=(c,l,f)=>{let d;switch(c.length){case 0:break;case 1:d=c[0];break;default:c.sort(),d=c}if(r&&(l!=null||f!=null))throw new Error("invalid filter");const h={};return d&&(h.address=d),t.length&&(h.topics=t),l&&(h.fromBlock=l),f&&(h.toBlock=f),r&&(h.blockHash=r),h};let o=[];if(e.address)if(Array.isArray(e.address))for(const c of e.address)o.push(this._getAddress(c));else o.push(this._getAddress(e.address));let i;"fromBlock"in e&&(i=this._getBlockTag(e.fromBlock));let a;return"toBlock"in e&&(a=this._getBlockTag(e.toBlock)),o.filter(c=>typeof c!="string").length||i!=null&&typeof i!="string"||a!=null&&typeof a!="string"?Promise.all([Promise.all(o),i,a]).then(c=>s(c[0],c[1],c[2])):s(o,i,a)}_getTransactionRequest(e){const t=Tn(e),r=[];if(["to","from"].forEach(s=>{if(t[s]==null)return;const o=ue(t[s],this);yn(o)?r.push(async function(){t[s]=await o}()):t[s]=o}),t.blockTag!=null){const s=this._getBlockTag(t.blockTag);yn(s)?r.push(async function(){t.blockTag=await s}()):t.blockTag=s}return r.length?async function(){return await Promise.all(r),t}():t}async getNetwork(){if(this.#s==null){const s=(async()=>{try{const o=await this._detectNetwork();return this.emit("network",o,null),o}catch(o){throw this.#s===s&&(this.#s=null),o}})();return this.#s=s,(await s).clone()}const e=this.#s,[t,r]=await Promise.all([e,this._detectNetwork()]);return t.chainId!==r.chainId&&(this.#i?(this.emit("network",r,t),this.#s===e&&(this.#s=Promise.resolve(r))):b(!1,`network changed: ${t.chainId} => ${r.chainId} `,"NETWORK_ERROR",{event:"changed"})),t.clone()}async getFeeData(){const e=await this.getNetwork(),t=async()=>{const{_block:s,gasPrice:o,priorityFee:i}=await oe({_block:this.#y("latest",!1),gasPrice:(async()=>{try{const f=await this.#c({method:"getGasPrice"});return x(f,"%response")}catch{}return null})(),priorityFee:(async()=>{try{const f=await this.#c({method:"getPriorityFee"});return x(f,"%response")}catch{}return null})()});let a=null,c=null;const l=this._wrapBlock(s,e);return l&&l.baseFeePerGas&&(c=i??BigInt("1000000000"),a=l.baseFeePerGas*_p+c),new Eo(o,a,c)},r=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(r){const s=new Le(r.url),o=await r.processFunc(t,this,s);return new Eo(o.gasPrice,o.maxFeePerGas,o.maxPriorityFeePerGas)}return await t()}async estimateGas(e){let t=this._getTransactionRequest(e);return yn(t)&&(t=await t),x(await this.#c({method:"estimateGas",transaction:t}),"%response")}async#u(e,t,r){b(r<Qp,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:t,enableCcipRead:!0})});const s=Tn(e);try{return N(await this._perform({method:"call",transaction:s,blockTag:t}))}catch(o){if(!this.disableCcipRead&&_r(o)&&o.data&&r>=0&&t==="latest"&&s.to!=null&&j(o.data,0,4)==="0x556f1830"){const i=o.data,a=await ue(s.to,this);let c;try{c=Yp(j(o.data,4))}catch(d){b(!1,d.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:s,info:{data:i}})}b(c.sender.toLowerCase()===a.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:i,reason:"OffchainLookup",transaction:s,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:c.errorArgs}});const l=await this.ccipReadFetch(s,c.calldata,c.urls);b(l!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:s,info:{data:o.data,errorArgs:c.errorArgs}});const f={to:a,data:Z([c.selector,Wp([l,c.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:f});try{const d=await this.#u(f,t,r+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},f),result:d}),d}catch(d){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},f),error:d}),d}}throw o}}async#g(e){const{value:t}=await oe({network:this.getNetwork(),value:e});return t}async call(e){const{tx:t,blockTag:r}=await oe({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await this.#g(this.#u(t,r,e.enableCcipRead?0:-1))}async#p(e,t,r){let s=this._getAddress(t),o=this._getBlockTag(r);return(typeof s!="string"||typeof o!="string")&&([s,o]=await Promise.all([s,o])),await this.#g(this.#c(Object.assign(e,{address:s,blockTag:o})))}async getBalance(e,t){return x(await this.#p({method:"getBalance"},e,t),"%response")}async getTransactionCount(e,t){return $(await this.#p({method:"getTransactionCount"},e,t),"%response")}async getCode(e,t){return N(await this.#p({method:"getCode"},e,t))}async getStorage(e,t,r){const s=x(t,"position");return N(await this.#p({method:"getStorage",position:s},e,r))}async broadcastTransaction(e){const{blockNumber:t,hash:r,network:s}=await oe({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),o=Se.from(e);if(o.hash!==r)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(o,s).replaceableTransaction(t)}async#y(e,t){if(H(e,32))return await this.#c({method:"getBlock",blockHash:e,includeTransactions:t});let r=this._getBlockTag(e);return typeof r!="string"&&(r=await r),await this.#c({method:"getBlock",blockTag:r,includeTransactions:t})}async getBlock(e,t){const{network:r,params:s}=await oe({network:this.getNetwork(),params:this.#y(e,!!t)});return s==null?null:this._wrapBlock(s,r)}async getTransaction(e){const{network:t,params:r}=await oe({network:this.getNetwork(),params:this.#c({method:"getTransaction",hash:e})});return r==null?null:this._wrapTransactionResponse(r,t)}async getTransactionReceipt(e){const{network:t,params:r}=await oe({network:this.getNetwork(),params:this.#c({method:"getTransactionReceipt",hash:e})});if(r==null)return null;if(r.gasPrice==null&&r.effectiveGasPrice==null){const s=await this.#c({method:"getTransaction",hash:e});if(s==null)throw new Error("report this; could not find tx or effectiveGasPrice");r.effectiveGasPrice=s.gasPrice}return this._wrapTransactionReceipt(r,t)}async getTransactionResult(e){const{result:t}=await oe({network:this.getNetwork(),result:this.#c({method:"getTransactionResult",hash:e})});return t==null?null:N(t)}async getLogs(e){let t=this._getFilter(e);yn(t)&&(t=await t);const{network:r,params:s}=await oe({network:this.getNetwork(),params:this.#c({method:"getLogs",filter:t})});return s.map(o=>this._wrapLog(o,r))}_getProvider(e){b(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await Ct.fromName(this,e)}async getAvatar(e){const t=await this.getResolver(e);return t?await t.getAvatar():null}async resolveName(e){const t=await this.getResolver(e);return t?await t.getAddress():null}async lookupAddress(e){e=L(e);const t=Ir(e.substring(2).toLowerCase()+".addr.reverse");try{const r=await Ct.getEnsAddress(this),o=await new _t(r,["function resolver(bytes32) view returns (address)"],this).resolver(t);if(o==null||o===Vt)return null;const a=await new _t(o,["function name(bytes32) view returns (string)"],this).name(t);return await this.resolveName(a)!==e?null:a}catch(r){if(ce(r,"BAD_DATA")&&r.value==="0x"||ce(r,"CALL_EXCEPTION"))return null;throw r}return null}async waitForTransaction(e,t,r){const s=t??1;return s===0?this.getTransactionReceipt(e):new Promise(async(o,i)=>{let a=null;const c=async l=>{try{const f=await this.getTransactionReceipt(e);if(f!=null&&l-f.blockNumber+1>=s){o(f),a&&(clearTimeout(a),a=null);return}}catch(f){console.log("EEE",f)}this.once("block",c)};r!=null&&(a=setTimeout(()=>{a!=null&&(a=null,this.off("block",c),i(q("timeout","TIMEOUT",{reason:"timeout"})))},r)),c(await this.getBlockNumber())})}async waitForBlock(e){b(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const t=this.#l.get(e);t&&(t.timer&&clearTimeout(t.timer),this.#l.delete(e))}_setTimeout(e,t){t==null&&(t=0);const r=this.#f++,s=()=>{this.#l.delete(r),e()};if(this.paused)this.#l.set(r,{timer:null,func:s,time:t});else{const o=setTimeout(s,t);this.#l.set(r,{timer:o,func:s,time:mr()})}return r}_forEachSubscriber(e){for(const t of this.#e.values())e(t.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new ic(e.type);case"block":{const t=new $p(this);return t.pollingInterval=this.pollingInterval,t}case"safe":case"finalized":return new Lp(this,e.type);case"event":return new ls(this,e.filter);case"transaction":return new Gp(this,e.hash);case"orphan":return new Up(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,t){for(const r of this.#e.values())if(r.subscriber===e){r.started&&r.subscriber.stop(),r.subscriber=t,r.started&&t.start(),this.#n!=null&&t.pause(this.#n);break}}async#m(e,t){let r=await gr(e,this);return r.type==="event"&&t&&t.length>0&&t[0].removed===!0&&(r=await gr({orphan:"drop-log",log:t[0]},this)),this.#e.get(r.tag)||null}async#w(e){const t=await gr(e,this),r=t.tag;let s=this.#e.get(r);return s||(s={subscriber:this._getSubscriber(t),tag:r,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},this.#e.set(r,s)),s}async on(e,t){const r=await this.#w(e);return r.listeners.push({listener:t,once:!1}),r.started||(r.subscriber.start(),r.started=!0,this.#n!=null&&r.subscriber.pause(this.#n)),this}async once(e,t){const r=await this.#w(e);return r.listeners.push({listener:t,once:!0}),r.started||(r.subscriber.start(),r.started=!0,this.#n!=null&&r.subscriber.pause(this.#n)),this}async emit(e,...t){const r=await this.#m(e,t);if(!r||r.listeners.length===0)return!1;const s=r.listeners.length;return r.listeners=r.listeners.filter(({listener:o,once:i})=>{const a=new qi(this,i?null:o,e);try{o.call(this,...t,a)}catch{}return!i}),r.listeners.length===0&&(r.started&&r.subscriber.stop(),this.#e.delete(r.tag)),s>0}async listenerCount(e){if(e){const r=await this.#m(e);return r?r.listeners.length:0}let t=0;for(const{listeners:r}of this.#e.values())t+=r.length;return t}async listeners(e){if(e){const r=await this.#m(e);return r?r.listeners.map(({listener:s})=>s):[]}let t=[];for(const{listeners:r}of this.#e.values())t=t.concat(r.map(({listener:s})=>s));return t}async off(e,t){const r=await this.#m(e);if(!r)return this;if(t){const s=r.listeners.map(({listener:o})=>o).indexOf(t);s>=0&&r.listeners.splice(s,1)}return(!t||r.listeners.length===0)&&(r.started&&r.subscriber.stop(),this.#e.delete(r.tag)),this}async removeAllListeners(e){if(e){const{tag:t,started:r,subscriber:s}=await this.#w(e);r&&s.stop(),this.#e.delete(t)}else for(const[t,{started:r,subscriber:s}]of this.#e)r&&s.stop(),this.#e.delete(t);return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return this.off(e,t)}get destroyed(){return this.#r}destroy(){this.removeAllListeners();for(const e of this.#l.keys())this._clearTimeout(e);this.#r=!0}get paused(){return this.#n!=null}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(this.#a=-1,this.#n!=null){if(this.#n==!!e)return;b(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(t=>t.pause(e)),this.#n=!!e;for(const t of this.#l.values())t.timer&&clearTimeout(t.timer),t.time=mr()-t.time}resume(){if(this.#n!=null){this._forEachSubscriber(e=>e.resume()),this.#n=null;for(const e of this.#l.values()){let t=e.time;t<0&&(t=0),e.time=mr(),setTimeout(e.func,t)}}}}function Jp(n,e){try{const t=Dr(n,e);if(t)return Nn(t)}catch{}return null}function Dr(n,e){if(n==="0x")return null;try{const t=$(j(n,e,e+32)),r=$(j(n,t,t+32));return j(n,t+32,t+32+r)}catch{}return null}function Oo(n){const e=pe(n);if(e.length>32)throw new Error("internal; should not happen");const t=new Uint8Array(32);return t.set(e,32-e.length),t}function Kp(n){if(n.length%32===0)return n;const e=new Uint8Array(Math.ceil(n.length/32)*32);return e.set(n),e}const jp=new Uint8Array([]);function Wp(n){const e=[];let t=0;for(let r=0;r<n.length;r++)e.push(jp),t+=32;for(let r=0;r<n.length;r++){const s=U(n[r]);e[r]=Oo(t),e.push(Oo(s.length)),e.push(Kp(s)),t+=32+Math.ceil(s.length/32)*32}return Z(e)}const ko="0x0000000000000000000000000000000000000000000000000000000000000000";function Yp(n){const e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};b(At(n)>=5*32,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const t=j(n,0,32);b(j(t,0,12)===j(ko,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=j(t,12);try{const r=[],s=$(j(n,32,64)),o=$(j(n,s,s+32)),i=j(n,s+32);for(let a=0;a<o;a++){const c=Jp(i,a*32);if(c==null)throw new Error("abort");r.push(c)}e.urls=r}catch{b(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const r=Dr(n,64);if(r==null)throw new Error("abort");e.calldata=r}catch{b(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}b(j(n,100,128)===j(ko,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=j(n,96,100);try{const r=Dr(n,128);if(r==null)throw new Error("abort");e.extraData=r}catch{b(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(r=>e[r]),e}function pt(n,e){if(n.provider)return n.provider;b(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function To(n,e){let t=Tn(e);if(t.to!=null&&(t.to=ue(t.to,n)),t.from!=null){const r=t.from;t.from=Promise.all([n.getAddress(),ue(r,n)]).then(([s,o])=>(g(s.toLowerCase()===o.toLowerCase(),"transaction from mismatch","tx.from",o),s))}else t.from=n.getAddress();return await oe(t)}class Xp{provider;constructor(e){S(this,{provider:e||null})}async getNonce(e){return pt(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await To(this,e)}async populateTransaction(e){const t=pt(this,"populateTransaction"),r=await To(this,e);r.nonce==null&&(r.nonce=await this.getNonce("pending")),r.gasLimit==null&&(r.gasLimit=await this.estimateGas(r));const s=await this.provider.getNetwork();if(r.chainId!=null){const i=x(r.chainId);g(i===s.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else r.chainId=s.chainId;const o=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||o)?g(!1,"eip-1559 transaction do not support gasPrice","tx",e):(r.type===0||r.type===1)&&o&&g(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1){const i=await t.getFeeData();b(i.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),r.gasPrice==null&&(r.gasPrice=i.gasPrice)}else{const i=await t.getFeeData();if(r.type==null)if(i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)if(r.type=2,r.gasPrice!=null){const a=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=a,r.maxPriorityFeePerGas=a}else r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas);else i.gasPrice!=null?(b(!o,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=i.gasPrice),r.type=0):b(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else r.type===2&&(r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas))}return await oe(r)}async estimateGas(e){return pt(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return pt(this,"call").call(await this.populateCall(e))}async resolveName(e){return await pt(this,"resolveName").resolveName(e)}async sendTransaction(e){const t=pt(this,"sendTransaction"),r=await this.populateTransaction(e);delete r.from;const s=Se.from(r);return await t.broadcastTransaction(await this.signTransaction(s))}}function Zp(n){return JSON.parse(JSON.stringify(n))}class ac{#e;#t;#n;#r;#s;#i;constructor(e){this.#e=e,this.#t=null,this.#n=this.#o.bind(this),this.#r=!1,this.#s=null,this.#i=!1}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,t){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}async#o(e){try{this.#t==null&&(this.#t=this._subscribe(this.#e));let t=null;try{t=await this.#t}catch(o){if(!ce(o,"UNSUPPORTED_OPERATION")||o.operation!=="eth_newFilter")throw o}if(t==null){this.#t=null,this.#e._recoverSubscriber(this,this._recover(this.#e));return}const r=await this.#e.getNetwork();if(this.#s||(this.#s=r),this.#s.chainId!==r.chainId)throw new Error("chaid changed");if(this.#i)return;const s=await this.#e.send("eth_getFilterChanges",[t]);await this._emitResults(this.#e,s)}catch(t){console.log("@TODO",t)}this.#e.once("block",this.#n)}#a(){const e=this.#t;e&&(this.#t=null,e.then(t=>{this.#e.send("eth_uninstallFilter",[t])}))}start(){this.#r||(this.#r=!0,this.#o(-2))}stop(){this.#r&&(this.#r=!1,this.#i=!0,this.#a(),this.#e.off("block",this.#n))}pause(e){e&&this.#a(),this.#e.off("block",this.#n)}resume(){this.start()}}class qp extends ac{#e;constructor(e,t){super(e),this.#e=Zp(t)}_recover(e){return new ls(e,this.#e)}async _subscribe(e){return await e.send("eth_newFilter",[this.#e])}async _emitResults(e,t){for(const r of t)e.emit(this.#e,e._wrapLog(r,e._network))}}class eg extends ac{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,t){for(const r of t)e.emit("pending",r)}}const tg="bigint,boolean,function,number,string,symbol".split(/,/g);function vn(n){if(n==null||tg.indexOf(typeof n)>=0||typeof n.getAddress=="function")return n;if(Array.isArray(n))return n.map(vn);if(typeof n=="object")return Object.keys(n).reduce((e,t)=>(e[t]=n[t],e),{});throw new Error(`should not happen: ${n} (${typeof n})`)}function ng(n){return new Promise(e=>{setTimeout(e,n)})}function gt(n){return n&&n.toLowerCase()}function Mo(n){return n&&typeof n.pollingInterval=="number"}const rg={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class En extends Xp{address;constructor(e,t){super(e),t=L(t),S(this,{address:t})}connect(e){b(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(e){return await this.populateCall(e)}async sendUncheckedTransaction(e){const t=vn(e),r=[];if(t.from){const o=t.from;r.push((async()=>{const i=await ue(o,this.provider);g(i!=null&&i.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),t.from=i})())}else t.from=this.address;if(t.gasLimit==null&&r.push((async()=>{t.gasLimit=await this.provider.estimateGas({...t,from:this.address})})()),t.to!=null){const o=t.to;r.push((async()=>{t.to=await ue(o,this.provider)})())}r.length&&await Promise.all(r);const s=this.provider.getRpcTransaction(t);return this.provider.send("eth_sendTransaction",[s])}async sendTransaction(e){const t=await this.provider.getBlockNumber(),r=await this.sendUncheckedTransaction(e);return await new Promise((s,o)=>{const i=[1e3,100];let a=0;const c=async()=>{try{const l=await this.provider.getTransaction(r);if(l!=null){s(l.replaceableTransaction(t));return}}catch(l){if(ce(l,"CANCELLED")||ce(l,"BAD_DATA")||ce(l,"NETWORK_ERROR")){l.info==null&&(l.info={}),l.info.sendTransactionHash=r,o(l);return}if(ce(l,"INVALID_ARGUMENT")&&(a++,l.info==null&&(l.info={}),l.info.sendTransactionHash=r,a>10)){o(l);return}this.provider.emit("error",q("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:l}))}this.provider._setTimeout(()=>{c()},i.pop()||4e3)};c()})}async signTransaction(e){const t=vn(e);if(t.from){const s=await ue(t.from,this.provider);g(s!=null&&s.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),t.from=s}else t.from=this.address;const r=this.provider.getRpcTransaction(t);return await this.provider.send("eth_signTransaction",[r])}async signMessage(e){const t=typeof e=="string"?Fe(e):e;return await this.provider.send("personal_sign",[N(t),this.address.toLowerCase()])}async signTypedData(e,t,r){const s=vn(r),o=await we.resolveNames(e,t,s,async i=>{const a=await ue(i);return g(a!=null,"TypedData does not support null address","value",i),a});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(we.getPayload(o.domain,t,o.value))])}async unlock(e){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),e,null])}async _legacySignMessage(e){const t=typeof e=="string"?Fe(e):e;return await this.provider.send("eth_sign",[this.address.toLowerCase(),N(t)])}}class sg extends zp{#e;#t;#n;#r;#s;#i;#o;#a(){if(this.#r)return;const e=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");this.#r=setTimeout(()=>{this.#r=null;const t=this.#n;for(this.#n=[];t.length;){const r=[t.shift()];for(;t.length&&r.length!==this.#e.batchMaxCount;)if(r.push(t.shift()),JSON.stringify(r.map(o=>o.payload)).length>this.#e.batchMaxSize){t.unshift(r.pop());break}(async()=>{const s=r.length===1?r[0].payload:r.map(o=>o.payload);this.emit("debug",{action:"sendRpcPayload",payload:s});try{const o=await this._send(s);this.emit("debug",{action:"receiveRpcResult",result:o});for(const{resolve:i,reject:a,payload:c}of r){if(this.destroyed){a(q("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:c.method}));continue}const l=o.filter(f=>f.id===c.id)[0];if(l==null){const f=q("missing response for request","BAD_DATA",{value:o,info:{payload:c}});this.emit("error",f),a(f);continue}if("error"in l){a(this.getRpcError(c,l));continue}i(l.result)}}catch(o){this.emit("debug",{action:"receiveRpcError",error:o});for(const{reject:i}of r)i(o)}})()}},e)}constructor(e,t){super(e,t),this.#t=1,this.#e=Object.assign({},rg,t||{}),this.#n=[],this.#r=null,this.#i=null,this.#o=null;{let s=null;const o=new Promise(i=>{s=i});this.#s={promise:o,resolve:s}}const r=this._getOption("staticNetwork");typeof r=="boolean"?(g(!r||e!=="any","staticNetwork cannot be used on special network 'any'","options",t),r&&e!=null&&(this.#i=be.from(e))):r&&(g(e==null||r.matches(e),"staticNetwork MUST match network object","options",t),this.#i=r)}_getOption(e){return this.#e[e]}get _network(){return b(this.#i,"network is not available yet","NETWORK_ERROR"),this.#i}async _perform(e){if(e.method==="call"||e.method==="estimateGas"){let r=e.transaction;if(r&&r.type!=null&&x(r.type)&&r.maxFeePerGas==null&&r.maxPriorityFeePerGas==null){const s=await this.getFeeData();s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null&&(e=Object.assign({},e,{transaction:Object.assign({},r,{type:void 0})}))}}const t=this.getRpcRequest(e);return t!=null?await this.send(t.method,t.args):super._perform(e)}async _detectNetwork(){const e=this._getOption("staticNetwork");if(e)if(e===!0){if(this.#i)return this.#i}else return e;return this.#o?await this.#o:this.ready?(this.#o=(async()=>{try{const t=be.from(x(await this.send("eth_chainId",[])));return this.#o=null,t}catch(t){throw this.#o=null,t}})(),await this.#o):(this.#o=(async()=>{const t={id:this.#t++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:t});let r;try{r=(await this._send(t))[0],this.#o=null}catch(s){throw this.#o=null,this.emit("debug",{action:"receiveRpcError",error:s}),s}if(this.emit("debug",{action:"receiveRpcResult",result:r}),"result"in r)return be.from(x(r.result));throw this.getRpcError(t,r)})(),await this.#o)}_start(){this.#s==null||this.#s.resolve==null||(this.#s.resolve(),this.#s=null,(async()=>{for(;this.#i==null&&!this.destroyed;)try{this.#i=await this._detectNetwork()}catch(e){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",q("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:e}})),await ng(1e3)}this.#a()})())}async _waitUntilReady(){if(this.#s!=null)return await this.#s.promise}_getSubscriber(e){return e.type==="pending"?new eg(this):e.type==="event"?this._getOption("polling")?new ls(this,e.filter):new qp(this,e.filter):e.type==="orphan"&&e.filter.orphan==="drop-log"?new ic("orphan"):super._getSubscriber(e)}get ready(){return this.#s==null}getRpcTransaction(e){const t={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(r=>{if(e[r]==null)return;let s=r;r==="gasLimit"&&(s="gas"),t[s]=yt(x(e[r],`tx.${r}`))}),["from","to","data"].forEach(r=>{e[r]!=null&&(t[r]=N(e[r]))}),e.accessList&&(t.accessList=ct(e.accessList)),t}getRpcRequest(e){switch(e.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[gt(e.address),e.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[gt(e.address),e.blockTag]};case"getCode":return{method:"eth_getCode",args:[gt(e.address),e.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[gt(e.address),"0x"+e.position.toString(16),e.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[e.signedTransaction]};case"getBlock":if("blockTag"in e)return{method:"eth_getBlockByNumber",args:[e.blockTag,!!e.includeTransactions]};if("blockHash"in e)return{method:"eth_getBlockByHash",args:[e.blockHash,!!e.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[e.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[e.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(e.transaction),e.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(e.transaction)]};case"getLogs":return e.filter&&e.filter.address!=null&&(Array.isArray(e.filter.address)?e.filter.address=e.filter.address.map(gt):e.filter.address=gt(e.filter.address)),{method:"eth_getLogs",args:[e.filter]}}return null}getRpcError(e,t){const{method:r}=e,{error:s}=t;if(r==="eth_estimateGas"&&s.message){const a=s.message;if(!a.match(/revert/i)&&a.match(/insufficient funds/i))return q("insufficient funds","INSUFFICIENT_FUNDS",{transaction:e.params[0],info:{payload:e,error:s}})}if(r==="eth_call"||r==="eth_estimateGas"){const a=Br(s),c=St.getBuiltinCallException(r==="eth_call"?"call":"estimateGas",e.params[0],a?a.data:null);return c.info={error:s,payload:e},c}const o=JSON.stringify(ig(s));if(typeof s.message=="string"&&s.message.match(/user denied|ethers-user-denied/i))return q("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[r]||"unknown",reason:"rejected",info:{payload:e,error:s}});if(r==="eth_sendRawTransaction"||r==="eth_sendTransaction"){const a=e.params[0];if(o.match(/insufficient funds|base fee exceeds gas limit/i))return q("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:a,info:{error:s}});if(o.match(/nonce/i)&&o.match(/too low/i))return q("nonce has already been used","NONCE_EXPIRED",{transaction:a,info:{error:s}});if(o.match(/replacement transaction/i)&&o.match(/underpriced/i))return q("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:a,info:{error:s}});if(o.match(/only replay-protected/i))return q("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:r,info:{transaction:a,info:{error:s}}})}let i=!!o.match(/the method .* does not exist/i);return i||s&&s.details&&s.details.startsWith("Unauthorized method:")&&(i=!0),i?q("unsupported operation","UNSUPPORTED_OPERATION",{operation:e.method,info:{error:s,payload:e}}):q("could not coalesce error","UNKNOWN_ERROR",{error:s,payload:e})}send(e,t){if(this.destroyed)return Promise.reject(q("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e}));const r=this.#t++,s=new Promise((o,i)=>{this.#n.push({resolve:o,reject:i,payload:{method:e,params:t,id:r,jsonrpc:"2.0"}})});return this.#a(),s}async getSigner(e){e==null&&(e=0);const t=this.send("eth_accounts",[]);if(typeof e=="number"){const s=await t;if(e>=s.length)throw new Error("no such account");return new En(this,s[e])}const{accounts:r}=await oe({network:this.getNetwork(),accounts:t});e=L(e);for(const s of r)if(L(s)===e)return new En(this,e);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(t=>new En(this,t))}destroy(){this.#r&&(clearTimeout(this.#r),this.#r=null);for(const{payload:e,reject:t}of this.#n)t(q("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e.method}));this.#n=[],super.destroy()}}class og extends sg{#e;constructor(e,t){super(e,t),this.#e=4e3}_getSubscriber(e){const t=super._getSubscriber(e);return Mo(t)&&(t.pollingInterval=this.#e),t}get pollingInterval(){return this.#e}set pollingInterval(e){if(!Number.isInteger(e)||e<0)throw new Error("invalid interval");this.#e=e,this._forEachSubscriber(t=>{Mo(t)&&(t.pollingInterval=this.#e)})}}function Br(n){if(n==null)return null;if(typeof n.message=="string"&&n.message.match(/revert/i)&&H(n.data))return{message:n.message,data:n.data};if(typeof n=="object"){for(const e in n){const t=Br(n[e]);if(t)return t}return null}if(typeof n=="string")try{return Br(JSON.parse(n))}catch{}return null}function Fr(n,e){if(n!=null){if(typeof n.message=="string"&&e.push(n.message),typeof n=="object")for(const t in n)Fr(n[t],e);if(typeof n=="string")try{return Fr(JSON.parse(n),e)}catch{}}}function ig(n){const e=[];return Fr(n,e),e}class ag extends og{#e;constructor(e,t){g(e&&e.request,"invalid EIP-1193 provider","ethereum",e),super(t,{batchMaxCount:1}),this.#e=async(r,s)=>{const o={method:r,params:s};this.emit("debug",{action:"sendEip1193Request",payload:o});try{const i=await e.request(o);return this.emit("debug",{action:"receiveEip1193Result",result:i}),i}catch(i){const a=new Error(i.message);throw a.code=i.code,a.data=i.data,a.payload=o,this.emit("debug",{action:"receiveEip1193Error",error:a}),a}}}async send(e,t){return await this._start(),await super.send(e,t)}async _send(e){g(!Array.isArray(e),"EIP-1193 does not support batch request","payload",e);try{const t=await this.#e(e.method,e.params||[]);return[{id:e.id,result:t}]}catch(t){return[{id:e.id,error:{code:t.code,data:t.data,message:t.message}}]}}getRpcError(e,t){switch(t=JSON.parse(JSON.stringify(t)),t.error.code||-1){case 4001:t.error.message=`ethers-user-denied: ${t.error.message}`;break;case 4200:t.error.message=`ethers-unsupported: ${t.error.message}`;break}return super.getRpcError(e,t)}async hasSigner(e){e==null&&(e=0);const t=await this.send("eth_accounts",[]);return typeof e=="number"?t.length>e:(e=e.toLowerCase(),t.filter(r=>r.toLowerCase()===e).length!==0)}async getSigner(e){if(e==null&&(e=0),!await this.hasSigner(e))try{await this.#e("eth_requestAccounts",[])}catch(t){const r=t.payload;throw this.getRpcError(r,{id:r.id,error:t})}return await super.getSigner(e)}}function cg(n){const{account:e,chain:t,transport:r}=n,s={chainId:t?.id,name:t?.name,ensAddress:t?.contracts?.ensRegistry?.address},o=new ag(r,s);return new En(o,e.address)}function cc({chainId:n}={}){const{data:e}=xc({chainId:n});return u.useMemo(()=>e?cg(e):void 0,[e])}function lg(){const{address:n}=$r(),{signMessageAsync:e}=Pc(),t=cc({chainId:1123}),r=u.useCallback(async()=>{const o=String(Date.now()),i=await e({message:o});return{msg:o,signature:i}},[n]);return{getSign:u.useCallback(async()=>{if(console.log(t),!t)return;const o=String(Date.now()),i=await t.signMessage(o);return console.log("rawSignature:",i),{rawSignature:i,msg:o}},[t]),handleSign:r}}const ug=n=>Uc.post(`${Gc}/auth/login`,{...n}),fg=()=>{const{getSign:n}=lg(),{address:e}=$r();return{loginMeme:u.useCallback(async()=>{const r=await n();if(console.log("getSign:",r),e&&r){const s=await ug({address:e,message:r.msg,signature:r.rawSignature});console.log(s),localStorage.setItem(Ur,s.data.token)}},[e,n])}},Eg=()=>{const n=cc({chainId:1123}),[e,t]=u.useState(!1),{loginMeme:r}=fg();return Nc({onConnect(s){t(!0)}}),u.useEffect(()=>{e&&!localStorage.getItem(Ur)&&(async()=>(await r(),window.location.reload()))()},[e,n]),v.jsxs("div",{children:[Is()&&v.jsx(rd,{}),!Is()&&v.jsxs(v.Fragment,{children:[v.jsx(ed,{}),v.jsx(td,{}),v.jsx("div",{className:Bf.content,children:v.jsx(Tc,{})}),v.jsx(nd,{})]})]})};export{Eg as default};
