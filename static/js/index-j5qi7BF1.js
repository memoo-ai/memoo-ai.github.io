import{j as t,u as we,a as Me,b as le}from"./rainbowkit-CPlaR1Pc.js";import{d as Ie}from"./index-CmT69XvO.js";import{u as pe,r as m,f as ve}from"./react-Dusg2Zfy.js";import{f as Ce,q as ke,B as O}from"./button-B4BCqVoQ.js";import{M as je}from"./index-CAhexq3K.js";import{u as Ne,a as _e,g as Se,b as Re,P as v,c as Fe,s as k,d as Ae,e as Ee,f as Le}from"./useManageContract-DayA3ndl.js";import{i as Ue}from"./index-Bi3xxQzi.js";import{Z as Pe}from"./index-DRKENfBg.js";import{B as q}from"./index-CyCYjTZL.js";import{F as h,T as ae,U as ie}from"./trash-DGBoitAA.js";import{a as Be,d as De,b as C,c as M,g as H,e as Ve,t as Oe,f as qe,h as Y,m as se}from"./maths-CNprVtit.js";import{I as U,R as ze}from"./index-Dj08axsQ.js";import{C as We}from"./BaseInput-BVZQTlSS.js";const Ye=BigInt(-1),g=BigInt(0),N=BigInt(1),He=BigInt(5),j={};let _="0000";for(;_.length<80;)_+=_;function I(i){let e=_;for(;e.length<i;)e+=e;return BigInt("1"+e.substring(0,i))}function R(i,e,n){const a=BigInt(e.width);if(e.signed){const s=N<<a-N;M(n==null||i>=-s&&i<s,"overflow","NUMERIC_FAULT",{operation:n,fault:"overflow",value:i}),i>g?i=Y(se(i,a),a):i=-Y(se(-i,a),a)}else{const s=N<<a;M(n==null||i>=0&&i<s,"overflow","NUMERIC_FAULT",{operation:n,fault:"overflow",value:i}),i=(i%s+s)%s&s-N}return i}function z(i){typeof i=="number"&&(i=`fixed128x${i}`);let e=!0,n=128,a=18;if(typeof i=="string"){if(i!=="fixed")if(i==="ufixed")e=!1;else{const u=i.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);C(u,"invalid fixed format","format",i),e=u[1]!=="u",n=parseInt(u[2]),a=parseInt(u[3])}}else if(i){const u=i,l=(c,w,B)=>u[c]==null?B:(C(typeof u[c]===w,"invalid fixed format ("+c+" not "+w+")","format."+c,u[c]),u[c]);e=l("signed","boolean",e),n=l("width","number",n),a=l("decimals","number",a)}C(n%8===0,"invalid FixedNumber width (not byte aligned)","format.width",n),C(a<=80,"invalid FixedNumber decimals (too large)","format.decimals",a);const s=(e?"":"u")+"fixed"+String(n)+"x"+String(a);return{signed:e,width:n,decimals:a,name:s}}function $e(i,e){let n="";i<g&&(n="-",i*=Ye);let a=i.toString();if(e===0)return n+a;for(;a.length<=e;)a=_+a;const s=a.length-e;for(a=a.substring(0,s)+"."+a.substring(s);a[0]==="0"&&a[1]!==".";)a=a.substring(1);for(;a[a.length-1]==="0"&&a[a.length-2]!==".";)a=a.substring(0,a.length-1);return n+a}class x{format;#n;#e;#t;_value;constructor(e,n,a){Be(e,j,"FixedNumber"),this.#e=n,this.#n=a;const s=$e(n,a.decimals);De(this,{format:a.name,_value:s}),this.#t=I(a.decimals)}get signed(){return this.#n.signed}get width(){return this.#n.width}get decimals(){return this.#n.decimals}get value(){return this.#e}#i(e){C(this.format===e.format,"incompatible format; use fixedNumber.toFormat","other",e)}#a(e,n){return e=R(e,this.#n,n),new x(j,e,this.#n)}#s(e,n){return this.#i(e),this.#a(this.#e+e.#e,n)}addUnsafe(e){return this.#s(e)}add(e){return this.#s(e,"add")}#r(e,n){return this.#i(e),this.#a(this.#e-e.#e,n)}subUnsafe(e){return this.#r(e)}sub(e){return this.#r(e,"sub")}#o(e,n){return this.#i(e),this.#a(this.#e*e.#e/this.#t,n)}mulUnsafe(e){return this.#o(e)}mul(e){return this.#o(e,"mul")}mulSignal(e){this.#i(e);const n=this.#e*e.#e;return M(n%this.#t===g,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),this.#a(n/this.#t,"mulSignal")}#l(e,n){return M(e.#e!==g,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),this.#i(e),this.#a(this.#e*this.#t/e.#e,n)}divUnsafe(e){return this.#l(e)}div(e){return this.#l(e,"div")}divSignal(e){M(e.#e!==g,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),this.#i(e);const n=this.#e*this.#t;return M(n%e.#e===g,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),this.#a(n/e.#e,"divSignal")}cmp(e){let n=this.value,a=e.value;const s=this.decimals-e.decimals;return s>0?a*=I(s):s<0&&(n*=I(-s)),n<a?-1:n>a?1:0}eq(e){return this.cmp(e)===0}lt(e){return this.cmp(e)<0}lte(e){return this.cmp(e)<=0}gt(e){return this.cmp(e)>0}gte(e){return this.cmp(e)>=0}floor(){let e=this.#e;return this.#e<g&&(e-=this.#t-N),e=this.#e/this.#t*this.#t,this.#a(e,"floor")}ceiling(){let e=this.#e;return this.#e>g&&(e+=this.#t-N),e=this.#e/this.#t*this.#t,this.#a(e,"ceiling")}round(e){if(e==null&&(e=0),e>=this.decimals)return this;const n=this.decimals-e,a=He*I(n-1);let s=this.value+a;const u=I(n);return s=s/u*u,R(s,this.#n,"round"),new x(j,s,this.#n)}isZero(){return this.#e===g}isNegative(){return this.#e<g}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return x.fromString(this.toString(),e)}static fromValue(e,n,a){const s=n==null?0:H(n),u=z(a);let l=Ve(e,"value");const c=s-u.decimals;if(c>0){const w=I(c);M(l%w===g,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:e}),l/=w}else c<0&&(l*=I(-c));return R(l,u,"fromValue"),new x(j,l,u)}static fromString(e,n){const a=e.match(/^(-?)([0-9]*)\.?([0-9]*)$/);C(a&&a[2].length+a[3].length>0,"invalid FixedNumber string value","value",e);const s=z(n);let u=a[2]||"0",l=a[3]||"";for(;l.length<s.decimals;)l+=_;M(l.substring(s.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:e}),l=l.substring(0,s.decimals);const c=BigInt(a[1]+u+l);return R(c,s,"fromString"),new x(j,c,s)}static fromBytes(e,n){let a=Oe(qe(e,"value"));const s=z(n);return s.signed&&(a=Y(a,s.width)),R(a,s,"fromBytes"),new x(j,a,s)}}function Ge(i,e){let n=18;return n=H(e,"unit"),x.fromValue(i,n,{decimals:n,width:512}).toString()}function Ze(i,e){C(typeof i=="string","value must be a string","value",i);let n=18;return n=H(e,"unit"),x.fromString(i,{decimals:n,width:512}).value}function re(i){return Ge(i,18)}function Je(i){return Ze(i,18)}const Ke=({path:i="/dashboard",...e})=>{const n=pe();return t.jsxs("div",{className:"back_button",onClick:()=>{n(i)},children:[t.jsx("span",{className:"back_button_text",children:"Back to Dashboard"}),t.jsx(Ie,{className:"IconBack"})]})},Xe=Ke,Qe=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"AccessControlBadConfirmation",type:"error"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"bytes32",name:"neededRole",type:"bytes32"}],name:"AccessControlUnauthorizedAccount",type:"error"},{inputs:[{internalType:"address",name:"target",type:"address"}],name:"AddressEmptyCode",type:"error"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"AddressInsufficientBalance",type:"error"},{inputs:[],name:"EnforcedPause",type:"error"},{inputs:[],name:"ExpectedPause",type:"error"},{inputs:[],name:"FailedInnerCall",type:"error"},{inputs:[],name:"InvalidInitialization",type:"error"},{inputs:[],name:"NotInitializing",type:"error"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"SafeERC20FailedOperation",type:"error"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"token",type:"address"},{indexed:!1,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"ClaimToken",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint64",name:"version",type:"uint64"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"meme",type:"address"},{components:[{components:[{internalType:"address",name:"creator",type:"address"},{internalType:"address",name:"defaultAdmin",type:"address"},{internalType:"address",name:"pauser",type:"address"},{internalType:"address",name:"minter",type:"address"},{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"symbol",type:"string"},{internalType:"uint256",name:"totalSupply",type:"uint256"},{internalType:"uint8",name:"decimals",type:"uint8"},{internalType:"address",name:"payToken",type:"address"},{internalType:"uint256",name:"idoPrice",type:"uint256"},{internalType:"uint256",name:"airdropPrice",type:"uint256"},{internalType:"uint256",name:"preLaunchSecond",type:"uint256"},{internalType:"uint256",name:"idoUserBuyLimit",type:"uint256"}],internalType:"struct MemeInfoStructs.MemeInfo",name:"memeInfo",type:"tuple"},{components:[{internalType:"address",name:"memeFactory",type:"address"},{internalType:"address",name:"treasury",type:"address"},{internalType:"address",name:"memeWhitelist",type:"address"},{internalType:"address",name:"uniswapV2Factory",type:"address"},{internalType:"address",name:"uniswapV2Router02",type:"address"},{internalType:"uint256",name:"uniswapDeadline",type:"uint256"},{internalType:"address",name:"liquidityHolder",type:"address"},{internalType:"address",name:"liquidityLocker",type:"address"},{internalType:"address",name:"platformMemeRecipient",type:"address"},{internalType:"address payable",name:"platformFeeRecipient",type:"address"},{internalType:"uint256",name:"platformFeeRateIdo",type:"uint256"},{internalType:"uint256",name:"platformFeeRateDenominatorIdo",type:"uint256"},{internalType:"uint256",name:"platformFeeCreateMeme",type:"uint256"},{internalType:"address",name:"platformFeeCreateMemePayToken",type:"address"},{internalType:"uint256",name:"idoCreatorBuyLimit",type:"uint256"},{components:[{internalType:"uint256",name:"creator",type:"uint256"},{internalType:"uint256",name:"ido",type:"uint256"},{internalType:"uint256",name:"lp",type:"uint256"},{internalType:"uint256",name:"airdrop",type:"uint256"},{internalType:"uint256",name:"platform",type:"uint256"}],internalType:"struct MemooManageStructs.TokenAllocation",name:"allocation",type:"tuple"}],internalType:"struct MemooManageStructs.MemooConfig",name:"memooConfig",type:"tuple"},{internalType:"uint256",name:"creatorTotal",type:"uint256"},{internalType:"uint256",name:"platformTotal",type:"uint256"},{internalType:"uint256",name:"memeCreateTimestamp",type:"uint256"}],indexed:!1,internalType:"struct MemeInfoStructs.MemeConfigInfo",name:"memeConfigInfo",type:"tuple"}],name:"MemeCreated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"MEMOO_MANAGE_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"PAUSER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"PERCENT_DENOMINATOR",outputs:[{internalType:"uint16",name:"",type:"uint16"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"claimToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"creator",type:"address"},{internalType:"address",name:"defaultAdmin",type:"address"},{internalType:"address",name:"pauser",type:"address"},{internalType:"address",name:"minter",type:"address"},{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"symbol",type:"string"},{internalType:"uint256",name:"totalSupply",type:"uint256"},{internalType:"uint8",name:"decimals",type:"uint8"},{internalType:"address",name:"payToken",type:"address"},{internalType:"uint256",name:"idoPrice",type:"uint256"},{internalType:"uint256",name:"airdropPrice",type:"uint256"},{internalType:"uint256",name:"preLaunchSecond",type:"uint256"},{internalType:"uint256",name:"idoUserBuyLimit",type:"uint256"}],internalType:"struct MemeInfoStructs.MemeInfo",name:"memeInfo",type:"tuple"},{components:[{internalType:"address",name:"memeFactory",type:"address"},{internalType:"address",name:"treasury",type:"address"},{internalType:"address",name:"memeWhitelist",type:"address"},{internalType:"address",name:"uniswapV2Factory",type:"address"},{internalType:"address",name:"uniswapV2Router02",type:"address"},{internalType:"uint256",name:"uniswapDeadline",type:"uint256"},{internalType:"address",name:"liquidityHolder",type:"address"},{internalType:"address",name:"liquidityLocker",type:"address"},{internalType:"address",name:"platformMemeRecipient",type:"address"},{internalType:"address payable",name:"platformFeeRecipient",type:"address"},{internalType:"uint256",name:"platformFeeRateIdo",type:"uint256"},{internalType:"uint256",name:"platformFeeRateDenominatorIdo",type:"uint256"},{internalType:"uint256",name:"platformFeeCreateMeme",type:"uint256"},{internalType:"address",name:"platformFeeCreateMemePayToken",type:"address"},{internalType:"uint256",name:"idoCreatorBuyLimit",type:"uint256"},{components:[{internalType:"uint256",name:"creator",type:"uint256"},{internalType:"uint256",name:"ido",type:"uint256"},{internalType:"uint256",name:"lp",type:"uint256"},{internalType:"uint256",name:"airdrop",type:"uint256"},{internalType:"uint256",name:"platform",type:"uint256"}],internalType:"struct MemooManageStructs.TokenAllocation",name:"allocation",type:"tuple"}],internalType:"struct MemooManageStructs.MemooConfig",name:"memooConfig",type:"tuple"}],name:"createMeme",outputs:[{internalType:"address",name:"",type:"address"},{components:[{components:[{internalType:"address",name:"creator",type:"address"},{internalType:"address",name:"defaultAdmin",type:"address"},{internalType:"address",name:"pauser",type:"address"},{internalType:"address",name:"minter",type:"address"},{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"symbol",type:"string"},{internalType:"uint256",name:"totalSupply",type:"uint256"},{internalType:"uint8",name:"decimals",type:"uint8"},{internalType:"address",name:"payToken",type:"address"},{internalType:"uint256",name:"idoPrice",type:"uint256"},{internalType:"uint256",name:"airdropPrice",type:"uint256"},{internalType:"uint256",name:"preLaunchSecond",type:"uint256"},{internalType:"uint256",name:"idoUserBuyLimit",type:"uint256"}],internalType:"struct MemeInfoStructs.MemeInfo",name:"memeInfo",type:"tuple"},{components:[{internalType:"address",name:"memeFactory",type:"address"},{internalType:"address",name:"treasury",type:"address"},{internalType:"address",name:"memeWhitelist",type:"address"},{internalType:"address",name:"uniswapV2Factory",type:"address"},{internalType:"address",name:"uniswapV2Router02",type:"address"},{internalType:"uint256",name:"uniswapDeadline",type:"uint256"},{internalType:"address",name:"liquidityHolder",type:"address"},{internalType:"address",name:"liquidityLocker",type:"address"},{internalType:"address",name:"platformMemeRecipient",type:"address"},{internalType:"address payable",name:"platformFeeRecipient",type:"address"},{internalType:"uint256",name:"platformFeeRateIdo",type:"uint256"},{internalType:"uint256",name:"platformFeeRateDenominatorIdo",type:"uint256"},{internalType:"uint256",name:"platformFeeCreateMeme",type:"uint256"},{internalType:"address",name:"platformFeeCreateMemePayToken",type:"address"},{internalType:"uint256",name:"idoCreatorBuyLimit",type:"uint256"},{components:[{internalType:"uint256",name:"creator",type:"uint256"},{internalType:"uint256",name:"ido",type:"uint256"},{internalType:"uint256",name:"lp",type:"uint256"},{internalType:"uint256",name:"airdrop",type:"uint256"},{internalType:"uint256",name:"platform",type:"uint256"}],internalType:"struct MemooManageStructs.TokenAllocation",name:"allocation",type:"tuple"}],internalType:"struct MemooManageStructs.MemooConfig",name:"memooConfig",type:"tuple"},{internalType:"uint256",name:"creatorTotal",type:"uint256"},{internalType:"uint256",name:"platformTotal",type:"uint256"},{internalType:"uint256",name:"memeCreateTimestamp",type:"uint256"}],internalType:"struct MemeInfoStructs.MemeConfigInfo",name:"",type:"tuple"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"memeKey",type:"string"}],name:"getMemeAddress",outputs:[{internalType:"address",name:"meme",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"defaultAdmin",type:"address"},{internalType:"address",name:"pauser",type:"address"},{internalType:"address",name:"memooManage",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"meme",type:"address"}],name:"memeConfigInfo",outputs:[{components:[{components:[{internalType:"address",name:"creator",type:"address"},{internalType:"address",name:"defaultAdmin",type:"address"},{internalType:"address",name:"pauser",type:"address"},{internalType:"address",name:"minter",type:"address"},{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"symbol",type:"string"},{internalType:"uint256",name:"totalSupply",type:"uint256"},{internalType:"uint8",name:"decimals",type:"uint8"},{internalType:"address",name:"payToken",type:"address"},{internalType:"uint256",name:"idoPrice",type:"uint256"},{internalType:"uint256",name:"airdropPrice",type:"uint256"},{internalType:"uint256",name:"preLaunchSecond",type:"uint256"},{internalType:"uint256",name:"idoUserBuyLimit",type:"uint256"}],internalType:"struct MemeInfoStructs.MemeInfo",name:"memeInfo",type:"tuple"},{components:[{internalType:"address",name:"memeFactory",type:"address"},{internalType:"address",name:"treasury",type:"address"},{internalType:"address",name:"memeWhitelist",type:"address"},{internalType:"address",name:"uniswapV2Factory",type:"address"},{internalType:"address",name:"uniswapV2Router02",type:"address"},{internalType:"uint256",name:"uniswapDeadline",type:"uint256"},{internalType:"address",name:"liquidityHolder",type:"address"},{internalType:"address",name:"liquidityLocker",type:"address"},{internalType:"address",name:"platformMemeRecipient",type:"address"},{internalType:"address payable",name:"platformFeeRecipient",type:"address"},{internalType:"uint256",name:"platformFeeRateIdo",type:"uint256"},{internalType:"uint256",name:"platformFeeRateDenominatorIdo",type:"uint256"},{internalType:"uint256",name:"platformFeeCreateMeme",type:"uint256"},{internalType:"address",name:"platformFeeCreateMemePayToken",type:"address"},{internalType:"uint256",name:"idoCreatorBuyLimit",type:"uint256"},{components:[{internalType:"uint256",name:"creator",type:"uint256"},{internalType:"uint256",name:"ido",type:"uint256"},{internalType:"uint256",name:"lp",type:"uint256"},{internalType:"uint256",name:"airdrop",type:"uint256"},{internalType:"uint256",name:"platform",type:"uint256"}],internalType:"struct MemooManageStructs.TokenAllocation",name:"allocation",type:"tuple"}],internalType:"struct MemooManageStructs.MemooConfig",name:"memooConfig",type:"tuple"},{internalType:"uint256",name:"creatorTotal",type:"uint256"},{internalType:"uint256",name:"platformTotal",type:"uint256"},{internalType:"uint256",name:"memeCreateTimestamp",type:"uint256"}],internalType:"struct MemeInfoStructs.MemeConfigInfo",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"callerConfirmation",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"}],et=()=>{const i=we({config:Ue});Me(),le();const{baseConfig:e}=Ne();return{getMemeAddressWithSymbol:m.useCallback(async a=>{if(!e||!i)return;const s=await i?.readContract({address:e.MemeFactoryContract,abi:Qe,functionName:"getMemeAddress",args:[a]});return console.log("res: ",s),s},[e,i])}};var tt={VITE_PROJECT_ID:"12054aa070d1f1a41e3420b5d40b665d",VITE_APP_BASE:"/memoo-interface",VITE_ENV:"production",VITE_NODE_TYPE:"mainnet",VITE_EXPLORER_API:"https://explorer-api.zklink.io",VITE_EXPLORER_URL:"https://explorer.zklink.io",VITE_NODE_CHAIN_ID:"1123",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const W=tt.VITE_TWITTER_REDIRECT_URI,P="create_token_storage",oe="twitter_client_id",nt=[{label:"immediate",value:v.IMMEDIATE},{label:"1 day",value:v["1DAY"]},{label:"3 days",value:v["3DAYS"]}];function bt(){const{address:i}=le(),[e]=ve(),[n,a]=m.useState(!1),[s,u]=m.useState(!1),[l]=h.useForm(),[c,w]=m.useState(!1),[B,$]=m.useState(!1),[S,F]=m.useState(""),[A,E]=m.useState(""),{config:y,defaultConfig:T,createMeme:G,createMemeLoading:at}=_e(),[it,de]=m.useState(!1),[L,Z]=m.useState(""),[J,K]=m.useState("");m.useState("");const[st,me]=m.useState(0);console.log("memooConfig: ",y);const{getMemeAddressWithSymbol:ue}=et(),X=pe(),D=m.useMemo(()=>Number(y?.allocation.creator)/1e4,[y]);m.useMemo(()=>Number(y?.idoCreatorBuyLimit)/1e4,[y]),m.useMemo(()=>{if(!y||!T)return 0;const r=new q(Number(T?.totalSupply)).dividedBy(10**T?.defaultDecimals),o=new q(Number(T?.idoPrice)).dividedBy(10**T?.defaultDecimals),d=r.multipliedBy(o).multipliedBy(D);return parseFloat(Ce(d))},[y,D,T]);const ce=m.useMemo(()=>{if(!y||!T)return 0;const r=new q(Number(y?.platformFeeCreateMeme)).dividedBy(10**T?.defaultDecimals);return parseFloat(r.toString())},[y,T]),V=m.useMemo(()=>{if(!y||!T)return 0;const r=Number(y.idoCreatorBuyLimit)/1e4;return Number(re(T?.idoPrice))*Number(re(T?.totalSupply))*r},[y,T]);console.log("memooConfig: ",y),console.log("totalCapInitial: ",V);const Q=r=>Array.isArray(r)?r:r?.fileList,ye=r=>{console.log("Received values of form: ",r)},fe=(r,o)=>{console.log("onFieldsChange",r)},ee=(r,o)=>{if(r)return Le(r).then(d=>{l.setFieldValue(o,o==="banners"?[d.data.file]:d.data.file),o==="icon"&&F(d.data.fileUrl),o==="banners"&&E(d.data.fileUrl)}),!1},Te=m.useCallback(async()=>{const r=await Se(),o=l.getFieldsValue();console.log("formData: ",o),o.iconUrl=S,o.bannerUrl=A,localStorage.setItem(P,JSON.stringify(o)),de(!0);let d=r.data;localStorage.setItem(oe,d);const p={response_type:"code",client_id:d,redirect_uri:W,scope:"tweet.read%20tweet.write%20like.write%20users.read%20follows.read%20follows.write",state:"twitter",code_challenge:"challenge",code_challenge_method:"plain"},f=new URL("https://twitter.com/i/oauth2/authorize");f.search=ke.stringify(p,{encode:!1}),window.location.href=f.href},[S,A]);m.useEffect(()=>{const r=e.get("ticker");if(console.log("ticker: ",r),r)Re(r).then(p=>{console.log("getTokenDetail:",p),console.log("setPreMarketAcquisition:",p.data.preMarketAcquisition),p?.data&&(F(p.data.icon),E(p.data?.banners?p.data?.banners[0]:""),Z(p.data.twitter),K(p.data.twitterAccessToken),me(p.data.preMarketAcquisition),l.setFieldsValue({...p.data,icon:p.data.oldIcon,banners:p.data?.oldBanners?p.data?.oldBanners[0]:[],projectDescription:p.data.description}),console.log("form:",l))});else{console.log("no-ticker");const p=localStorage.getItem(P);if(p)try{const f=JSON.parse(p);console.log("data: ",f),f.preLaunchDuration||(f.preLaunchDuration=v.IMMEDIATE),l.setFieldsValue(f),f.icon&&F(f.iconUrl),f.banners&&E(f.bannerUrl)}catch{}else l.setFieldsValue({preLaunchDuration:v.IMMEDIATE})}const o=e.get("code"),d=e.get("state"),b=localStorage.getItem(oe);d==="twitter"&&o&&Fe({code:o,grantType:"authorization_code",redirectUri:W,codeVerifier:"challenge",refreshToken:"",appClientId:b??""}).then(f=>{const{access_token:be,twitter:xe}=f.data;K(be),Z(xe)})},[e]);const te=m.useCallback(async()=>{const r=l.getFieldsValue(),o=r.preLaunchDuration===v.IMMEDIATE?0:r.preLaunchDuration===v["1DAY"]?24*3600:3*24*3600,d=V*r.preMarketAcquisition;console.log("preValue: ",d);const b=Je(String(d))+y.platformFeeCreateMeme,p=await G(r.tokenName,r.ticker,o,b);return console.log("res: ",p),p},[G]),ne=m.useCallback(async r=>{if(!i){k.warning("Please connect wallet first.");return}try{const o=l.getFieldsValue(),d=await ue(o.ticker);if(console.log("tokenAddress: ",d),d&&d!==Pe){k.warning(`${o.ticker} is already taken. Please choose another one.`);return}if(!n){k.warning("Please accept the terms and conditions.");return}if(await l.validateFields(),o.twitter=L,o.accessToken=J,r){$(!0);const b=await Ae(o);if(console.log("res: ",b),!await te()){k.error("Create failed.");return}localStorage.removeItem(P),k.success("Congratulations! Create meme successfully!"),X("/dashboard")}else{w(!0);const b=await Ee(o);console.log("res: ",b),localStorage.removeItem(P),k.success("Save meme craft successfully!"),X("/dashboard")}}catch(o){console.log(o)}finally{w(!1),$(!1)}},[L,J,n,te]),he=()=>{F("")},ge=()=>{E("")};return t.jsxs("div",{className:"create_token",children:[t.jsxs("div",{className:"create_token_top",children:[t.jsx("div",{className:"create_token_top_title",children:"Create Token"}),t.jsx("div",{className:"create_token_top_back cursor-pointer",children:t.jsx(Xe,{})})]}),t.jsxs("div",{className:"flex items-center mb-[30px]",children:[t.jsx("p",{className:"create_project_title",children:"Project Info"}),t.jsx("p",{className:"create_project_title_span",children:"Fill out the fields marked with *"})]}),t.jsxs("div",{className:"create_token_content",children:[t.jsxs("div",{className:"create_token_content_form",children:[t.jsxs(h,{form:l,layout:"horizontal",disabled:!1,onFinish:ye,onFieldsChange:fe,className:"create-form",children:[t.jsx(h.Item,{label:t.jsxs("p",{children:["Token Name ",t.jsx("span",{children:"*"})]}),name:"tokenName",rules:[{required:!0,message:"Please input token name!"}],children:t.jsx(U,{showCount:!0,maxLength:20})}),t.jsx(h.Item,{label:t.jsxs("p",{children:["Ticker ",t.jsx("span",{children:"*"})]}),name:"ticker",rules:[{required:!0,message:"Please input ticker!"}],children:t.jsx(U,{showCount:!0,maxLength:8,style:{width:140}})}),t.jsx(h.Item,{label:t.jsxs("p",{children:["Upload Icon ",t.jsx("span",{children:"*"})]}),valuePropName:"fileList",getValueFromEvent:Q,name:"icon",children:t.jsxs("div",{className:"token-icon-form-item",children:[S&&t.jsxs("div",{className:"icon-url-container",children:[t.jsx("img",{src:S,alt:""}),t.jsx("span",{className:"icon-url-actions",children:t.jsx(ae,{size:16,onClick:he})})]}),!S&&t.jsx(ie,{listType:"picture-card",accept:"image/*",maxCount:1,beforeUpload:r=>ee(r,"icon"),showUploadList:{showPreviewIcon:!1,showRemoveIcon:!0},style:{width:140,height:140},className:"custom-upload-icon",children:t.jsx("button",{style:{border:0,background:"none",width:"100%",height:"100%"},type:"button",children:t.jsxs("div",{style:{marginTop:8},className:"flex flex-col jusity-center items-center",children:[t.jsx("img",{src:"./token/icon-upload.svg",alt:"upload",className:"w-[30px] h-[30px]"}),t.jsx("p",{className:"font-OCR text-[10px] text-green leading-4",children:"Upload Image"})]})})})]})}),t.jsx(h.Item,{label:t.jsxs("p",{children:["Project Description ",t.jsx("span",{children:"*"})]}),name:"projectDescription",children:t.jsx(U.TextArea,{showCount:!0,maxLength:100,placeholder:"disable resize",style:{height:208,resize:"none"},className:"custom-create-textarea"})}),t.jsx(h.Item,{label:t.jsxs("p",{children:["Proejct Twitter ",t.jsx("span",{children:"*"})]}),children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("img",{src:"./token/icon-twitter.svg",className:"w-4 h-4 mr-4"}),L&&t.jsx("img",{src:"./create/icon-authed.svg"}),!L&&t.jsx(O,{variant:"secondary",className:"w-[136px] h-[32px]",onClick:Te,children:"CONNECT"})]})}),t.jsx(h.Item,{label:t.jsxs("p",{children:["Pre-Launch Duration ",t.jsx("span",{children:"*"})]}),name:"preLaunchDuration",children:t.jsx(ze.Group,{options:nt,optionType:"button",buttonStyle:"solid"})}),t.jsx(h.Item,{label:t.jsxs("p",{children:["Pre-Market Acquisition ",t.jsx("span",{children:"*"})]}),name:"preMarketAcquisition",style:{marginTop:"40px"},children:t.jsx(je,{min:0,max:1,minPrice:0,maxPrice:V})}),t.jsx("p",{className:"create_tip_for_acquisition",children:"The creator can enhance the initial allocation by purchasing an additional 30%"}),t.jsxs("div",{className:"create_optional_info",children:[t.jsxs("div",{className:"create_optional_info_title",children:[t.jsx("p",{children:"Optional Info"}),t.jsx("img",{src:s?"./create/icon-minus.svg":"./create/icon-plus.svg",alt:"",onClick:()=>{u(!s)}})]}),s&&t.jsxs("div",{className:"create_optional_form",children:[t.jsx(h.Item,{label:t.jsx("p",{children:"Upload Project Banner"}),valuePropName:"bannerList",getValueFromEvent:Q,name:"banners",children:t.jsxs("div",{className:"token-icon-form-item",children:[A&&t.jsxs("div",{className:"icon-url-container",children:[t.jsx("img",{src:A,alt:""}),t.jsx("span",{className:"icon-url-actions",children:t.jsx(ae,{size:16,onClick:ge})})]}),t.jsx(ie,{listType:"picture-card",accept:"image/*",maxCount:1,beforeUpload:r=>ee(r,"banners"),showUploadList:{showPreviewIcon:!0,showRemoveIcon:!0},style:{width:140,height:140},className:"custom-upload-banner",previewFile:r=>new Promise(o=>{const d=new FileReader;d.readAsDataURL(r),d.onload=()=>{o(d.result)}}),children:t.jsx("button",{style:{border:0,background:"none"},type:"button",children:t.jsxs("div",{style:{marginTop:8},className:"flex flex-col jusity-center items-center",children:[t.jsx("img",{src:"./token/icon-upload.svg",alt:"upload",className:"w-[30px] h-[30px]"}),t.jsx("p",{className:"font-OCR text-[10px] text-green leading-4 text-center w-[158px]",children:"Recommended 790px X 307px Max size: 50MB"})]})})})]})}),t.jsx(h.Item,{label:t.jsx("p",{children:"Website"}),name:"website",children:t.jsx(U,{maxLength:20,className:"custom-input"})})]})]})]}),t.jsx("div",{children:t.jsxs("p",{className:"create_fee_desc",children:["A platform Fee of ",ce," ETH is applicable to facilitate your meme token creation. You will be entitled to ",D*100,"% supply of your meme token. The token will be distributed post TGE after ",t.jsx("span",{className:"text-[#07E993]",children:"‘fair conditions’"})," are met."," ",t.jsx("span",{className:"text-[#07E993]",children:"Click here"}),"for the tokenomics disclosures."]})}),t.jsx("div",{children:t.jsxs(We,{value:n,onChange:()=>{a(!n)},className:"create_terms mt-[24px] text-[#ffffff] border-[red]",children:["I accept MeMoo’s ",t.jsx("span",{className:"text-[#07E993]",children:"terms & conditions."})]})}),t.jsxs("div",{className:"flex items-center mt-[48px]",children:[t.jsx(O,{variant:"secondary",className:"w-[322px] h-[50px] uppercase",onClick:()=>ne(!1),loading:c,children:t.jsxs("span",{className:"flex items-center",children:[t.jsx("img",{src:"./token/icon-save-draft.svg",className:"w-[14px] mr-[10px]"}),"save draft"]})}),t.jsx(O,{variant:"default",className:"w-[322px] h-[50px] uppercase ml-[16px]",onClick:()=>ne(!0),loading:B,children:"confirm"})]})]}),t.jsx("img",{src:"./create/img-create-bg.png",alt:"",className:"create_token_bg"})]})]})}export{bt as default};
