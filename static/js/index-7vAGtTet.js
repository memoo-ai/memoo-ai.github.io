import{j as e,b as Y,d as Oe,e as Se}from"./rainbowkit-CcZB04bc.js";import{r as s,f as he,h as De,u as Re}from"./react-Dusg2Zfy.js";import{r as Pe,C as be,c as S}from"./index-C9N01wI6.js";import{B as I}from"./index-CyCYjTZL.js";import{b as ye,f as C,a as H,c as Ce,e as Be,h as Ae,d as je,g as ne,B as $e}from"./button-BAOquj05.js";import{R as se,z as ae,D as Me,E as Q,U as K}from"./index-DCKrgIM1.js";import{s as $,M as q,I as Z,S as Le,a as Fe}from"./useManageContract-B6HI0fJs.js";import{R as Ve}from"./index-Rl0NYkw8.js";import{g as Ue,m as He,i as ze,e as We,P as qe,f as Qe,h as Ke,j as Ge,a as Je,k as Xe,l as Ye,c as Ze,n as et,I as z,B,d as ke}from"./index-L8jBjbgn.js";import{e as tt,a as oe,b as st,f as at,g as lt,h as nt,d as ot}from"./index-DS1fgJ0w.js";import{m as rt,f as it,g as ct,a as dt,b as mt,c as pt,d as xt,e as ut}from"./airdrop-DjPh4GZ5.js";import{g as Te,r as ft,F as V,a as ht,b as gt,T as jt,U as Nt,u as wt,d as vt}from"./token-Dim4E2oD.js";import{S as Ee}from"./index-DiOaBOhy.js";import{u as bt}from"./useEthers-CrDkphf2.js";import"./maths-CNprVtit.js";const J=t=>t?typeof t=="function"?t():t:null,yt=t=>{const{componentCls:a,popoverColor:r,titleMinWidth:o,fontWeightStrong:n,innerPadding:l,boxShadowSecondary:m,colorTextHeading:f,borderRadiusLG:c,zIndexPopup:d,titleMarginBottom:x,colorBgElevated:v,popoverBg:j,titleBorderBottom:p,innerContentPadding:N,titlePadding:i}=t;return[{[a]:Object.assign(Object.assign({},Pe(t)),{position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:d,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text",transformOrigin:"var(--arrow-x, 50%) var(--arrow-y, 50%)","--antd-arrow-background-color":v,width:"max-content",maxWidth:"100vw","&-rtl":{direction:"rtl"},"&-hidden":{display:"none"},[`${a}-content`]:{position:"relative"},[`${a}-inner`]:{backgroundColor:j,backgroundClip:"padding-box",borderRadius:c,boxShadow:m,padding:l},[`${a}-title`]:{minWidth:o,marginBottom:x,color:f,fontWeight:n,borderBottom:p,padding:i},[`${a}-inner-content`]:{color:r,padding:N}})},We(t,"var(--antd-arrow-background-color)"),{[`${a}-pure`]:{position:"relative",maxWidth:"none",margin:t.sizePopupArrow,display:"inline-block",[`${a}-content`]:{display:"inline-block"}}}]},Ct=t=>{const{componentCls:a}=t;return{[a]:qe.map(r=>{const o=t[`${r}6`];return{[`&${a}-${r}`]:{"--antd-arrow-background-color":o,[`${a}-inner`]:{backgroundColor:o},[`${a}-arrow`]:{background:"transparent"}}}})}},kt=t=>{const{lineWidth:a,controlHeight:r,fontHeight:o,padding:n,wireframe:l,zIndexPopupBase:m,borderRadiusLG:f,marginXS:c,lineType:d,colorSplit:x,paddingSM:v}=t,j=r-o,p=j/2,N=j/2-a,i=n;return Object.assign(Object.assign(Object.assign({titleMinWidth:177,zIndexPopup:m+30},Qe(t)),Ke({contentRadius:f,limitVerticalRadius:!0})),{innerPadding:l?0:12,titleMarginBottom:l?0:c,titlePadding:l?`${p}px ${i}px ${N}px`:0,titleBorderBottom:l?`${a}px ${d} ${x}`:"none",innerContentPadding:l?`${v}px ${i}px`:0})},_e=Ue("Popover",t=>{const{colorBgElevated:a,colorText:r}=t,o=He(t,{popoverBg:a,popoverColor:r});return[yt(o),Ct(o),ze(o,"zoom-big")]},kt,{resetStyle:!1,deprecatedTokens:[["width","titleMinWidth"],["minWidth","titleMinWidth"]]});var Tt=function(t,a){var r={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&a.indexOf(o)<0&&(r[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,o=Object.getOwnPropertySymbols(t);n<o.length;n++)a.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(t,o[n])&&(r[o[n]]=t[o[n]]);return r};const Et=(t,a,r)=>!a&&!r?null:s.createElement(s.Fragment,null,a&&s.createElement("div",{className:`${t}-title`},J(a)),s.createElement("div",{className:`${t}-inner-content`},J(r))),_t=t=>{const{hashId:a,prefixCls:r,className:o,style:n,placement:l="top",title:m,content:f,children:c}=t;return s.createElement("div",{className:S(a,r,`${r}-pure`,`${r}-placement-${l}`,o),style:n},s.createElement("div",{className:`${r}-arrow`}),s.createElement(Ge,Object.assign({},t,{className:a,prefixCls:r}),c||Et(r,m,f)))},It=t=>{const{prefixCls:a,className:r}=t,o=Tt(t,["prefixCls","className"]),{getPrefixCls:n}=s.useContext(be),l=n("popover",a),[m,f,c]=_e(l);return m(s.createElement(_t,Object.assign({},o,{prefixCls:l,hashId:f,className:S(r,c)})))};var Ot=function(t,a){var r={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&a.indexOf(o)<0&&(r[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,o=Object.getOwnPropertySymbols(t);n<o.length;n++)a.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(t,o[n])&&(r[o[n]]=t[o[n]]);return r};const St=t=>{let{title:a,content:r,prefixCls:o}=t;return s.createElement(s.Fragment,null,a&&s.createElement("div",{className:`${o}-title`},J(a)),s.createElement("div",{className:`${o}-inner-content`},J(r)))},Dt=s.forwardRef((t,a)=>{var r,o;const{prefixCls:n,title:l,content:m,overlayClassName:f,placement:c="top",trigger:d="hover",children:x,mouseEnterDelay:v=.1,mouseLeaveDelay:j=.1,onOpenChange:p,overlayStyle:N={}}=t,i=Ot(t,["prefixCls","title","content","overlayClassName","placement","trigger","children","mouseEnterDelay","mouseLeaveDelay","onOpenChange","overlayStyle"]),{getPrefixCls:b}=s.useContext(be),h=b("popover",n),[y,g,E]=_e(h),k=b(),R=S(f,g,E),[M,u]=Je(!1,{value:(r=t.open)!==null&&r!==void 0?r:t.visible,defaultValue:(o=t.defaultOpen)!==null&&o!==void 0?o:t.defaultVisible}),w=(_,L)=>{u(_,!0),p?.(_,L)},T=_=>{_.keyCode===et.ESC&&w(!1,_)},P=_=>{w(_)};return y(s.createElement(Xe,Object.assign({placement:c,trigger:d,mouseEnterDelay:v,mouseLeaveDelay:j,overlayStyle:N},i,{prefixCls:h,overlayClassName:R,ref:a,open:M,onOpenChange:P,overlay:l||m?s.createElement(St,{prefixCls:h,title:l,content:m}):null,transitionName:Ye(k,"zoom-big",i.transitionName),"data-popover-inject":!0}),Ze(x,{onKeyDown:_=>{var L,A;s.isValidElement(x)&&((A=x==null?void 0:(L=x.props).onKeyDown)===null||A===void 0||A.call(L,_)),T(_)}})))}),ge=Dt;ge._InternalPanelDoNotUseOrYouWillBeFired=It;const W=({instant:t,onEnded:a,format:r,className:o})=>{const[n,l]=s.useState(0),m=s.useMemo(()=>{if(!t)return[];const f=Date.now(),c=t-f;if(c<=0)return a?.(!0),[0,0,0,0];const d=Math.floor(c/(1e3*60*60*24)),x=Math.floor(c%(1e3*60*60*24)/(1e3*60*60)),v=Math.floor(c%(1e3*60*60)/(1e3*60)),j=Math.floor(c%(1e3*60)/1e3);return r?r([d,x,v,j]):[`${String(d).padStart(2,"0")}`,`${String(x).padStart(2,"0")}`,`${String(v).padStart(2,"0")}`,`${String(j).padStart(2,"0")}`]},[t,n,a]);return s.useEffect(()=>{const f=Date.now();if(t-f>0){a?.(!1);const d=setInterval(()=>{l(x=>x+1)},1e3);return()=>{clearInterval(d)}}},[t,a]),e.jsx("div",{className:S("countdown",o),children:m.map((f,c)=>e.jsxs(s.Fragment,{children:[e.jsx("span",{className:"timefragments text-lg text-white font-404px",children:f}),c<m.length-1&&e.jsx("span",{className:"splitor text-lg text-white font-404px",children:":"})]},c))})};W.displayName=W.name;const re=({children:t})=>{const[a,r]=s.useState(!1),[o,n]=s.useState(!1),{idoLaunchedDetail:l,airdropClaim:m}=s.useContext(D),{getSign:f}=bt(),c=s.useCallback(async()=>{if(!(!m||!l))try{n(!0);const d=await f(),{data:x}=await rt({ticker:l?.ticker??"",signature:d?.rawSignature??"",timestap:d?.msg??""});console.log("contractAddress:",l?.contractAddress),console.log("airdropCount:",new I(x?.airdropCount)),console.log("jsonData:",x?.jsonData),console.log("signature:",x?.signature),await m(l?.contractAddress,new I(x?.airdropCount),`0x${x?.hexMessage}`,`0x${x?.hexSignature}`),r(!1),$.success("Claim Successful")}catch(d){console.error(d),$.error("Claim Failed")}finally{n(!1)}},[m,l]);return e.jsxs(e.Fragment,{children:[e.jsx(q,{className:"min-w-[604px]",wrapClassName:"memoo_modal",title:"Airdrop Unlocked",open:a,onCancel:()=>r(!1),footer:null,destroyOnClose:!0,children:e.jsxs("div",{className:"airdrop_claims flex flex-col",children:[e.jsxs("div",{className:"flex flex-col items-center gap-y-[18px]",children:[e.jsx("img",{className:"w-[111px] object-contain",src:"/create/img-claim.png"}),e.jsxs("span",{className:"font-404px text-[32px] text-green",children:[l?.tokenName," has arrived!"]}),e.jsx("p",{className:"whitespace-pre font-OCR text-base leading-[18px] text-white text-center",children:`Thanks for being part of the
Dogwifhat community.`})]}),e.jsxs("div",{className:"relative mt-[26px]",children:[e.jsx("img",{className:"absolute left-[25px] top-[50%] translate-y-[-50%] z-10",src:"/create/icon-airdrop-unlock.png"}),e.jsx(z,{className:"memoo_input h-[66px] font-404px text-white text-[24px] text-center",value:Number(l?.count).toLocaleString()})]}),e.jsx(B,{className:"memoo_button mt-4 h-[50px]",onClick:c,loading:o,children:"Confirm"})]})}),s.Children.map(t,d=>s.isValidElement(d)?s.cloneElement(d,{onClick:()=>r(!0)}):d)]})};re.displayName=re.name;const Rt=({children:t})=>{Y(),Oe();const[a,r]=s.useState(!1),{openConnectModal:o}=Se();return e.jsx("div",{children:o?e.jsx("div",{children:e.jsx("div",{onClick:()=>{o(),r(!0)},children:t})}):e.jsxs("div",{children:[" ",t]})})};var Pt={VITE_PROJECT_ID:"12054aa070d1f1a41e3420b5d40b665d",VITE_APP_BASE:"/memoo-interface",VITE_ENV:"production",VITE_NODE_TYPE:"mainnet",VITE_EXPLORER_API:"https://explorer-api.zklink.io",VITE_EXPLORER_URL:"https://explorer.zklink.io",VITE_NODE_CHAIN_ID:"1123",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const Ne=Pt.VITE_TWITTER_FOLLOW_REDIRECT_URI;let le=!1;function Bt(){const{stage:t,idoQueueDetail:a,idoLaunchedDetail:r,idoActiveDetail:o,triggerRefresh:n,ticker:l,airdropClaim:m}=s.useContext(D),[f,c]=s.useState(!1),[d]=he();s.useState(!1);const{address:x}=Y(),v=s.useMemo(()=>[{user:a?.twitter,link:"",followed:a?.projectTwitterBind},{user:a?.platformTwitter,link:"",followed:a?.platformTwitterBind}],[a]),j=s.useMemo(()=>t==="in-queue",[t]),p=s.useMemo(()=>{let h=Date.now(),y=(t==="launch"?r?.rewardEndsIn??0:o?.rewardEndsIn??0)*1e3;return console.log("now:",h),console.log("rewardEndsIn:",(t==="launch"?r?.rewardEndsIn??0:o?.rewardEndsIn??0)*1e3),h<y},[r,o,t]),N=s.useMemo(()=>{const h=r?.status==="Launched"||r?.status==="IDO",y=a?.projectTwitterBind&&a?.platformTwitterBind;return h&&y},[r,o,t]),i=s.useMemo(()=>t==="launch"||t==="1st-claim"||t==="2st-claim",[t]),b=s.useCallback(async h=>{try{let g=(await Te()).data;const E={ticker:l,twitter:h,clientId:g};localStorage.setItem(se,JSON.stringify(E)),ye(g,Ne),console.assert(!!h,"twitter is not found"),c(!0),await it(h)}catch(y){console.error(y)}finally{c(!1)}},[]);return s.useEffect(()=>{(async()=>{const h=d.get("ticker"),y=d.get("code"),g=d.get("state");let E=null;try{E=JSON.parse(localStorage.getItem(se)??"")}catch{}if(E&&!le){if(g==="twitter"&&y&&E){le=!0;const{ticker:k,twitter:R,clientId:M}=E,w=await ft({appClientId:M,code:y,codeVerifier:"challenge",grantType:"authorization_code",redirectUri:Ne,refreshToken:"",twitter:R??"elonmusk"});if(console.log("follow res: ",w),!w.data){$.error("Failed to follow. Please try again later.");return}localStorage.removeItem(se),le=!1,n?.()}console.log("ticker: ",h)}})()},[d]),e.jsxs("div",{className:"airdrop_claim px-5 pt-9 pb-5",children:[e.jsxs("div",{className:"head flex justify-between",children:[e.jsxs("h3",{className:"flex items-center gap-x-2 font-404px text-green text text-lg",children:["airdrop"," ",e.jsx(ge,{children:e.jsx(Z,{title:`Lorem ipsum dolor sit amet consectetur adipiscing elit.
                Morbi fringilla ipsum turpisı sit amet tempus est malesuadased.
                Integer fringilla magnavel orci ultricies fermentum.
                Suspendisse sem est.`,color:"#fff",bgColor:"#396D93"})})]}),j&&e.jsx("span",{className:"endsin font-OCR text-white",children:"Ends in"})]}),e.jsxs("div",{className:"in_queue flex justify-between",children:[e.jsxs("p",{className:"text-deep-green text-xs whitespace-pre-wrap",children:["Complete tasks to be",`
`,"eligible for token airdrop."," "]}),j&&e.jsx(W,{instant:a?.airdropEndsIn&&typeof a?.airdropEndsIn=="number"?a?.airdropEndsIn*1e3:0})]}),e.jsx("ul",{className:"follow_list flex flex-col gap-y-2 mt-4",children:v.map((h,y)=>e.jsxs("li",{className:"follow_list_item flex items-center w-full justify-between px-3 py-3.5",children:[e.jsxs("p",{className:S("leading-5 font-OCR whitespace-pre-wrap",{"text-white":!h.followed&&t!=="imo"||!x,"text-deep-green":h.followed||t==="imo"}),children:["Follow @",h.user,`
`,"on twitter"]}),e.jsx(Rt,{children:e.jsx("img",{onClick:()=>h.followed||t==="imo"?null:b(h.user?h.user:""),className:S("w-5",{"cursor-pointer":!h.followed,"opacity-30":(h.followed||t==="imo")&&x}),src:`/create/icon-${h.followed?"followed":"outlink-media"}.png`})})]},y))}),N&&(p?e.jsxs("div",{className:"mt-5 airdrop-unlock flex flex-col items-center gap-y-2",children:[e.jsxs("div",{className:"flex gap-x-3.5",children:[e.jsx("img",{className:"w-5 object-contain",src:"/create/icon-airdrop-lock.png"}),e.jsx(W,{onEnded:h=>h&&n?.(),instant:(t==="launch"?r?.rewardEndsIn??0:o?.rewardEndsIn??0)*1e3})]}),e.jsx("p",{className:"text-white font-OCR leading-20 text-sm",children:"Wait for your airdrop to unlock."})]}):e.jsxs("div",{className:"mt-5 airdrop-unlock flex flex-col items-center gap-y-2",children:[e.jsx("img",{className:"w-5 object-contain",src:"/create/icon-airdrop-unlock.png"}),e.jsxs("p",{className:"text-white font-404px leading-20 text-2xl",children:[Number(r?.count).toLocaleString()," WIF"]})]})),!x&&e.jsxs("div",{className:"flex flex-col items-center mt-[29px]",children:[e.jsx(tt,{className:""}),e.jsx("h5",{className:"font-OCR text-[14px] text-[#fff] line-[20px]",children:"Connect wallet to access"})]}),e.jsx(re,{children:e.jsx(B,{disabled:!a?.claimFlag,className:S("uppercase w-full claim_btn h-12 font–404px mt-5",{"mt-20":j,"mt-5":p||i}),children:"claim"})}),e.jsx(Ee,{fullscreen:!0,spinning:f})]})}const G=[1/4,1/2,1],ie=({children:t})=>{const[a,r]=s.useState(!1),[o,n]=s.useState(0),{memooConfig:l,defaultConfig:m,idoBuy:f,idoQueueDetail:c}=s.useContext(D),[d,x]=s.useState(!1),[v,j]=s.useState(!1),p=s.useMemo(()=>!l||!m?ae:new I(Number(m.totalSupply)).dividedBy(10**m.defaultDecimals),[l]),N=s.useMemo(()=>{if(!l||!m)return ae;const g=new I(Number(l.allocation.ido)).dividedBy(1e4),E=new I(Number(m.idoPrice)).dividedBy(10**m.defaultDecimals);return p.multipliedBy(g).multipliedBy(E)},[l,p]),i=s.useMemo(()=>l?new I(l.idoUserBuyLimit??Me).dividedBy(1e4):ae,[l]),b=s.useMemo(()=>N.multipliedBy(i),[N]),h=s.useMemo(()=>(n(parseFloat(C(N.multipliedBy(G[0]).multipliedBy(i)))),console.log("grades[0]:",G[0]),console.log("capped:",N),console.log("capped.multipliedBy:",N.multipliedBy(G[0]).multipliedBy(i)),console.log("idoUserBuyLimitBN:",i),G.map((g,E)=>({label:e.jsxs("div",{className:"imo_opt",children:[e.jsxs("span",{children:[C(N.multipliedBy(g).multipliedBy(i))," ETH"]}),e.jsxs("span",{children:[C(p.multipliedBy(g).multipliedBy(i))," TOKEN"]})]},E),value:parseFloat(C(N.multipliedBy(g).multipliedBy(i)))}))),[N,i,p]),y=s.useCallback(async()=>{if(!(!f||!c))try{j(!0),await f(c?.contractAddress,new I(o)),r(!1),$.success("Participate Successful")}catch(g){console.error(g),$.error("Participate Failed")}finally{j(!1)}},[c,f,o]);return e.jsxs(e.Fragment,{children:[e.jsx(q,{className:"min-w-[604px]",wrapClassName:"memoo_modal",title:"IMO Participation",open:a,onCancel:()=>r(!1),footer:null,destroyOnClose:!0,children:e.jsxs("div",{className:"imo_participation flex flex-col",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex items-center gap-x-3",children:[e.jsx("span",{className:"text-white font-OCR text-base leading-[18px]",children:"Contribute"}),e.jsx(Z,{className:"h-[12px] ",placement:"bottom",title:`${Number(C(N))/7*6} ETH will be used to create liquidity pair while${Number(Number(C(N))/7)}  ETH is collected as IMO platform fee.`,color:"#fff",bgColor:"#396D93"})]}),e.jsx("p",{className:"whitespace-pre font-OCR text-white text-base leading-[18px]",children:`Total IDO raise is always
capped at ${C(N)} ETH`})]}),e.jsx(Ve.Group,{className:"memoo_radio_group mt-[28px] mb-[28px] grid grid-cols-3",options:h,onChange:g=>n(g.target.value),value:o,optionType:"button"}),e.jsx("p",{className:"whitespace-pre font-OCR text-[#4889B7] text-[10px] leading-[14px]",children:`Contribution capped at ${C(b)} ETH per wallet: To counteract potential centralization,
individual wallet holding limits will be established, ensuring that every purchasing
entity's holding is limited to maximum of ${i.multipliedBy(100).toString()}% percentage of the total supply.`}),e.jsxs(ke,{className:"font-OCR text-[12px] text-[#4889B7] my-[24px]",onChange:g=>x(g.target.checked),children:["I accept MeMoo’s ",e.jsx("a",{className:"contents text-green",children:"Terms & Conditions."})]}),e.jsx(B,{disabled:!d,className:"memoo_button mt-4 h-[50px]",loading:v,onClick:y,children:"Confirm"})]})}),s.Children.map(t,g=>s.isValidElement(g)?s.cloneElement(g,{onClick:()=>r(!0)}):g)]})};ie.displayName=ie.name;const At=()=>{const{idoActiveDetail:t,idoQueueDetail:a}=s.useContext(D),[r,o]=s.useState(!1);console.log("idoActiveDetail?.endsIn:",t?.endsIn);const n=s.useMemo(()=>[{key:"Price",value:`$${C(t?.price?t?.price:0)??0}`,tip:null},{key:"Total Raised",value:`${t?.totalRaised===""?0:t?.totalRaised??"NA/NA"} ETH`,tip:`Total IMO raise is always capped 
 at 2.33 ETH`},{key:"Contributed",value:`${a?.contributed??"NA"}/${a?.maxContributed??"NA"} ETH`,tip:`Contributed per wallet 
 is capped at 0.066 ETH`}],[t,a]),l=s.useMemo(()=>a?a?.contributed>=a?.maxContributed:!0,[a]);return e.jsxs("div",{className:"imo_participate px-5 pt-9 pb-5",children:[e.jsx("div",{className:"head",children:e.jsx("h3",{className:"flex items-center gap-x-2 font-404px text-green text text-lg uppercase",children:"imo"})}),e.jsxs("div",{className:"content flex flex-col items-center",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("span",{className:"font-OCR text-sm text-white",children:"Ends in"}),e.jsx(W,{className:"imo_countdown flex gap-x-2 mt-5",format:([m,f,c,d])=>[e.jsxs("div",{children:[e.jsx("time",{children:m}),e.jsx("span",{children:"D"})]},"days"),e.jsxs("div",{children:[e.jsx("time",{children:f}),e.jsx("span",{children:"H"})]},"hours"),e.jsxs("div",{children:[e.jsx("time",{children:c}),e.jsx("span",{children:"H"})]},"minutes"),e.jsxs("div",{children:[e.jsx("time",{children:d}),e.jsx("span",{children:"S"})]},"seconds")],instant:(t?.endsIn??0)*1e3,onEnded:m=>{o(m)}}),e.jsx("p",{className:"mt-3 text-white font-OCR leading-5 text-sm",children:"Fair Distribution Policy"}),e.jsx("p",{className:"text-deep-green text-center font-OCR leading-14 text-xs",children:"Wallet capped at 1% token supply per address."})]}),e.jsx("ul",{className:"mt-6 params_list flex flex-col gap-y-6 w-full",children:n.map(m=>e.jsxs("li",{className:"flex justify-between",children:[e.jsxs("label",{className:"text-white text-xs font-OCR leading-4 flex items-center gap-x-1.5",children:[m.key," ",m.tip&&e.jsx(Z,{className:"h-[12px] ",placement:"bottom",title:m.tip,color:"#fff",bgColor:"#396D93"})]}),e.jsx("var",{className:"text-white text-lg font-OCR leading-5",children:m.value})]},m.key))}),e.jsx(ie,{children:e.jsx(B,{disabled:l||r,className:S("mt-5 uppercase w-full participate_btn h-12 font–404px",{}),children:"participate"})})]})]})},ce=()=>{const{idoLaunchedDetail:t,idoQueueDetail:a,stage:r}=s.useContext(D),o=s.useMemo(()=>[{key:"Market Cap",value:`$${C(a?.marketCap??0)}`,tip:null},{key:"Price",value:`$${C(a?.price??0)}`,tip:null},{key:"Total Raised",value:`${a?.totalRaised??"NA/NA"} ETH`,tip:"1"},{key:"Contributed",value:`${a?.contributed??"NA"}/${a?.maxContributed??"NA"} ETH`,tip:"1"}],[t,a]),n=s.useCallback(()=>{window.open("https://app.uniswap.org/","_blank")},[]);return e.jsxs("div",{className:"pubsale px-5 pt-9 pb-5",children:[e.jsx("div",{className:"head flex justify-center",children:e.jsx("img",{src:"/create/img-pubsale.png"})}),e.jsxs("div",{className:"content flex flex-col items-center",children:[e.jsx("ul",{className:"mt-6 params_list flex flex-col gap-y-6 w-full",children:o.map(l=>e.jsxs("li",{className:"flex justify-between",children:[e.jsxs("label",{className:"text-white text-xs font-OCR leading-4 flex items-center gap-x-1.5",children:[l.key," ",l.tip&&e.jsx(ge,{content:l.tip,children:e.jsx("img",{src:"/create/tip.png"})})]}),e.jsx("var",{className:"text-white text-lg font-OCR leading-5",children:l.value})]},l.key))}),e.jsx(B,{className:S("mt-5 uppercase w-full pubsale_btn h-12 font–404px",{}),onClick:n,children:"Buy"})]})]})};ce.displayName=ce.name;const de=()=>{const{stage:t,idoQueueDetail:a,idoLaunchedDetail:r,idoLaunchedDetailTop10:o}=s.useContext(D),n=s.useMemo(()=>t==="launch"?[{key:"IDO Date",value:a?.idoDate?H(a?.idoDate??0):""},{key:"LP Lock",value:r?.tokenName,formatValue:l=>e.jsxs("div",{className:"flex items-center gap-x-2.5",children:[e.jsxs("div",{className:"flex ido_params_token items-center py-1.5 gap-x-1 px-5",children:[e.jsx("img",{src:r?.icon,className:"max-w-[27px]"}),e.jsx("span",{className:"font-OCR text-white text-sm",children:l})]}),e.jsx("span",{className:"text-white text-lg font-OCR leading-5",children:r?.lpLock?"Yes":"No"})]})},{key:"Liquidity",value:`$${r?.liquidity??0}`},{key:"FDV",value:`$${a?.fdv??0}`},{key:"24h Trading Vol",value:`$${r?.volume24H??0}`},{key:"1h",value:"+7%",formatValue:l=>e.jsx("span",{className:"text-green font-404px",children:l})},{key:"24h",value:"+86%",formatValue:l=>e.jsx("span",{className:"text-green font-404px",children:l})},{key:"Max Supply",value:`${a?.totalSupply??0}`},{key:"All Time High",value:`$${C(r?.allTimeHigh??0)??0}`,formatValue:l=>e.jsxs("div",{className:"flex flex-col items-end",children:[e.jsx("span",{className:"text-white text-lg font-OCR leading-5",children:l}),e.jsxs("div",{className:"flex items-center gap-x-2",children:[e.jsx("time",{className:"font-OCR text-xs text-bluish-purple-light",children:H(r?.allTimeHighTime??0)}),e.jsx("span",{className:"font-OCR text-xs text-red",children:r?.allTimeHighTimeIncrease})]})]})},{key:"All Time Low",value:`$${C(r?.allTimeLow??0)??0}`,formatValue:l=>e.jsxs("div",{className:"flex flex-col items-end",children:[e.jsx("span",{className:"text-white text-lg font-OCR leading-5",children:l}),e.jsxs("div",{className:"flex items-center gap-x-2",children:[e.jsx("time",{className:"font-OCR text-xs text-bluish-purple-light",children:H(r?.allTimeLowTime??0)}),e.jsx("span",{className:"font-OCR text-xs text-green",children:r?.allTimeLowIncrease})]})]})},{key:"Holders",value:r?.holders??0}]:[{key:"IDO Date",value:H(a?.idoDate??0)},{key:"FDV",value:`$${Number(a?.fdv??0).toLocaleString()}`},{key:"Max Supply",value:`${Number(a?.totalSupply??0).toLocaleString()}`}],[t,a,r]);return e.jsxs("div",{className:"ido_detail flex-auto px-5 pt-9 pb-5",children:[e.jsx("ul",{className:"data_list flex flex-col gap-y-6 w-full",children:n.map(l=>e.jsxs("li",{className:"flex justify-between",children:[e.jsx("label",{className:"text-bluish-purple-light text-sm font-OCR leading-4 flex items-center gap-x-1.5",children:l.key}),l.formatValue?l.formatValue(l.value??""):e.jsx("var",{className:"text-white text-lg font-OCR leading-5",children:l.value})]},l.key))}),e.jsx("div",{className:"divider h-px w-full bg-bluish-purple my-8"}),o.length>0&&e.jsxs("div",{className:"top10_holders",children:[e.jsx("h3",{className:"font-404px text-lg leading-5 text-green",children:"Top 10 Token Holders"}),e.jsx("ul",{className:"holders_list mt-5 flex flex-col",children:o.map((l,m)=>e.jsxs("li",{className:"flex items-center justify-between",children:[e.jsxs("label",{className:"text-sm font-OCR text-white",children:[m+1,".",Ce(l.address)]}),e.jsx("var",{className:"text-sm font-OCR text-white",children:l.proportion})]},l.address))})]})]})};de.displayName=de.name;const $t="/static/png/profile-banner-bg-BAV99unl.png",me=()=>{const{idoQueueDetail:t}=s.useContext(D);return e.jsxs("div",{className:"banner w-full relative",children:[e.jsx("img",{className:"w-full min-h-[200px]  max-h-[307px] rounded-tl-[15px] rounded-tr-[15px]",src:t?.banners?.[0]??$t}),e.jsx("img",{className:"w-[131px] h-[131px] rounded-[50%] absolute bottom-0 left-5 translate-y-1/2",src:t?.icon})]})};me.displayName=me.name;const pe=()=>{const{idoQueueDetail:t}=s.useContext(D),a=s.useRef({});s.useEffect(()=>{(async()=>{try{const{data:n}=await ct();console.log(n)}catch(n){console.error("Error fetching data:",n)}})()},[t]);const r=s.useMemo(()=>[{key:"Name",value:t?.tokenName},{key:"Ticker",value:t?.ticker},{key:"Contract Address",value:t?.contractAddress||"NA"},{key:"LP Contract",value:t?.lpContractAddress||"NA"},{key:"Tools",value:"",formatKey:n=>e.jsx("label",{className:"col-span-3 text-bluish-purple-light text-sm font-OCR leading-4 flex gap-x-1.5 h-8 flex items-center",children:n}),formatValue:n=>e.jsx("ul",{className:" flex flex-wrap col-span-6 gap-y-1.5 gap-x-1",children:[{name:"De.Fi Scanner",icon:"/create/icon-tool-defi-scanner.png"},{name:"DEX Screener",icon:"/create/icon-tool-dex-screener.png"},{name:"Bubblemaps",icon:"/create/icon-tool-bubble-maps.png"},{name:"GeckoTerminal",icon:"/create/icon-tool-gecko-terminal.png"}].map(l=>e.jsx("li",{className:"flex items-center gap-x-1.5 h-8 token_list_hover"},l.name))})}],[t]),o=s.useMemo(()=>[{key:"Project Website",value:"",formatValue:n=>e.jsx("ul",{className:`${t?.website?"token_list":""} flex flex-wrap col-span-6 gap-y-1.5 gap-x-1`,children:t?.website?e.jsx("li",{className:"h-8 cursor-pointer token_list_hover",children:e.jsx("a",{href:t?.website,target:"_blank",className:"flex items-center gap-x-1.5",children:Be(t?.website??"")})}):e.jsxs("li",{className:"flex items-center gap-x-1.5 h-8",children:[" ",e.jsx("span",{className:"col-span-6 text-white font-OCR leading-5",children:"NA"})]})})},{key:`Project’s
Social Account`,value:"",formatValue:n=>e.jsxs("ul",{className:"token_list flex flex-wrap col-span-6 gap-y-1.5 gap-x-1",children:[t?.twitter&&e.jsx("li",{className:"h-8 token_list_hover",onMouseOver:()=>a.current.IconTwitterProject.setHovered(!0),onMouseLeave:()=>a.current.IconTwitterProject.setHovered(!1),children:e.jsxs("a",{href:`https://x.com/${t?.twitter}`,target:"_blank",className:"flex items-center gap-x-1.5",children:[e.jsx(oe,{ref:l=>a.current.IconTwitterProject=l,color:"#FFF",hoverColor:"#07E993",className:"w-[20px]"})," ",t?.twitter??""]})}),t?.telegram&&e.jsx("li",{className:"h-8 token_list_hover",onMouseOver:()=>a.current.IconTelegram.setHovered(!0),onMouseLeave:()=>a.current.IconTelegram.setHovered(!1),children:e.jsxs("a",{href:`https://t.me/${t?.telegram}`,target:"_blank",className:"flex items-center gap-x-1.5",children:[e.jsx(st,{ref:l=>a.current.IconTelegram=l,color:"#FFF",hoverColor:"#07E993",className:"w-[20px]"})," ",t?.telegram??""]})})]})},{key:"Created By",value:"",formatKey:n=>e.jsx("label",{className:"col-span-3 text-bluish-purple-light text-sm font-OCR leading-4 flex gap-x-1.5 h-8 flex items-center mt-10",children:n}),formatValue:n=>e.jsx("ul",{className:"token_list flex flex-wrap col-span-6 gap-y-1.5 gap-x-1 mt-10",onClick:()=>{Ae(t?.creatorAddress?t?.creatorAddress:"")},children:t?.creatorAddress&&e.jsxs("li",{className:"flex items-center gap-x-1.5 h-8",children:[Ce(t?.creatorAddress??"")," ",e.jsx("a",{className:"cursor-pointer",children:e.jsx(at,{className:"object-contain"})})]})})},{key:`Creator’s
Social Account`,value:"",formatValue:n=>e.jsx("ul",{className:`${t?.creatorTwitter?"token_list":""} flex flex-wrap col-span-6 gap-y-1.5 gap-x-1`,onMouseOver:()=>a.current.IconTwitterCreator.setHovered(!0),onMouseLeave:()=>a.current.IconTwitterCreator.setHovered(!1),children:t?.creatorTwitter?e.jsx("li",{className:"flex items-center gap-x-1.5 h-8 token_list_hover",children:e.jsxs("a",{href:`https://x.com/${t?.creatorTwitter}`,target:"_blank",className:"flex items-center gap-x-1.5",children:[e.jsx(oe,{ref:l=>a.current.IconTwitterCreator=l,color:"#FFF",hoverColor:"#07E993",className:"w-[20px]"})," ",t?.creatorTwitter]})}):e.jsxs("li",{className:"flex items-center gap-x-1.5 h-8",children:[" ",e.jsx("span",{className:"col-span-6 text-white font-OCR leading-5",children:"NA"})]})})}],[t]);return e.jsxs("div",{className:"profile relative pt-20",children:[e.jsx("ul",{className:"relationship_fracture absolute flex gap-x-2.5 top-5 right-5",children:e.jsx("li",{children:e.jsx("img",{className:"w-10 h-10 object-cover",src:"/create/icon-share.png"})})}),e.jsxs("div",{className:"head",children:[e.jsxs("h1",{className:"font-404px text-white leading-7 text-3xl",children:[t?.tokenName," ",e.jsx("span",{className:"text-green text-base ml-1",children:t?.ticker})]}),e.jsxs("time",{className:"mt-2 block font-OCR text-bluish-purple-light text-sm",children:["Created ",H(t?.createdAt??0)]}),e.jsx("p",{className:"mt-2 font-OCR text-white text-sm leading-5 max-w-2xl",children:t?.description})]}),e.jsxs("div",{className:"content",children:[e.jsx("ul",{className:"basic_list mt-14 flex flex-col gap-y-6",children:r.map(n=>e.jsxs("li",{className:"grid grid-cols-12",children:[n.formatKey?n.formatKey(n.key):e.jsx("label",{className:"col-span-3 text-bluish-purple-light text-sm font-OCR leading-4 flex items-center gap-x-1.5",children:n.key}),n.formatValue?n.formatValue(n.value):e.jsx("var",{className:"col-span-6 text-white text-lg font-OCR leading-5",children:n.value})]},n.key))}),e.jsxs("div",{className:"soscial_info mt-16",children:[e.jsx("h1",{className:"font-404px text-lg text-green leading-5",children:"Social Info"}),e.jsx("ul",{className:"mt-6 flex flex-col gap-y-1.5",children:o.map(n=>e.jsxs("li",{className:"grid grid-cols-12",children:[n.formatKey?n.formatKey(n.key):e.jsx("label",{className:"col-span-3 text-bluish-purple-light text-sm font-OCR leading-4 flex h-8 gap-x-1.5 flex items-center whitespace-pre-wrap",children:n.key}),n.formatValue?n.formatValue(n.value):e.jsx("var",{className:"col-span-6 text-white text-lg font-OCR leading-5",children:n.value})]},n.key))})]})]})]})};pe.displayName=pe.name;const xe=({children:t,maxIncrease:a,maxProportion:r,firstProportion:o,firstIncrease:n,purchased:l,onCalculated:m})=>{const[f,c]=s.useState(!1),[d,x]=s.useState(!1),[v,j]=s.useState(!1),[p,N]=s.useState(l),[i,b]=s.useState(0),{idoBuy:h,idoQueueDetail:y}=s.useContext(D),g=l*1e3;s.useEffect(()=>{N(o*100)},[o]),s.useEffect(()=>{const k=p/100,R=parseFloat(C(n*(k/o)));console.log("increasing proportion:",R),b(R),m?.(R)},[p,o,n]),s.useEffect(()=>{l&&N(g)},[l]);const E=s.useCallback(async()=>{if(!(!h||!y))try{j(!0),console.log(i),console.log("firstIncreaseD:",n),await h(y.contractAddress,new I(i-l)),c(!1),$.success("Buy Successful")}catch(k){console.error(k),$.error("Buy Failed")}finally{j(!1)}},[h,y,i,n]);return e.jsxs(e.Fragment,{children:[e.jsx(q,{wrapClassName:"memoo_modal",title:"Increase Acquisition",open:f,onCancel:()=>c(!1),footer:null,destroyOnClose:!0,children:e.jsxs("div",{className:"increase_acquisition pt-[35px] flex flex-col",children:[e.jsxs("div",{className:"flex gap-x-[37px]",children:[e.jsxs("div",{className:"flex items-end",children:[e.jsx("span",{className:"whitespace-pre-wrap text-base font-OCR text-white leading-[18px]",children:`Pre-Market
Acquisition`}),e.jsx("div",{className:"tip_ico_wrapper h-[18px] flex items-center ml-[12px]",children:e.jsx(Z,{className:"h-[12px] ",placement:"bottom",title:`Lorem ipsum dolor sit amet consectetur adipiscing elit.
                Morbi fringilla ipsum turpisı sit amet tempus est malesuadased.
                Integer fringilla magnavel orci ultricies fermentum.
                Suspendisse sem est.`,color:"#fff",bgColor:"#396D93"})})]}),e.jsxs("div",{className:"flex flex-auto items-center gap-x-3",children:[e.jsxs("span",{className:"whitespace-nowrap text-base font-OCR text-white leading-[16px]",children:[n," ETH"]}),e.jsx(Le,{className:"memoo_slider flex-auto",tooltip:{open:!0,rootClassName:"memoo_slider_tooltip",formatter:k=>`${k}%`},onChange:k=>{k>l*1e3?N(k):N(l*1e3)},value:p,max:r*100,min:o*100,defaultValue:g}),e.jsxs("span",{className:"whitespace-nowrap text-base font-OCR text-white leading-[16px]",children:[a," ETH"]})]})]}),e.jsx("p",{className:"font-OCR text-[#4889B7] whitespace-pre-wrap mt-[7px] mb-[19px]",children:`Creator can increase initial
allocation from ${o*100}% to ${r*100}%.`}),e.jsx(z,{className:"memoo_input h-[66px]",value:"Pre-Market Acquisition",suffix:e.jsx("span",{className:"text-[24px] text-white font-404px leading-[22px]",children:`${C(i-l)} ETH`})}),e.jsxs(ke,{className:"font-OCR text-[12px] text-[#4889B7] my-[24px]",onChange:k=>x(k.target.checked),children:["I accept MeMoo’s ",e.jsx("a",{className:"contents text-green",children:"Terms & Conditions."})]}),e.jsx(B,{disabled:!d&&Number(C(i-l))<=0,className:"memoo_button h-[50px]",loading:v,onClick:E,children:"Confirm"})]})}),s.Children.map(t,k=>s.isValidElement(k)?s.cloneElement(k,{onClick:()=>c(!0)}):k)]})};xe.displayName=xe.name;const X=({children:t,stage:a,lockinPeriod:r,tokens:o,unlockTokens:n,rate:l})=>{const[m,f]=s.useState(!1),{unlockMeme:c,idoQueueDetail:d}=s.useContext(D),[x,v]=s.useState(!1),j=s.useCallback(async()=>{if(!(!c||!d))try{v(!0),console.log("idoQueueDetail.contractAddress:",d.contractAddress),console.log(a==="1st"?0:1),await c(d.contractAddress,a==="1st"?0:1),f(!1),$.success("Unlock Successful")}catch(p){console.error(p),$.error("Unlock Failed")}finally{v(!1)}},[c,d]);return e.jsxs(e.Fragment,{children:[e.jsx(q,{className:"min-w-[604px]",wrapClassName:"memoo_modal",title:"Claim Tokens",open:m,onCancel:()=>f(!1),footer:null,destroyOnClose:!0,children:e.jsxs("div",{className:"claim_tokens flex flex-col",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("div",{className:"flex items-center gap-x-[15px]",children:[e.jsx("p",{className:"whitespace-pre font-OCR text-base leading-[18px] text-white",children:`Redeem ${a} ${l}%
unlocked tokens`}),e.jsx("img",{className:"w-[111px] object-contain",src:"/create/img-claim.png"})]}),e.jsxs("div",{className:"flex items-center gap-x-[14px]",children:[a==="1st"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col items-end",children:[e.jsx("span",{className:"font-404px text-white text-[24px] leading-[29px]",children:r}),e.jsx("span",{className:"font-OCR text-white text-base leading-[21px]",children:"Next Unlock"})]}),e.jsx("img",{className:"w-[50px]",src:"/create/icon-claim-unlock.png"})]}),a==="2nd"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col items-end",children:[e.jsx("span",{className:"font-404px text-white text-[24px] leading-[29px]",children:Number(n).toLocaleString()}),e.jsx("span",{className:"font-OCR text-white text-base leading-[21px]",children:"Claim Completed"})]}),e.jsx("img",{className:"w-[50px]",src:"/create/icon-claim-done.png"})]})]})]}),e.jsx(z,{disabled:!0,className:"memoo_input h-[66px]",placeholder:"Claimable LEASH",suffix:e.jsx("span",{className:"text-[24px] text-white font-404px leading-[22px]",children:Number(o).toLocaleString()})}),e.jsx(B,{loading:x,className:"memoo_button mt-[77px] h-[50px]",onClick:j,children:"Confirm"})]})}),s.Children.map(t,p=>s.isValidElement(p)?s.cloneElement(p,{onClick:()=>f(!0)}):p)]})};X.displayName=X.name;const ue=()=>{const{stage:t,idoQueueDetail:a,_2ndStage:r,_1stStage:o,memooConfig:n,defaultConfig:l,mine:m,totalPurchased:f}=s.useContext(D),{address:c}=Y(),d=s.useMemo(()=>Number(n?.allocation.creator)/1e4,[n]);console.log("firstProportion:",d),console.log("memooConfig?.allocation.creator:",Number(n?.allocation.creator)),console.log("totalPurchased:",Number(f)*Number(l?.idoPrice));const x=s.useMemo(()=>{if(!n||!l)return 0;const i=new I(Number(f)),b=new I(Number(l?.idoPrice)).dividedBy(10**l?.defaultDecimals);return console.log("purchased:",parseFloat(C(i.multipliedBy(b)))),parseFloat(C(i.multipliedBy(b)))},[n,l,f]),v=s.useMemo(()=>Number(n?.idoCreatorBuyLimit)/1e4,[n]),j=s.useMemo(()=>{if(!n||!l)return 0;const i=new I(Number(l?.totalSupply)).dividedBy(10**l?.defaultDecimals),b=new I(Number(l?.idoPrice)).dividedBy(10**l?.defaultDecimals),h=i.multipliedBy(b).multipliedBy(d);return parseFloat(C(h))},[n,d,l]),p=s.useMemo(()=>parseFloat(C(j*(v/d))),[d,v,j]),N=[{key:"in-queue",icon:`/create/process-in-queue${t==="in-queue"?"-active":""}.svg`,title:"in queue",desc:`Complete tasks to be
eligible for airdrop`,onClick:()=>{},btnText:"increase",btnIcon:`/create/icon-increase${t==="in-queue"?"-active":""}.svg`,wrapper:i=>e.jsx(xe,{maxIncrease:p,firstProportion:d,maxProportion:v,firstIncrease:j,purchased:x,children:i}),enabled:m&&["QUEUE","IDO"].includes(a?.status??"Draft")},{key:"imo",icon:`/create/process-imo${t==="imo"?"-active":""}.svg`,title:"imo",desc:`Get first access
before public sale`},{key:"launch",icon:`/create/process-launch${t==="launch"?"-active":""}.svg`,title:"launch",desc:`Token available
for public sale`},{key:"1st-claim",icon:e.jsxs("div",{className:"relative z-10",children:[e.jsx("img",{src:"/create/bg-1st-claim.png"}),e.jsx("img",{className:"absolute left-[53px] top-[37px]",src:`/create/process-claim${t==="1st-claim"?"-active":""}.svg`})]}),title:"1st claim",desc:`1st ${new I(Number(o?.unlockInfo?.unlockRate)).dividedBy(1e4).multipliedBy(100).toNumber()}% unlock when
token price hits 0.0005c`,onClick:()=>{},btnText:"claim",btnIcon:`/create/icon-claim${t==="1st-claim"?"-active":""}.svg`,wrapper:i=>e.jsx(X,{tokens:parseFloat(C(new I(o?.unlockCount??0).dividedBy(10**(l?.defaultDecimals??0)))),lockinPeriod:je(Number(o?.unlockInfo?.value)/1e3),rate:new I(Number(o?.unlockInfo?.unlockRate)).dividedBy(1e4).multipliedBy(100).toNumber(),stage:"1st",children:i}),enabled:a?.stageOneClaim&&Number(o?.unlockCount)>0&&a?.status==="Launched"&&(c?[(a.contractAddress,a.creatorAddress)].some(i=>ne(i,c)):!1)},{key:"2st-claim",icon:e.jsxs("div",{className:"relative z-10",children:[e.jsx("img",{src:"/create/bg-2st-claim.png"}),e.jsx("img",{className:"absolute left-[53px] top-[37px]",src:`/create/process-claim${t==="2st-claim"?"-active":""}.svg`})]}),title:"2st claim",desc:`Next ${new I(Number(r?.unlockInfo?.unlockRate)).dividedBy(1e4).multipliedBy(100).toNumber()}% unlocked
tokens in ${je(Number(r?.unlockInfo?.value)*1e3)}`,onClick:()=>{},btnText:"claim",btnIcon:`/create/icon-claim${t==="2st-claim"?"-active":""}.svg`,wrapper:i=>e.jsx(X,{tokens:parseFloat(C(new I(r?.unlockCount??0).dividedBy(10**(l?.defaultDecimals??0)))),unlockTokens:parseFloat(C(Number(o?.unlockInfo?.value??0))),stage:"2nd",children:i}),enabled:a?.stageTwoClaim&&Number(r?.unlockCount)>0&&a?.status==="Launched"&&(c?[(a.contractAddress,a.creatorAddress)].some(i=>ne(i,c)):!1)}];return e.jsx("ul",{className:"progress flex",children:N.map(i=>{const b=i.key===t;return e.jsxs("li",{className:S("flex max-w-[220px] flex-col items-center justify-end progress_list_item px-[18px]",{active:b}),children:[e.jsx("div",{className:S({active:b},"icon"),children:typeof i.icon=="string"?e.jsx("img",{src:i.icon}):i.icon}),e.jsx("h3",{className:S({"text-green":b},"text-lg font-404px leading-5 text-bluish-purple-light mt-[18px]"),children:i.title}),e.jsx("p",{className:"mt-1.5 font-OCR text-white leading-4 text-sm text-center break-keep whitespace-pre",children:i.desc}),i.wrapper?i.wrapper(e.jsx(B,{style:{visibility:i.btnText?"visible":"hidden"},className:"memoo_button reverse mt-[19px] px-[19px] h-[38px]",onClick:()=>i.onClick?.(),disabled:!i.enabled,children:e.jsx("div",{className:"flex items-center gap-x-1",children:e.jsx("span",{className:S("text-[10px] leading-5"),children:i.btnText})})})):e.jsx(B,{style:{visibility:i.btnText?"visible":"hidden"},className:"memoo_button reverse mt-[19px] px-[19px] h-[38px]",onClick:()=>i.onClick?.(),disabled:!i.enabled,children:e.jsx("div",{className:"flex items-center gap-x-1",children:e.jsx("span",{className:S("text-[10px] leading-5"),children:i.btnText})})})]},i.key)})})};ue.displayName=ue.name;var Mt={VITE_PROJECT_ID:"12054aa070d1f1a41e3420b5d40b665d",VITE_APP_BASE:"/memoo-interface",VITE_ENV:"production",VITE_NODE_TYPE:"mainnet",VITE_EXPLORER_API:"https://explorer-api.zklink.io",VITE_EXPLORER_URL:"https://explorer.zklink.io",VITE_NODE_CHAIN_ID:"1123",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const we=Mt.VITE_TWITTER_FOLLOW_REDIRECT_URI,fe=({children:t,ticker:a,onSaveSuccess:r})=>{const[o,n]=s.useState(!1),[l]=V.useForm();s.useState(!1);const[m,f]=s.useState(""),[c,d]=s.useState(""),[x,v]=s.useState(""),[j,p]=s.useState(!1),[N,i]=s.useState({}),[b]=he();s.useEffect(()=>{ht(a).then(u=>{if(u?.data){console.log("TokenDetail: ",u?.data),i(u.data),d(u.data?.banners?u.data?.banners[0]:""),v(u.data.twitter),f(u.data.twitterAccessToken);let w={...u.data,banners:u.data?.oldBanners?u.data?.oldBanners:[],tokenIcon:u.data.icon,projectDescription:u.data.description};try{const T=JSON.parse(localStorage.getItem(Q)??"");T&&(w.projectDescription=T.projectDescription,w.website=T.website,w.bannerUrl&&d(w.bannerUrl))}catch{}l.setFieldsValue(w)}})},[a]);const h=u=>{console.log("Received values of form: ",u)},y=(u,w)=>{console.log("onFieldsChange",u)},g=u=>Array.isArray(u)?u:u?.fileList,E=u=>{if(u)return wt(u).then(w=>{l.setFieldValue("banners",[w.data.file]),d(w.data.fileUrl)}),!1};s.useEffect(()=>{(async()=>{const u=b.get("code"),w=b.get("state"),T=b.get("edit");let P=null;try{P=JSON.parse(localStorage.getItem(K)??"")}catch{}if(P&&w==="twitter"&&u&&P&&T&&P.ticker===a){const _={code:u,grantType:"authorization_code",redirectUri:we,codeVerifier:"challenge",refreshToken:"",appClientId:P.clientId??""};gt(_).then(L=>{const{access_token:A,twitter:U}=L.data;f(A),v(U)}),n(!0)}})()},[b]);const k=()=>{d("")},R=async()=>{const u=l.getFieldsValue();console.log("formData: ",u),u.bannerUrl=c,localStorage.setItem(Q,JSON.stringify(u));let T=(await Te()).data;const P={ticker:a,twitter:x,clientId:T};localStorage.setItem(K,JSON.stringify(P)),ye(T,we)},M=async u=>{try{await l.validateFields();const w=l.getFieldsValue();w.twitter=x||"",w.accessToken=m||"",p(!0);const T=await vt({...w,ticker:a});n(!1),T?.code===200?($.success("modify successfully!"),r(),n(!1)):$.warning("fail in keeping"),localStorage.removeItem(K),localStorage.removeItem(Q)}catch(w){console.log(w)}finally{p(!1)}};return s.useEffect(()=>{o||(localStorage.removeItem(K),localStorage.removeItem(Q))},[o]),e.jsxs(e.Fragment,{children:[e.jsxs(q,{className:"min-w-[717px] edit-project-modal",wrapClassName:"memoo_modal",title:e.jsxs("div",{className:"flex items-center gap-x-[13px]",children:[e.jsx("span",{className:"text-[24px] leading-6 font-404px edit-title",children:"Edit Info"}),e.jsx("img",{src:"/create/icon-edit-project-title.png"})]}),open:o,onCancel:()=>n(!1),footer:null,destroyOnClose:!0,children:[e.jsxs(V,{form:l,layout:"horizontal",disabled:!1,onFinish:h,onFieldsChange:y,className:"edit-project-modal-form h-[409px] overflow-auto mt-[56px]",children:[e.jsx(V.Item,{label:e.jsxs("p",{className:"flex items-end",children:[e.jsx("span",{className:"w-[113px] whitespace-normal",children:"Project Description "}),e.jsx("span",{children:"*"})]}),name:"projectDescription",rules:[{required:!0,message:"Please input Project Description!"}],children:e.jsx(z.TextArea,{showCount:!0,maxLength:450,placeholder:"",style:{height:165,resize:"none",borderRadius:"7px"},className:"text-[#fff] bg-[#2b526e]"})}),e.jsx(V.Item,{label:e.jsxs("p",{children:["Project Twitter ",e.jsx("span",{children:"*"})]}),children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{style:{width:"15px"},className:"mr-[7px]",children:e.jsx(oe,{hoverColor:"#07E993",className:""})}),x&&e.jsx("img",{src:"/create/icon-authed.svg"}),e.jsx($e,{variant:"secondary",className:"w-[136px] h-[32px]",onClick:R,children:x?"CHANGE":"CONNECT"})]})}),e.jsx(V.Item,{label:e.jsx("p",{children:"Project Banner"}),valuePropName:"bannerList",getValueFromEvent:g,name:"banners",children:c?e.jsxs("div",{className:"project-url-container",children:[e.jsx("img",{src:c,alt:""}),e.jsx("span",{className:"icon-url-actions",children:e.jsx(jt,{size:16,onClick:k})})]}):e.jsx(Nt,{listType:"picture-card",accept:"image/*",maxCount:1,beforeUpload:u=>E(u),showUploadList:{showPreviewIcon:!0,showRemoveIcon:!1},style:{width:"100%",height:140},className:"edit-upload-banner",previewFile:u=>new Promise(w=>{const T=new FileReader;T.readAsDataURL(u),T.onload=()=>{w(T.result)}}),children:e.jsx("button",{style:{border:0,background:"none"},type:"button",children:e.jsxs("div",{style:{marginTop:8},className:"flex flex-col jusity-center items-center",children:[e.jsx(lt,{className:""}),e.jsx("p",{className:"font-OCR text-[10px] text-green leading-4 text-center w-[158px] mt-[10px]",children:"Recommended 790px X 307px Max size: 50MB"})]})})})}),e.jsx(V.Item,{label:e.jsx("p",{className:"edit-form-label",children:"Website"}),name:"website",children:e.jsx(z,{maxLength:20,className:"custom-input"})})]}),e.jsx("div",{className:"edit_project flex flex-col",children:e.jsx(B,{className:"memoo_button mt-4 h-[50px]",onClick:()=>M(),loading:j,children:"Save"})})]}),s.Children.map(t,u=>s.isValidElement(u)?s.cloneElement(u,{onClick:()=>n(!0)}):u)]})};fe.displayName=fe.name;var Lt={VITE_PROJECT_ID:"12054aa070d1f1a41e3420b5d40b665d",VITE_APP_BASE:"/memoo-interface",VITE_ENV:"production",VITE_NODE_TYPE:"mainnet",VITE_EXPLORER_API:"https://explorer-api.zklink.io",VITE_EXPLORER_URL:"https://explorer.zklink.io",VITE_NODE_CHAIN_ID:"1123",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const D=s.createContext({stage:"in-queue",mine:!1,ticker:"",idoLaunchedDetailTop10:[]}),ve=()=>{const[t,a]=s.useState("in-queue"),[r,o]=s.useState(),[n,l]=s.useState(),[m,f]=s.useState([]),[c,d]=s.useState(),{ticker:x=Lt.VITE_DEMO_TICKER}=De(),[v,j]=s.useState(0),{address:p}=Y();console.log("my-address:",p);const[N,i]=s.useState(!1);he();const[b,h]=s.useState(),[y,g]=s.useState(),[E,k]=s.useState("0"),{config:R,idoBuy:M,unlockMeme:u,defaultConfig:w,airdropClaim:T,getCanUnlockCount:P,memeUnlockPeriods:_}=Fe(),L=Re(),A=s.useMemo(()=>ne(c?.creatorAddress,p),[c,p]);console.log("idoQueueDetail: ",c,p);const U=s.useCallback(()=>{j(O=>O+1)},[]),ee=s.useMemo(()=>({stage:t,idoActiveDetail:r,idoLaunchedDetail:n,idoLaunchedDetailTop10:m,idoQueueDetail:c,mine:A,ticker:x,memooConfig:R,idoBuy:M,unlockMeme:u,airdropClaim:T,_1stStage:b,_2ndStage:y,defaultConfig:w,triggerRefresh:U,totalPurchased:E}),[t,r,n,m,c,A,x,R,M,u,T,b,y,w,U,E]);return s.useEffect(()=>{(async()=>{try{i(!0);const{data:O}=await dt(x,p||"default");d(O);const{data:F}=await mt(x);if(k(F[0].balance),O.stageTwoClaim)a("2st-claim");else if(O.stageOneClaim)a("1st-claim");else if(O.status==="Launched"){const[te,Ie]=await Promise.all([pt(x,p||"default"),xt({pageNumber:1,pageSize:10,ticker:x,address:p||"default"})]);l(te.data),f(Ie.data),a("launch")}else if(O.status==="IDO"){const{data:te}=await ut(x,p||"default");o(te),a("imo")}else a("in-queue")}catch(O){console.error(O)}finally{i(!1)}})()},[v]),s.useEffect(()=>{!c||!p||(async()=>{{const[O,F]=await Promise.all([P(c.contractAddress,p,0),_(0)]);console.log("1st stage",O,F),h({unlockCount:O,unlockInfo:F})}{const[O,F]=await Promise.all([P(c.contractAddress,p,1),_(1)]);console.log("2nd stage",O,F),g({unlockCount:O,unlockInfo:F})}})()},[c,p,_]),e.jsxs("div",{className:"airdrop pb-16",children:[e.jsx(Ee,{spinning:N,fullscreen:!0}),e.jsx("div",{className:"col-span-full	flex flex-col items-center pt-[70px]",children:A&&e.jsx(D.Provider,{value:ee,children:e.jsx(ue,{})})}),A&&e.jsxs("div",{className:"col-span-full pt-[70px] pb-[22px] pl-[428px] flex items-center justify-between",children:[e.jsx(fe,{ticker:x,onSaveSuccess:U,children:e.jsxs(B,{type:"link",className:"flex items-center h-[40px] gap-x-[11px]",disabled:!A,children:[e.jsx(nt,{className:"",color:"#07E993",hoverColor:"#B53BFF",bgColor:"#B53BFF",hoverBgColor:"#07E993"}),e.jsx("span",{className:"text-bluish-purple-light font-OCR leading-5 text-sm",children:"Edit Info"})]})}),e.jsxs(B,{type:"link",className:"flex items-center h-[40px] gap-x-[11px]",onClick:()=>L("/dashboard"),children:[e.jsx("span",{className:"text-bluish-purple-light font-OCR leading-5 text-sm",children:"Back to Dashboard"}),e.jsx(ot,{className:""})]})]}),e.jsx("div",{className:"airdrop_left flex flex-col gap-y-3.5",children:e.jsxs(D.Provider,{value:ee,children:[c?.status==="Launched"&&e.jsx(ce,{}),t==="imo"&&e.jsx(At,{}),e.jsx(Bt,{}),e.jsx(de,{})]})}),e.jsx("div",{className:"airdrop_right flex flex-col",children:e.jsxs(D.Provider,{value:ee,children:[e.jsx(me,{}),e.jsx(pe,{})]})})]})};ve.displayName=ve.name;export{D as AirdropContext,ve as default};
