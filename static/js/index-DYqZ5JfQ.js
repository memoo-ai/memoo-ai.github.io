import{j as e,b as X}from"./rainbowkit-BXiHI5z-.js";import{u as P,r as t,f as Ie,e as Be}from"./react-DYnGVO3U.js";import{T as fe,a as ge,b as M}from"./tabs-DGW9mgum.js";import{g as De,h as Te,i as Me,j as Oe,B as E,k as J,l as V,m as Le,n as Re,o as Pe,p as ie,q as be,r as le,s as de}from"./index-Dv0oOXRo.js";import{b as $e,g as R,f as S,d as Fe}from"./button-7OzBIT3H.js";import{M as je,C as He}from"./index-rbEYkt-a.js";import{s as O,M as U,I as Ue,S as Qe,a as q}from"./useManageContract-Dg6aJpGE.js";import{I as Ce,B as I,C as ze}from"./index-B9bcNVoW.js";import{h as Q,p as z,R as Ge,U as me}from"./index-Bj1lLk9L.js";import{S as Ne,g as We}from"./common-C5_GDTXL.js";import{g as Ye,m as ke,a as Ke}from"./airdrop-CIXIc8k-.js";import{u as _e}from"./useEthers-DAraQzCD.js";import"./index-gm0dCCeF.js";import{T as Ve}from"./index-DG2xGsTD.js";import"./index-CLdsxVfj.js";import"./maths-CNprVtit.js";const ve=({data:s,children:b,participated:p=!1})=>{const l=P(),d=c=>{let m;switch(c){case"Draft":m=e.jsx(Oe,{className:"Draft"});break;case"QUEUE":m=e.jsx(Me,{className:"Queue"});break;case"IDO":m=e.jsx(Te,{className:"IDO"});break;case"Launched":m=e.jsx(De,{className:"Launched"});break;default:m="";break}return m};return e.jsxs("div",{className:"dashboard_item",onClick:()=>{s.status!=="Draft"&&l(`/airdrop/${s.ticker}`)},children:[e.jsxs("div",{className:"dashboard_item_tag",children:[e.jsx("div",{className:"dashboard_item_tag_left"}),e.jsxs("div",{className:"dashboard_item_tag_right",children:[e.jsx("h3",{className:"mr-[11px]",style:{color:s.status==="Draft"?"#7d83b5":"#b53bff"},children:s.status}),e.jsx("div",{children:d(s.status)})]})]}),e.jsxs("div",{className:"dashboard_item_info",children:[s.icon?e.jsx("img",{className:"dashboard_item_info_img",src:s.icon,alt:""}):e.jsx("div",{className:"dashboard_item_info_img"}),e.jsxs("div",{className:"dashboard_item_info_title",children:[e.jsx("h3",{children:s.tokenName}),e.jsx("p",{children:s.ticker})]})]}),e.jsxs("div",{className:"dashboard_item_content",children:[e.jsx("div",{className:"dashboard_item_content_left",children:"Total Raised"}),e.jsx("div",{className:"dashboard_item_content_right",children:s.totalRaised})]}),e.jsxs("div",{className:"dashboard_item_content",children:[e.jsx("div",{className:"dashboard_item_content_left",children:"Launch Date"}),e.jsx("div",{className:"dashboard_item_content_right",children:s.launchDate?$e(s.launchDate??0):""})]}),e.jsxs("div",{className:"dashboard_item_content",children:[e.jsx("div",{className:"dashboard_item_content_left",children:"MeMoo Score"}),e.jsx("div",{className:"dashboard_item_content_right",children:s.meMooScore})]}),p&&e.jsxs("div",{className:"dashboard_item_content",children:[e.jsx("div",{className:"dashboard_item_content_left",children:"Contributed"}),e.jsx("div",{className:"dashboard_item_content_right",children:s.contributed??0})]}),e.jsx("div",{onClick:c=>c.stopPropagation(),children:b})]})},Xe=({children:s})=>{const{address:b}=X(),[p,l]=t.useState(!1),[d,c]=t.useState(!1),{unlockMeme:m,defaultConfig:n,stage:o,idoQueueDetail:r,_1stStage:i,_2ndStage:f}=t.useContext(Z),C=t.useMemo(()=>R(new E(Number(i?.unlockInfo?.unlockRate)).dividedBy(1e4).multipliedBy(100).toNumber()),[o,i,f]),N=t.useMemo(()=>{const x=parseFloat(o==="1st"?S(new E(i?.unlockCount??0).dividedBy(10**(n?.defaultDecimals??0))):S(new E(f?.unlockCount??0).dividedBy(10**(n?.defaultDecimals??0))));return R(x)},[o,i,f]),v=t.useMemo(()=>Fe(Number(i?.unlockInfo?.value)/1e3),[o,i,f]),g=t.useMemo(()=>R(parseFloat(S(Number(i?.unlockInfo?.value)))),[o,i,f]),u=t.useCallback(async()=>{if(!(!m||!r||!b))try{c(!0),await m(r.contractAddress,o==="1st"?0:1),l(!1),O.success("Unlock Successful")}catch(x){console.error(x),O.error("Unlock Failed")}finally{c(!1)}},[m,r]);return e.jsxs("div",{children:[e.jsxs(U,{className:"min-w-[604px]",wrapClassName:"memoo_modal",title:"",open:p,onCancel:()=>l(!1),footer:null,destroyOnClose:!0,closeIcon:e.jsx(J,{className:"close"}),children:[e.jsx("div",{className:"modal_title",children:"Claim Tokens"}),e.jsxs("div",{className:"claim_tokens flex flex-col",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("div",{className:"flex items-center gap-x-[15px]",children:[e.jsx("p",{className:"whitespace-pre font-OCR text-base leading-[18px] text-white",children:`Redeem ${o} ${C}%
unlocked tokens`}),e.jsx("img",{className:"w-[111px] object-contain",src:"/create/img-claim.png"})]}),e.jsxs("div",{className:"flex items-center gap-x-[14px]",children:[o==="1st"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col items-end",children:[e.jsx("span",{className:"font-404px text-white text-[24px] leading-[29px]",children:v}),e.jsx("span",{className:"font-OCR text-white text-base leading-[21px]",children:"Next Unlock"})]}),e.jsx("img",{className:"w-[50px]",src:"/create/icon-claim-unlock.png"})]}),o==="2nd"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col items-end",children:[e.jsx("span",{className:"font-404px text-white text-[24px] leading-[29px]",children:Number(g).toLocaleString()}),e.jsx("span",{className:"font-OCR text-white text-base leading-[21px]",children:"Claim Completed"})]}),e.jsx("img",{className:"w-[50px]",src:"/create/icon-claim-done.png"})]})]})]}),e.jsx(Ce,{disabled:!0,className:"memoo_input h-[66px]",placeholder:"Claimable LEASH",suffix:e.jsx("span",{className:"text-[24px] text-white font-404px leading-[22px]",children:Number(N).toLocaleString()})}),e.jsx(I,{loading:d,className:"memoo_button w-[100%] mt-[77px] h-[50px]",onClick:u,children:"Confirm"})]})]}),t.Children.map(s,x=>{if(t.isValidElement(x)){const k=x.props.onClick;return t.cloneElement(x,{onClick:async B=>{k&&(await k(B),setTimeout(()=>{l(!0)},1e3))}})}return x})]})},H=({children:s,maxIncrease:b,maxProportion:p,firstProportion:l,firstIncrease:d,purchased:c,onCalculated:m})=>{const[n,o]=t.useState(!1),[r,i]=t.useState(!1),[f,C]=t.useState(!1),[N,v]=t.useState(c),[g,u]=t.useState(0),x=c*1e3,{idoBuy:k,idoQueueDetail:B}=t.useContext(Z);t.useEffect(()=>{v(l*100)},[l]),t.useEffect(()=>{const j=N/100,D=parseFloat(S(d*(j/l)));console.log("increasing proportion:",D),u(D),m?.(D)},[N,l,d]),t.useEffect(()=>{c&&v(x)},[c]);const G=t.useCallback(async()=>{if(!(!k||!B))try{C(!0),console.log(g),console.log("firstIncreaseD:",d),await k(B.contractAddress,new E(g-c)),o(!1),O.success("Buy Successful")}catch(j){console.error(j),O.error("Buy Failed")}finally{C(!1)}},[k,B,g,d]);return e.jsxs(e.Fragment,{children:[e.jsxs(U,{wrapClassName:"memoo_modal",title:"",open:n,onCancel:()=>o(!1),footer:null,destroyOnClose:!0,children:[e.jsx("div",{className:"modal_title",children:"Increase Acquisition"}),e.jsxs("div",{className:" pt-[35px] flex flex-col",children:[e.jsxs("div",{className:"flex gap-x-[37px]",children:[e.jsxs("div",{className:"flex items-end",children:[e.jsx("span",{className:"whitespace-pre-wrap text-base font-OCR text-white leading-[18px]",children:`Pre-Market
Acquisition`}),e.jsx("div",{className:"tip_ico_wrapper h-[18px] flex items-center ml-[12px]",children:e.jsx(Ue,{className:"h-[12px] ",placement:"bottom",title:`Lorem ipsum dolor sit amet consectetur adipiscing elit.
                Morbi fringilla ipsum turpisı sit amet tempus est malesuadased.
                Integer fringilla magnavel orci ultricies fermentum.
                Suspendisse sem est.`,color:"#fff",bgColor:"#396D93"})})]}),e.jsxs("div",{className:"flex flex-auto items-center gap-x-3",children:[e.jsxs("span",{className:"whitespace-nowrap text-base font-OCR text-white leading-[16px]",children:[d," ETH"]}),e.jsx(Qe,{className:"memoo_slider flex-auto",tooltip:{open:!0,rootClassName:"memoo_slider_tooltip",formatter:j=>`${j}%`},onChange:j=>{j>c*1e3?v(j):v(c*1e3)},value:N,max:p*100,min:l*100,defaultValue:x}),e.jsxs("span",{className:"whitespace-nowrap text-base font-OCR text-white leading-[16px]",children:[b," ETH"]})]})]}),e.jsx("p",{className:"font-OCR text-[#4889B7] whitespace-pre-wrap mt-[7px] mb-[19px]",children:`Creator can increase initial
allocation from ${l*100}% to ${p*100}%.`}),e.jsx(Ce,{className:"memoo_input h-[66px]",value:"Pre-Market Acquisition",suffix:e.jsx("span",{className:"text-[24px] text-white font-404px leading-[22px]",children:`${S(g-c)} ETH`})}),e.jsxs(ze,{className:"font-OCR text-[12px] text-[#4889B7] my-[24px]",onChange:j=>i(j.target.checked),children:["I accept MeMoo’s ",e.jsx("a",{className:"contents text-green",children:"Terms & Conditions."})]}),e.jsx("div",{children:e.jsx(I,{disabled:!r&&Number(S(g))-c<=0,className:"memoo_button w-[100%] h-[50px]",loading:f,onClick:G,children:"Confirm"})})]})]}),t.Children.map(s,j=>{if(t.isValidElement(j)){const D=j.props.onClick;return t.cloneElement(j,{onClick:async W=>{D&&(await D(W),setTimeout(()=>{o(!0)},1e3))}})}return j})]})};H.displayName=H.name;const Je=s=>Q.get(`${z}/web-oriented/creator`,{params:s}),qe=s=>Q.get(`${z}/web-oriented/collector-airdrop`,{params:s}),Ze=s=>Q.get(`${z}/web-oriented/collector-participated`,{params:s}),et=s=>Q.delete(`${z}/web-oriented/token/${s}`),Z=t.createContext({totalPurchased:""}),ue=11,tt=()=>{const s=P(),[b,p]=t.useState(0),[l,d]=t.useState(0),[c,m]=t.useState(""),[n,o]=t.useState(!1),[r,i]=t.useState(""),[f,C]=t.useState([]),[N,v]=t.useState(1),g=t.useRef({}),[u,x]=t.useState(),[k,B]=t.useState("1st"),[G,j]=t.useState(),[D,W]=t.useState(),{address:T}=X(),{config:w,idoBuy:te,defaultConfig:_,airdropClaim:se,unlockMeme:ae,getCanUnlockCount:re,memeUnlockPeriods:ne}=q(),L=t.useMemo(()=>Number(w?.allocation.creator)/1e4,[w]),oe=t.useMemo(()=>{if(!w||!_)return 0;const a=new E(Number(c)),h=new E(Number(_?.idoPrice)).dividedBy(10**_?.defaultDecimals);return parseFloat(S(a.multipliedBy(h)))},[w,_,c]),$=t.useMemo(()=>(Number(w?.idoCreatorBuyLimit)+Number(w?.allocation.creator))/1e4,[w]),F=t.useMemo(()=>{if(!w||!_)return 0;const a=new E(Number(_?.totalSupply)).dividedBy(10**_?.defaultDecimals),h=new E(Number(_?.idoPrice)).dividedBy(10**_?.defaultDecimals),A=a.multipliedBy(h).multipliedBy(L);return parseFloat(S(A))},[w,L,_]),ce=t.useMemo(()=>parseFloat(S(F*($/L))),[L,$,F]),we=t.useMemo(()=>({idoQueueDetail:u,idoBuy:te,memooConfig:w,airdropClaim:se,_1stStage:G,_2ndStage:D,defaultConfig:_,totalPurchased:c,stage:k,unlockMeme:ae}),[u,te,se,ae,w,_,c,k]),Y=async a=>{try{o(!0);const{data:h}=await Ye(a,T||"default");x(h);const{data:A}=await We(a);if(m(A[0].balance),o(!1),h.stageTwoClaim&&T?B("2nd"):h.stageOneClaim&&T&&B("1st"),!T)return;const[y,K]=await Promise.all([re(h.contractAddress,T,1),ne(1)]);console.log("2nd stage",y,K),W({unlockCount:y,unlockInfo:K});const[Ae,Se]=await Promise.all([re(h.contractAddress,T,0),ne(0)]);console.log("1st stage",Ae,Se),j({unlockCount:y,unlockInfo:K})}catch(h){console.error("Error fetching data:",h)}finally{o(!1)}};t.useEffect(()=>{(async()=>{try{o(!0);const{data:a}=await Je({pageNumber:N,pageSize:ue,status:r});C(a.records??[]),p(a.total_record??0),o(!1)}catch(a){console.error("Error fetching data:",a)}finally{o(!1)}})()},[r,N,l]);const ye=async a=>{try{o(!0),await et(a),setTimeout(()=>d(h=>h+1),200),o(!1)}catch(h){console.log(h)}finally{o(!1)}},Ee=(a,h)=>{let A;switch(a.status){case"Draft":A=e.jsx(Pe,{className:"draft",color:a.status==="Draft"?"#7D83B5":"#242842",hoverColor:a.status==="Draft"?"#07E993":"#242842",bgColor:a.status==="Draft"?"#383C61":"#242842",hoverBgColor:a.status==="Draft"?"#1F3B4F":"#242842",style:{border:a.status==="Draft"?"none":"1px solid #07E993"},onClick:()=>{ye(a.ticker),setTimeout(()=>d(y=>y+1),200)}});break;case"QUEUE":A=e.jsx(H,{maxIncrease:ce,firstProportion:L,maxProportion:$,firstIncrease:F,purchased:oe,children:e.jsxs(I,{className:"flex items-center justify-between creator-btn",onMouseOver:()=>g.current[`increase${h}`].setHovered(!0),onMouseLeave:()=>g.current[`increase${h}`].setHovered(!1),onClick:()=>{Y(a.ticker)},children:[e.jsx(ie,{className:"QueueBtn",ref:y=>g.current[`increase${h}`]=y}),e.jsx("span",{className:"ml-[9px]",children:"INCREASE"})]})});break;case"IDO":A=e.jsx(H,{maxIncrease:ce,firstProportion:L,maxProportion:$,firstIncrease:F,purchased:oe,children:e.jsxs(I,{className:"flex items-center justify-between creator-btn",onMouseOver:()=>g.current[`increase${h}`].setHovered(!0),onMouseLeave:()=>g.current[`increase${h}`].setHovered(!1),onClick:()=>{Y(a.ticker)},children:[e.jsx(ie,{className:"QueueBtn",ref:y=>g.current[`increase${h}`]=y}),e.jsx("span",{className:"ml-[9px]",children:"INCREASE"})]})});break;case"Launched":A=e.jsxs(Xe,{ticker:a.ticker,children:[" ",e.jsxs(I,{className:"flex items-center justify-between creator-btn",onMouseOver:()=>g.current[`LaunchedBtn${h}`].setHovered(!0),onMouseLeave:()=>g.current[`LaunchedBtn${h}`].setHovered(!1),disabled:!a.stageOneClaim,onClick:()=>{Y(a.ticker)},children:[e.jsx(Re,{className:"LaunchedBtn",color:"#07E993",ref:y=>g.current[`LaunchedBtn${h}`]=y}),e.jsx("span",{className:"ml-[9px]",children:"CLAIM"})]},"increase")]});break;default:A="";break}return A};return e.jsxs("div",{className:"dashboard_items",children:[e.jsxs("div",{className:"dashboard_top",children:[e.jsx("div",{}),e.jsx("div",{children:e.jsx(fe,{defaultValue:"",onValueChange:a=>{i(a),v(1)},children:e.jsxs(ge,{children:[e.jsx(M,{value:"",children:"ALL"}),e.jsx(M,{value:"Draft",children:"Draft"}),e.jsx(M,{value:"QUEUE",children:"Queue"}),e.jsx(M,{value:"IDO",children:"IMO"}),e.jsx(M,{value:"Launched",children:"LAUNCHED"})]})})})]}),e.jsxs("div",{className:"dashboard_items_items",children:[e.jsxs("div",{className:"dashboard_item_create",onClick:()=>{s("/create_token")},children:[e.jsx(V,{className:"dashboard_item_create_add"}),e.jsx("p",{children:"Create Token"})]}),e.jsx(Ne,{spinning:n,fullscreen:!0}),e.jsx(Z.Provider,{value:we,children:f.map((a,h)=>e.jsx(ve,{data:a,children:e.jsxs("div",{className:"flex justify-between items-center mt-[15px]",children:[e.jsx("div",{children:Ee(a,h)}),e.jsx("div",{className:a.status==="Draft"?"draft":"",onClick:()=>{s(a.status==="Draft"||a.status==="Waiting_for_pay"?`/create_token?ticker=${a.ticker}`:`/airdrop/${a.ticker}`)},children:e.jsx(Le,{className:"dashboard_item_create_edit",color:a.status==="Draft"?"#7D83B5":"#07E993",hoverColor:a.status==="Draft"?"#07E993":"#000",bgColor:a.status==="Draft"?"#383C61":"#242842",hoverBgColor:a.status==="Draft"?"#1F3B4F":"#07E993",style:{border:a.status==="Draft"?"none":"1px solid #07E993"}})})]})},h))})]}),e.jsx("div",{className:"mt-[60px]",children:e.jsx(je,{currentPage:N,total:b,pageSize:ue,onChangePageNumber:a=>{v(a)}})}),e.jsx("div",{className:"flex justify-center",children:e.jsx("img",{className:"w-[172.66px] has-[101.46px] mt-[53px]",src:"./dashboard/dashboard_bottom_icon.png",alt:""})})]})},st=({children:s})=>{const[b,p]=t.useState(!1),{airdropClaim:l}=q(),[d,c]=t.useState(!1),{getSign:m}=_e(),{idoLaunchedDetail:n}=t.useContext(ee),o=t.useCallback(async()=>{if(!(!l||!n))try{c(!0);const r=await m(),{data:i}=await ke({ticker:n?.ticker??"",signature:r?.rawSignature??"",timestap:r?.msg??""});console.log("contractAddress:",n?.contractAddress),console.log("airdropCount:",new E(i?.airdropCount)),console.log("jsonData:",i?.jsonData),console.log("signature:",i?.signature),await l(n?.contractAddress,new E(i?.airdropCount),`0x${i?.hexMessage}`,`0x${i?.hexSignature}`)}catch(r){console.error(r),O.error("Claim Failed")}finally{c(!1)}},[l,n]);return e.jsxs("div",{children:[e.jsxs(U,{title:"",open:b,onOk:()=>{},onCancel:()=>{p(!1)},width:604,destroyOnClose:!0,footer:null,closeIcon:e.jsx(J,{className:"close"}),children:[e.jsx("div",{className:"confirm_title",children:"Airdrop Unlocked"}),e.jsxs("div",{className:"confirm_content",children:[e.jsx("img",{className:"mt-[15px]",src:"./dashboard/reward.svg",alt:""}),e.jsxs("div",{className:"confirm_content_title mt-[18px]",children:[n?.tokenName," has arrived!"]}),e.jsx("div",{className:"confirm_content_describe mt-[18px]",children:"Thanks for being part of the Dogwifhat community."}),e.jsxs("div",{className:"confirm_content_wif",children:[e.jsx(be,{className:"airdrop_lock",color:"#07E993",bgColor:"#2B526E"})," ",R(Number(n?.count).toLocaleString())]}),e.jsx(I,{className:"mt-[16px] memoo_button w-[100%] h-[50px]",onClick:o,loading:d,disabled:R(Number(n?.count).toLocaleString())===0,children:"CLAIM ALL"})]})]}),t.Children.map(s,r=>{if(t.isValidElement(r)){const i=r.props.onClick;return t.cloneElement(r,{onClick:async f=>{i&&(await i(f),setTimeout(()=>{p(!0)},1e3))}})}return r})]})},at=()=>{const s=P();return e.jsxs("div",{className:"dashboard_item_create",children:[e.jsxs("div",{className:"dashboard_item_create_item",onClick:()=>s("/?type=airdrop"),children:[e.jsx(V,{className:"dashboard_item_create_add"}),e.jsx("p",{children:"Hunt for Airdrops"})]}),e.jsxs("div",{className:"dashboard_item_create_item",onClick:()=>s("/?type=imo"),children:[e.jsx(V,{className:"dashboard_item_create_add"}),e.jsx("p",{children:"Participate in IMOs"})]})]})},rt=({children:s})=>{const[b,p]=t.useState(!1),{idoClaim:l}=q(),[d,c]=t.useState(!1),{getSign:m}=_e(),{idoLaunchedDetail:n}=t.useContext(ee),o=t.useCallback(async()=>{if(!(!l||!n))try{c(!0);const r=await m(),{data:i}=await ke({ticker:n?.ticker??"",signature:r?.rawSignature??"",timestap:r?.msg??""});console.log("contractAddress:",n?.contractAddress),console.log("airdropCount:",new E(i?.airdropCount)),console.log("jsonData:",i?.jsonData),console.log("signature:",i?.signature),await l(n?.contractAddress),p(!1),O.success("Claim Successful")}catch(r){console.error(r),O.error("Claim Failed")}finally{c(!1)}},[l,n]);return e.jsxs("div",{children:[e.jsxs(U,{title:"",open:b,wrapClassName:"memoo_modal",onOk:()=>{},onCancel:()=>{p(!1)},width:604,destroyOnClose:!0,footer:null,closeIcon:e.jsx(J,{className:"close"}),children:[e.jsx("div",{className:"confirm_title",children:"IMO ALLOCATION UNLOCKED"}),e.jsxs("div",{className:"confirm_content",children:[e.jsx("img",{className:"mt-[15px]",src:"./dashboard/reward.svg",alt:""}),e.jsxs("div",{className:"confirm_content_title mt-[18px]",children:[n?.tokenName," has arrived!"]}),e.jsxs("div",{className:"confirm_content_describe mt-[18px]",children:["For your participation of ",n?.contributed," ETH in ",n?.tokenName," IMO, ",e.jsx("br",{})," ","you can now unlock you allocation below."]}),e.jsxs("div",{className:"relative mt-[26px] w-full",children:[e.jsx(be,{className:"absolute left-[25px] top-[50%] translate-y-[-50%] z-10"}),e.jsxs("div",{className:"memoo_input h-[66px] font-404px text-white text-[24px] text-center flex items-center justify-center",children:[e.jsx("img",{className:"w-[50px] h-[50px] rounded-[50%]",src:n?.icon,alt:""})," ",e.jsxs("span",{children:[" ",(n?.imoBalance??0)-(n?.claimImoBalance??0),"  "]}),e.jsx("span",{children:n?.ticker})]})]}),e.jsx(I,{className:"mt-[16px] memoo_button w-[100%] h-[50px]",onClick:o,loading:d,disabled:R(Number(n?.count).toLocaleString())===0,children:"CLAIM ALL"})]})]}),t.Children.map(s,r=>{if(t.isValidElement(r)){const i=r.props.onClick;return t.cloneElement(r,{onClick:async f=>{i&&(await i(f),setTimeout(()=>{p(!0)},1e3))}})}return r})]})},ee=t.createContext({ticker:""}),xe=11,nt=()=>{P();const[s,b]=t.useState(0),[p,l]=t.useState(!1),[d,c]=t.useState("Airdrop"),[m,n]=t.useState(1),o=t.useRef({}),[r,i]=t.useState([]),[f,C]=t.useState(),{address:N}=X(),v=t.useMemo(()=>({idoLaunchedDetail:f}),[f]);t.useEffect(()=>{(async()=>{try{l(!0);let u={pageNumber:m,pageSize:xe};const{data:x}=d==="Airdrop"?await qe(u):await Ze(u);i(x.records??[]),b(x.total_record),l(!1)}catch(u){console.error("Error fetching data:",u)}finally{l(!1)}})()},[d,m]);const g=async u=>{try{l(!0);const{data:x}=await Ke(u,N||"default");C(x),l(!1)}catch(x){console.error("Error fetching data:",x)}finally{l(!1)}};return e.jsxs("div",{className:"dashboard_items",children:[e.jsxs("div",{className:"dashboard_top",children:[e.jsx("div",{}),e.jsx("div",{children:e.jsx(fe,{defaultValue:"Airdrop",onValueChange:u=>{c(u)},children:e.jsxs(ge,{children:[e.jsx(M,{value:"Airdrop",children:"Airdrop"}),e.jsx(M,{value:"Participated",children:"Participated"})]})})})]}),e.jsxs("div",{className:"dashboard_items_items",children:[e.jsx(at,{}),e.jsx(Ne,{spinning:p,fullscreen:!0}),e.jsx(ee.Provider,{value:v,children:r.map((u,x)=>e.jsx(ve,{data:u,participated:d==="Participated",children:e.jsxs("div",{className:"flex justify-between items-end mt-[15px]",children:[d==="Airdrop"&&e.jsx("div",{children:u&&"claimFlag"in u&&u?.claimFlag?e.jsxs(st,{ticker:u.ticker,children:[" ",e.jsxs(I,{className:"flex items-center justify-between collector-btn",onMouseOver:()=>o.current[`AirdropBtn${x}`].setHovered(!0),onMouseLeave:()=>o.current[`AirdropBtn${x}`].setHovered(!1),disabled:!u.claimFlag,onClick:()=>{g(u.ticker)},children:[e.jsx(le,{className:"IconAirdropBtn",color:"#07E993",ref:k=>o.current[`AirdropBtn${x}`]=k}),e.jsx("span",{className:"ml-[9px]",children:"CLAIM AIRDROP"})]},"increase")]}):e.jsxs("div",{className:"flex",children:[e.jsx(de,{className:"IconAwaiting"})," ",e.jsx("span",{className:"font-404px text-[#07E993] ml-[11px]",children:"AWAITING"})]})}),d==="Participated"&&e.jsx("div",{children:u&&"isParticipateImo"in u&&u?.isParticipateImo?e.jsxs(rt,{ticker:u.ticker,children:[" ",e.jsxs(I,{className:"flex items-center justify-between collector-btn",onMouseOver:()=>o.current[`AirdropBtn${x}`].setHovered(!0),onMouseLeave:()=>o.current[`AirdropBtn${x}`].setHovered(!1),onClick:()=>{g(u.ticker)},children:[e.jsx(le,{className:"IconAirdropBtn",color:"#07E993",ref:k=>o.current[`AirdropBtn${x}`]=k}),e.jsx("span",{className:"ml-[9px]",children:"CLAIM IMO TOKENS"})]},"increase")]}):e.jsxs("div",{className:"flex",children:[e.jsx(de,{className:"IconAwaiting"})," ",e.jsx("span",{className:"font-404px text-[#07E993] ml-[11px]",children:"AWAITING"})]})})]})},x))})]}),e.jsx("div",{className:"mt-[60px]",children:e.jsx(je,{currentPage:m,total:s,pageSize:xe,onChangePageNumber:u=>{n(u)}})}),e.jsx("div",{className:"flex justify-center",children:e.jsx("img",{className:"w-[172.66px] has-[101.46px] mt-[53px]",src:"./dashboard/dashboard_bottom_icon.png",alt:""})})]})};t.createContext({profileDetail:{icon:"https://memoo-res.s3.amazonaws.com/7b06d9d4-3b49-46d7-ba2b-f835e8341e0d?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAZ5SIXM4BHIM2XBI5%2F20240618%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20240618T060929Z&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=d869fae7ba01c58755f563066211607465175c6985d6a64907b86f8913517ece",banners:[""],tokensCreated:21,collectiveMCap:"3,630,581,973",collectiveATHMCap:"150,495,392,846",totalHolders:"345,682",totalHoldersGrowth:"-1%",id:"123",website:"website",twitter:"twitter",marketCap:"630,581,973",athMarketCap:"1,495,392,846",holders:"684123135",holdersGrowth:"+21%",ticker:"Tick"}});const ot=({onChangeType:s,...b})=>{const[p,l]=t.useState("Creator"),d=Ie(),c=t.useCallback(n=>{l(n),s(n)},[]);t.useEffect(()=>{const o=new URLSearchParams(d.search).get("type");o&&(l(o),s(o))},[d.search]);const m=[{key:"Creator",label:"Creator",children:e.jsx(tt,{})},{key:"Collector",label:"Collector",children:e.jsx(nt,{})}];return e.jsx("div",{children:e.jsx(Ve,{activeKey:p,onChange:c,items:m})})},he="/static/png/dashboard_banner1-BSOAD2gK.png",ct="/static/png/dashboard_banner2-BXTyEJYE.png",it="/static/png/dashboard_banner3-CZCEKJtD.png",lt="/static/png/dashboard_banner4-BrejGIxr.png",pe="/static/png/dashboard_banner_bg1-HR4bGbuU.png",dt="/static/png/dashboard_banner_bg2-Bkk65FCO.png",mt="/static/png/dashboard_banner_bg3-COWuAkJx.png",ut="/static/png/dashboard_banner_bg4-5A4RJNO-.png",xt="/static/png/header-banner-bg-DSgC4JYw.png",It=()=>{const[s]=Be(),b=P(),[p,l]=t.useState("creator");t.useEffect(()=>{const r=s.get("code"),i=s.get("state");let f=null,C=null;try{f=JSON.parse(localStorage.getItem(Ge)??"")}catch{}try{C=JSON.parse(localStorage.getItem(me)??"")}catch{}console.log("updateParams: ",C,localStorage.getItem(me)),!(!f&&!C)&&(i==="twitter"&&r&&f?b(`/airdrop/${f.ticker}?code=${r}&state=${i}`):i==="twitter"&&r&&C&&b(`/airdrop/${C.ticker}?code=${r}&state=${i}&edit=true`))},[s]);const[d,c]=t.useState({title:"Exclusive ‘Proof of Creation’ Reward for Creators.",desc:"Exciting Rewards for Exceptional Talent in Meme Creation.",link:"/",linkText:"BE A CREATOR"}),[m,n]=t.useState({title:"Exclusive ‘Proof of Creation’ Reward for Creators.",title1:"",desc:"Exciting Rewards for Exceptional Talent in Meme Creation.",rightImg:he,bg:pe}),o=t.useCallback(r=>{switch(console.log(r),l(r),r){case"Profile":n({title:"Unleash the Degen in You",title1:"and get Rewarded.",desc:"Build Your Creator Reputation to Unlock Rewards.",rightImg:lt,bg:ut}),c({title:"Exclusive ‘Proof of Creation’ Reward for Creators.",desc:"Exciting Rewards for Exceptional Talent in Meme Creation.",link:"/gecko?type=CREATOR Ranking",linkText:"BE A CREATOR"});break;case"Creator":n({title:"Begin Your Meme",title1:"Token Empire Today.",desc:"Exciting Rewards for Exceptional Talent in Meme Creation.",rightImg:he,bg:pe}),c({title:"Get Recognized and Stand Among Meme Gods.",desc:"See Where You Stand Within the Creator Ranks.",link:"/create_token",linkText:"BE A CREATOR"});break;case"Collector":n({title:"Begin Your Meme",title1:"Token Empire Today.",desc:"Exciting Rewards for Exceptional Talent in Meme Creation.",rightImg:ct,bg:dt}),c({title:"Don’t Miss Out on Airdrops.",desc:"Your Chance to Score Free Meme Treasures.",link:"/",linkText:"LAUNCHPAD"});break;case"WatchList":n({title:"Begin Your Meme",title1:"Token Empire Today.",desc:"Exciting Rewards for Exceptional Talent in Meme Creation.",rightImg:it,bg:mt}),c({title:"Let MeMoo Score do the Work for You.",desc:"The Key to Informed Meme Token Decision Making.",link:"/gecko",linkText:"MEMOOGECKO"});break;default:c({title:"Exclusive ‘Proof of Creation’ Reward for Creators.",desc:"Exciting Rewards for Exceptional Talent in Meme Creation.",link:"/create_token",linkText:"BE A CREATOR"});break}},[m,d]);return e.jsxs("div",{className:"page",children:[e.jsx("div",{className:"dashboard-header-banner-bg",style:{background:`url(${xt}) no-repeat`,backgroundSize:"cover"},children:e.jsxs("div",{className:"dashboard-header-banner-content",children:[e.jsxs("div",{className:"dashboard-header-banner-left flex  flex-col",children:[e.jsxs("p",{className:"dashboard-left-text",children:[e.jsxs("span",{children:[" ",m.title]})," ",e.jsx("br",{}),e.jsxs("span",{className:"mt-[15px]",children:[" ",m.title1]})]}),e.jsx("p",{className:"dashboard-left-sub-text",children:m.desc})]}),e.jsx("div",{style:{height:p==="Collector"?"100%":"auto"},children:e.jsx("img",{className:"w-[497px] h-[370px]",src:m.rightImg,alt:""})})]})}),e.jsxs("div",{className:"dashboard",children:[e.jsx("div",{className:"dashboard_content",children:e.jsx(ot,{onChangeType:r=>{o(r)}})}),e.jsxs("div",{children:[" ",e.jsx(He,{title:d.title,desc:d.desc,link:d.link,linkText:d.linkText,bgType:2})]})]})]})};export{It as default};
