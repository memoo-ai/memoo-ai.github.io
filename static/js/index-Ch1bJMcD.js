import{a as Vl,d as zl,u as jl,e as Ot,f as Jl,z as Kl,s as Wl,g as Yl,R as Xl,h as Zl,j as C,i as Os,k as ql,C as eu,l as tu,m as it,n as nu,o as ru,p as su}from"./rainbowkit-CFI-IBRJ.js";import{r as d,d as ou,e as Ts,b as iu,R as De,u as Vi,f as zi,L as au,N as cu,g as lu,O as uu}from"./react-DkaadBZG.js";import{B as fu,d as du,e as hu,f as pu,g as mu,h as ji,i as gu,a as wu,b as Ji,c as Ki,I as yu}from"./index-CAGPOpVC.js";import{a as ie,b as ce,c as fe,_ as R,d as Wi,e as Zn,t as Yi,f as An,$ as qn,g as Is,h as Xi,i as bu,j as Au,k as Zi,l as qi,m as ae,u as Eu,T as ea,n as ur}from"./index-cGsRABlK.js";function D(n,e,{checkForDefaultPrevented:t=!0}={}){return function(s){if(n?.(s),t===!1||!s.defaultPrevented)return e?.(s)}}function vu(n,e=globalThis?.document){const t=ie(n);d.useEffect(()=>{const r=s=>{s.key==="Escape"&&t(s)};return e.addEventListener("keydown",r),()=>e.removeEventListener("keydown",r)},[t,e])}const ss="dismissableLayer.update",Cu="dismissableLayer.pointerDownOutside",xu="dismissableLayer.focusOutside";let ho;const Pu=d.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ru=d.forwardRef((n,e)=>{var t;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:i,onInteractOutside:a,onDismiss:c,...l}=n,u=d.useContext(Pu),[f,h]=d.useState(null),p=(t=f?.ownerDocument)!==null&&t!==void 0?t:globalThis?.document,[,g]=d.useState({}),m=ce(e,M=>h(M)),A=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=A.indexOf(y),N=f?A.indexOf(f):-1,T=u.layersWithOutsidePointerEventsDisabled.size>0,I=N>=v,j=Nu(M=>{const k=M.target,Q=[...u.branches].some(be=>be.contains(k));!I||Q||(o?.(M),a?.(M),M.defaultPrevented||c?.())},p),$=Su(M=>{const k=M.target;[...u.branches].some(be=>be.contains(k))||(i?.(M),a?.(M),M.defaultPrevented||c?.())},p);return vu(M=>{N===u.layers.size-1&&(s?.(M),!M.defaultPrevented&&c&&(M.preventDefault(),c()))},p),d.useEffect(()=>{if(f)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(ho=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),po(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=ho)}},[f,p,r,u]),d.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),po())},[f,u]),d.useEffect(()=>{const M=()=>g({});return document.addEventListener(ss,M),()=>document.removeEventListener(ss,M)},[]),d.createElement(fe.div,R({},l,{ref:m,style:{pointerEvents:T?I?"auto":"none":void 0,...n.style},onFocusCapture:D(n.onFocusCapture,$.onFocusCapture),onBlurCapture:D(n.onBlurCapture,$.onBlurCapture),onPointerDownCapture:D(n.onPointerDownCapture,j.onPointerDownCapture)}))});function Nu(n,e=globalThis?.document){const t=ie(n),r=d.useRef(!1),s=d.useRef(()=>{});return d.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let l=function(){ta(Cu,t,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},i=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),e.removeEventListener("pointerdown",o),e.removeEventListener("click",s.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function Su(n,e=globalThis?.document){const t=ie(n),r=d.useRef(!1);return d.useEffect(()=>{const s=o=>{o.target&&!r.current&&ta(xu,t,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function po(){const n=new CustomEvent(ss);document.dispatchEvent(n)}function ta(n,e,t,{discrete:r}){const s=t.originalEvent.target,o=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&s.addEventListener(n,e,{once:!0}),r?Wi(s,o):s.dispatchEvent(o)}const Ou=ou.useId||(()=>{});let Tu=0;function ln(n){const[e,t]=d.useState(Ou());return Zn(()=>{n||t(r=>r??String(Tu++))},[n]),n||(e?`radix-${e}`:"")}const Iu=d.forwardRef((n,e)=>{var t;const{container:r=globalThis==null||(t=globalThis.document)===null||t===void 0?void 0:t.body,...s}=n;return r?Ts.createPortal(d.createElement(fe.div,R({},s,{ref:e})),r):null});function ku(n,e){return d.useReducer((t,r)=>{const s=e[t][r];return s??t},n)}const Ye=n=>{const{present:e,children:t}=n,r=Mu(e),s=typeof t=="function"?t({present:r.isPresent}):d.Children.only(t),o=ce(r.ref,s.ref);return typeof t=="function"||r.isPresent?d.cloneElement(s,{ref:o}):null};Ye.displayName="Presence";function Mu(n){const[e,t]=d.useState(),r=d.useRef({}),s=d.useRef(n),o=d.useRef("none"),i=n?"mounted":"unmounted",[a,c]=ku(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return d.useEffect(()=>{const l=Tn(r.current);o.current=a==="mounted"?l:"none"},[a]),Zn(()=>{const l=r.current,u=s.current;if(u!==n){const h=o.current,p=Tn(l);n?c("MOUNT"):p==="none"||l?.display==="none"?c("UNMOUNT"):c(u&&h!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=n}},[n,c]),Zn(()=>{if(e){const l=f=>{const p=Tn(r.current).includes(f.animationName);f.target===e&&p&&iu.flushSync(()=>c("ANIMATION_END"))},u=f=>{f.target===e&&(o.current=Tn(r.current))};return e.addEventListener("animationstart",u),e.addEventListener("animationcancel",l),e.addEventListener("animationend",l),()=>{e.removeEventListener("animationstart",u),e.removeEventListener("animationcancel",l),e.removeEventListener("animationend",l)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:d.useCallback(l=>{l&&(r.current=getComputedStyle(l)),t(l)},[])}}function Tn(n){return n?.animationName||"none"}function ks({prop:n,defaultProp:e,onChange:t=()=>{}}){const[r,s]=Du({defaultProp:e,onChange:t}),o=n!==void 0,i=o?n:r,a=ie(t),c=d.useCallback(l=>{if(o){const f=typeof l=="function"?l(n):l;f!==n&&a(f)}else s(l)},[o,n,s,a]);return[i,c]}function Du({defaultProp:n,onChange:e}){const t=d.useState(n),[r]=t,s=d.useRef(r),o=ie(e);return d.useEffect(()=>{s.current!==r&&(o(r),s.current=r)},[r,s,o]),t}const Ms={type:"enum",values:Yi.accentColor.values,default:void 0},na={type:"boolean",default:void 0};function Pe(n,e="",t){var r,s,o,i;const a=[];if(typeof n=="object"){for(const c of Object.keys(n))if(c in n){const l=(r=n[c])===null||r===void 0?void 0:r.toString(),u=l?.startsWith("-"),f=e===""?"":"-",h=u?`-${e}`:e,p=u?l?.substring(1):l;if(p===void 0)continue;const g=(s=void 0)!==null&&s!==void 0?s:p,m=c==="initial"?`${h}${f}${g}`:`${c}:${h}${f}${g}`;a.push(m)}}if(typeof n=="string"){const c=n.startsWith("-"),l=e===""?"":"-",u=c?`-${e}`:e,f=c?n.substring(1):n,h=(o=void 0)!==null&&o!==void 0?o:f;a.push(`${u}${l}${h}`)}if(typeof n=="boolean"){const c=e===""?"":"-",l=n.toString(),u=(i=void 0)!==null&&i!==void 0?i:l;a.push(`${e}${c}${u}`)}return a.join(" ")}const at=["auto","0","1","2","3","4","5","6","7","8","9","-1","-2","-3","-4","-5","-6","-7","-8","-9"],ct={m:{type:"enum",values:at,default:void 0,responsive:!0},mx:{type:"enum",values:at,default:void 0,responsive:!0},my:{type:"enum",values:at,default:void 0,responsive:!0},mt:{type:"enum",values:at,default:void 0,responsive:!0},mr:{type:"enum",values:at,default:void 0,responsive:!0},mb:{type:"enum",values:at,default:void 0,responsive:!0},ml:{type:"enum",values:at,default:void 0,responsive:!0}};function ra(n){const{m:e=ct.m.default,mx:t=ct.mx.default,my:r=ct.my.default,mt:s=ct.mt.default,mr:o=ct.mr.default,mb:i=ct.mb.default,ml:a=ct.ml.default,...c}=n;return{m:e,mx:t,my:r,mt:s,mr:o,mb:i,ml:a,rest:c}}function sa(n){return[Pe(n.m,"rt-r-m"),Pe(n.mx,"rt-r-mx"),Pe(n.my,"rt-r-my"),Pe(n.mt,"rt-r-mt"),Pe(n.mr,"rt-r-mr"),Pe(n.mb,"rt-r-mb"),Pe(n.ml,"rt-r-ml")].filter(Boolean).join(" ")}const oa={type:"enum",values:Yi.radius.values,default:void 0},Ds=d.forwardRef(({color:n="currentColor",...e},t)=>d.createElement("svg",{width:"9",height:"9",viewBox:"0 0 9 9",fill:n,xmlns:"http://www.w3.org/2000/svg",...e,ref:t},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.53547 0.62293C8.88226 0.849446 8.97976 1.3142 8.75325 1.66099L4.5083 8.1599C4.38833 8.34356 4.19397 8.4655 3.9764 8.49358C3.75883 8.52167 3.53987 8.45309 3.3772 8.30591L0.616113 5.80777C0.308959 5.52987 0.285246 5.05559 0.563148 4.74844C0.84105 4.44128 1.31533 4.41757 1.62249 4.69547L3.73256 6.60459L7.49741 0.840706C7.72393 0.493916 8.18868 0.396414 8.53547 0.62293Z"})));Ds.displayName="ThickCheckIcon";const Bu=d.forwardRef(({color:n="currentColor",...e},t)=>d.createElement("svg",{width:"9",height:"9",viewBox:"0 0 9 9",fill:n,xmlns:"http://www.w3.org/2000/svg",...e,ref:t},d.createElement("path",{d:"M0.135232 3.15803C0.324102 2.95657 0.640521 2.94637 0.841971 3.13523L4.5 6.56464L8.158 3.13523C8.3595 2.94637 8.6759 2.95657 8.8648 3.15803C9.0536 3.35949 9.0434 3.67591 8.842 3.86477L4.84197 7.6148C4.64964 7.7951 4.35036 7.7951 4.15803 7.6148L0.158031 3.86477C-0.0434285 3.67591 -0.0536285 3.35949 0.135232 3.15803Z"})));Bu.displayName="ChevronDownIcon";const ia=d.forwardRef(({color:n="currentColor",...e},t)=>d.createElement("svg",{width:"9",height:"9",viewBox:"0 0 9 9",fill:n,xmlns:"http://www.w3.org/2000/svg",...e,ref:t},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.23826 0.201711C3.54108 -0.0809141 4.01567 -0.0645489 4.29829 0.238264L7.79829 3.98826C8.06724 4.27642 8.06724 4.72359 7.79829 5.01174L4.29829 8.76174C4.01567 9.06455 3.54108 9.08092 3.23826 8.79829C2.93545 8.51567 2.91909 8.04108 3.20171 7.73826L6.22409 4.5L3.20171 1.26174C2.91909 0.958928 2.93545 0.484337 3.23826 0.201711Z"})));ia.displayName="ThickChevronRightIcon";const Fu=d.forwardRef(({color:n="currentColor",...e},t)=>d.createElement("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t},d.createElement("path",{d:"M7.49991 0.876892C3.84222 0.876892 0.877075 3.84204 0.877075 7.49972C0.877075 11.1574 3.84222 14.1226 7.49991 14.1226C11.1576 14.1226 14.1227 11.1574 14.1227 7.49972C14.1227 3.84204 11.1576 0.876892 7.49991 0.876892ZM1.82707 7.49972C1.82707 4.36671 4.36689 1.82689 7.49991 1.82689C10.6329 1.82689 13.1727 4.36671 13.1727 7.49972C13.1727 10.6327 10.6329 13.1726 7.49991 13.1726C4.36689 13.1726 1.82707 10.6327 1.82707 7.49972ZM8.24992 4.49999C8.24992 4.9142 7.91413 5.24999 7.49992 5.24999C7.08571 5.24999 6.74992 4.9142 6.74992 4.49999C6.74992 4.08577 7.08571 3.74999 7.49992 3.74999C7.91413 3.74999 8.24992 4.08577 8.24992 4.49999ZM6.00003 5.99999H6.50003H7.50003C7.77618 5.99999 8.00003 6.22384 8.00003 6.49999V9.99999H8.50003H9.00003V11H8.50003H7.50003H6.50003H6.00003V9.99999H6.50003H7.00003V6.99999H6.50003H6.00003V5.99999Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"})));Fu.displayName="InfoCircledIcon";function aa(n){const e=n+"CollectionProvider",[t,r]=An(e),[s,o]=t(e,{collectionRef:{current:null},itemMap:new Map}),i=p=>{const{scope:g,children:m}=p,A=De.useRef(null),y=De.useRef(new Map).current;return De.createElement(s,{scope:g,itemMap:y,collectionRef:A},m)},a=n+"CollectionSlot",c=De.forwardRef((p,g)=>{const{scope:m,children:A}=p,y=o(a,m),v=ce(g,y.collectionRef);return De.createElement(qn,{ref:v},A)}),l=n+"CollectionItemSlot",u="data-radix-collection-item",f=De.forwardRef((p,g)=>{const{scope:m,children:A,...y}=p,v=De.useRef(null),N=ce(g,v),T=o(l,m);return De.useEffect(()=>(T.itemMap.set(v,{ref:v,...y}),()=>void T.itemMap.delete(v))),De.createElement(qn,{[u]:"",ref:N},A)});function h(p){const g=o(n+"CollectionConsumer",p);return De.useCallback(()=>{const A=g.collectionRef.current;if(!A)return[];const y=Array.from(A.querySelectorAll(`[${u}]`));return Array.from(g.itemMap.values()).sort((T,I)=>y.indexOf(T.ref.current)-y.indexOf(I.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:i,Slot:c,ItemSlot:f},h,r]}const Br="rovingFocusGroup.onEntryFocus",$u={bubbles:!1,cancelable:!0},Bs="RovingFocusGroup",[os,ca,Lu]=aa(Bs),[Uu,la]=An(Bs,[Lu]),[_u,Gu]=Uu(Bs),Hu=d.forwardRef((n,e)=>d.createElement(os.Provider,{scope:n.__scopeRovingFocusGroup},d.createElement(os.Slot,{scope:n.__scopeRovingFocusGroup},d.createElement(Qu,R({},n,{ref:e}))))),Qu=d.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:r,loop:s=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:c,onEntryFocus:l,...u}=n,f=d.useRef(null),h=ce(e,f),p=Is(o),[g=null,m]=ks({prop:i,defaultProp:a,onChange:c}),[A,y]=d.useState(!1),v=ie(l),N=ca(t),T=d.useRef(!1),[I,j]=d.useState(0);return d.useEffect(()=>{const $=f.current;if($)return $.addEventListener(Br,v),()=>$.removeEventListener(Br,v)},[v]),d.createElement(_u,{scope:t,orientation:r,dir:p,loop:s,currentTabStopId:g,onItemFocus:d.useCallback($=>m($),[m]),onItemShiftTab:d.useCallback(()=>y(!0),[]),onFocusableItemAdd:d.useCallback(()=>j($=>$+1),[]),onFocusableItemRemove:d.useCallback(()=>j($=>$-1),[])},d.createElement(fe.div,R({tabIndex:A||I===0?-1:0,"data-orientation":r},u,{ref:h,style:{outline:"none",...n.style},onMouseDown:D(n.onMouseDown,()=>{T.current=!0}),onFocus:D(n.onFocus,$=>{const M=!T.current;if($.target===$.currentTarget&&M&&!A){const k=new CustomEvent(Br,$u);if($.currentTarget.dispatchEvent(k),!k.defaultPrevented){const Q=N().filter(_e=>_e.focusable),be=Q.find(_e=>_e.active),Et=Q.find(_e=>_e.id===g),Kt=[be,Et,...Q].filter(Boolean).map(_e=>_e.ref.current);ua(Kt)}}T.current=!1}),onBlur:D(n.onBlur,()=>y(!1))})))}),Vu="RovingFocusGroupItem",zu=d.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:r=!0,active:s=!1,tabStopId:o,...i}=n,a=ln(),c=o||a,l=Gu(Vu,t),u=l.currentTabStopId===c,f=ca(t),{onFocusableItemAdd:h,onFocusableItemRemove:p}=l;return d.useEffect(()=>{if(r)return h(),()=>p()},[r,h,p]),d.createElement(os.ItemSlot,{scope:t,id:c,focusable:r,active:s},d.createElement(fe.span,R({tabIndex:u?0:-1,"data-orientation":l.orientation},i,{ref:e,onMouseDown:D(n.onMouseDown,g=>{r?l.onItemFocus(c):g.preventDefault()}),onFocus:D(n.onFocus,()=>l.onItemFocus(c)),onKeyDown:D(n.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){l.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const m=Ku(g,l.orientation,l.dir);if(m!==void 0){g.preventDefault();let y=f().filter(v=>v.focusable).map(v=>v.ref.current);if(m==="last")y.reverse();else if(m==="prev"||m==="next"){m==="prev"&&y.reverse();const v=y.indexOf(g.currentTarget);y=l.loop?Wu(y,v+1):y.slice(v+1)}setTimeout(()=>ua(y))}})})))}),ju={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Ju(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function Ku(n,e,t){const r=Ju(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return ju[r]}function ua(n){const e=document.activeElement;for(const t of n)if(t===e||(t.focus(),document.activeElement!==e))return}function Wu(n,e){return n.map((t,r)=>n[(e+r)%n.length])}const Yu=Hu,Xu=zu;function Zu(n,[e,t]){return Math.min(t,Math.max(e,n))}let Fr=0;function qu(){d.useEffect(()=>{var n,e;const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(n=t[0])!==null&&n!==void 0?n:mo()),document.body.insertAdjacentElement("beforeend",(e=t[1])!==null&&e!==void 0?e:mo()),Fr++,()=>{Fr===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),Fr--}},[])}function mo(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",n}const $r="focusScope.autoFocusOnMount",Lr="focusScope.autoFocusOnUnmount",go={bubbles:!1,cancelable:!0},ef=d.forwardRef((n,e)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=n,[a,c]=d.useState(null),l=ie(s),u=ie(o),f=d.useRef(null),h=ce(e,m=>c(m)),p=d.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;d.useEffect(()=>{if(r){let m=function(N){if(p.paused||!a)return;const T=N.target;a.contains(T)?f.current=T:et(f.current,{select:!0})},A=function(N){if(p.paused||!a)return;const T=N.relatedTarget;T!==null&&(a.contains(T)||et(f.current,{select:!0}))},y=function(N){if(document.activeElement===document.body)for(const I of N)I.removedNodes.length>0&&et(a)};document.addEventListener("focusin",m),document.addEventListener("focusout",A);const v=new MutationObserver(y);return a&&v.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",A),v.disconnect()}}},[r,a,p.paused]),d.useEffect(()=>{if(a){yo.add(p);const m=document.activeElement;if(!a.contains(m)){const y=new CustomEvent($r,go);a.addEventListener($r,l),a.dispatchEvent(y),y.defaultPrevented||(tf(af(fa(a)),{select:!0}),document.activeElement===m&&et(a))}return()=>{a.removeEventListener($r,l),setTimeout(()=>{const y=new CustomEvent(Lr,go);a.addEventListener(Lr,u),a.dispatchEvent(y),y.defaultPrevented||et(m??document.body,{select:!0}),a.removeEventListener(Lr,u),yo.remove(p)},0)}}},[a,l,u,p]);const g=d.useCallback(m=>{if(!t&&!r||p.paused)return;const A=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,y=document.activeElement;if(A&&y){const v=m.currentTarget,[N,T]=nf(v);N&&T?!m.shiftKey&&y===T?(m.preventDefault(),t&&et(N,{select:!0})):m.shiftKey&&y===N&&(m.preventDefault(),t&&et(T,{select:!0})):y===v&&m.preventDefault()}},[t,r,p.paused]);return d.createElement(fe.div,R({tabIndex:-1},i,{ref:h,onKeyDown:g}))});function tf(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if(et(r,{select:e}),document.activeElement!==t)return}function nf(n){const e=fa(n),t=wo(e,n),r=wo(e.reverse(),n);return[t,r]}function fa(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function wo(n,e){for(const t of n)if(!rf(t,{upTo:e}))return t}function rf(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function sf(n){return n instanceof HTMLInputElement&&"select"in n}function et(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&sf(n)&&e&&n.select()}}const yo=of();function of(){let n=[];return{add(e){const t=n[0];e!==t&&t?.pause(),n=bo(n,e),n.unshift(e)},remove(e){var t;n=bo(n,e),(t=n[0])===null||t===void 0||t.resume()}}}function bo(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function af(n){return n.filter(e=>e.tagName!=="A")}var cf=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},Ct=new WeakMap,In=new WeakMap,kn={},Ur=0,da=function(n){return n&&(n.host||da(n.parentNode))},lf=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=da(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},uf=function(n,e,t,r){var s=lf(e,Array.isArray(n)?n:[n]);kn[t]||(kn[t]=new WeakMap);var o=kn[t],i=[],a=new Set,c=new Set(s),l=function(f){!f||a.has(f)||(a.add(f),l(f.parentNode))};s.forEach(l);var u=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(a.has(h))u(h);else try{var p=h.getAttribute(r),g=p!==null&&p!=="false",m=(Ct.get(h)||0)+1,A=(o.get(h)||0)+1;Ct.set(h,m),o.set(h,A),i.push(h),m===1&&g&&In.set(h,!0),A===1&&h.setAttribute(t,"true"),g||h.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",h,y)}})};return u(e),a.clear(),Ur++,function(){i.forEach(function(f){var h=Ct.get(f)-1,p=o.get(f)-1;Ct.set(f,h),o.set(f,p),h||(In.has(f)||f.removeAttribute(r),In.delete(f)),p||f.removeAttribute(t)}),Ur--,Ur||(Ct=new WeakMap,Ct=new WeakMap,In=new WeakMap,kn={})}},ff=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),s=cf(n);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),uf(r,s,t,"aria-hidden")):function(){return null}},ha=Vl(),_r=function(){},fr=d.forwardRef(function(n,e){var t=d.useRef(null),r=d.useState({onScrollCapture:_r,onWheelCapture:_r,onTouchMoveCapture:_r}),s=r[0],o=r[1],i=n.forwardProps,a=n.children,c=n.className,l=n.removeScrollBar,u=n.enabled,f=n.shards,h=n.sideCar,p=n.noIsolation,g=n.inert,m=n.allowPinchZoom,A=n.as,y=A===void 0?"div":A,v=zl(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),N=h,T=jl([t,e]),I=Ot(Ot({},v),s);return d.createElement(d.Fragment,null,u&&d.createElement(N,{sideCar:ha,removeScrollBar:l,shards:f,noIsolation:p,inert:g,setCallbacks:o,allowPinchZoom:!!m,lockRef:t}),i?d.cloneElement(d.Children.only(a),Ot(Ot({},I),{ref:T})):d.createElement(y,Ot({},I,{className:c,ref:T}),a))});fr.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};fr.classNames={fullWidth:Jl,zeroRight:Kl};var is=!1;if(typeof window<"u")try{var Mn=Object.defineProperty({},"passive",{get:function(){return is=!0,!0}});window.addEventListener("test",Mn,Mn),window.removeEventListener("test",Mn,Mn)}catch{is=!1}var xt=is?{passive:!1}:!1,df=function(n){return n.tagName==="TEXTAREA"},pa=function(n,e){var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!df(n)&&t[e]==="visible")},hf=function(n){return pa(n,"overflowY")},pf=function(n){return pa(n,"overflowX")},Ao=function(n,e){var t=e;do{typeof ShadowRoot<"u"&&t instanceof ShadowRoot&&(t=t.host);var r=ma(n,t);if(r){var s=ga(n,t),o=s[1],i=s[2];if(o>i)return!0}t=t.parentNode}while(t&&t!==document.body);return!1},mf=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},gf=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},ma=function(n,e){return n==="v"?hf(e):pf(e)},ga=function(n,e){return n==="v"?mf(e):gf(e)},wf=function(n,e){return n==="h"&&e==="rtl"?-1:1},yf=function(n,e,t,r,s){var o=wf(n,window.getComputedStyle(e).direction),i=o*r,a=t.target,c=e.contains(a),l=!1,u=i>0,f=0,h=0;do{var p=ga(n,a),g=p[0],m=p[1],A=p[2],y=m-A-o*g;(g||y)&&ma(n,a)&&(f+=y,h+=g),a=a.parentNode}while(!c&&a!==document.body||c&&(e.contains(a)||e===a));return(u&&(f===0||!s)||!u&&(h===0||!s))&&(l=!0),l},Dn=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},Eo=function(n){return[n.deltaX,n.deltaY]},vo=function(n){return n&&"current"in n?n.current:n},bf=function(n,e){return n[0]===e[0]&&n[1]===e[1]},Af=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},Ef=0,Pt=[];function vf(n){var e=d.useRef([]),t=d.useRef([0,0]),r=d.useRef(),s=d.useState(Ef++)[0],o=d.useState(function(){return Wl()})[0],i=d.useRef(n);d.useEffect(function(){i.current=n},[n]),d.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(s));var m=Yl([n.lockRef.current],(n.shards||[]).map(vo),!0).filter(Boolean);return m.forEach(function(A){return A.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),m.forEach(function(A){return A.classList.remove("allow-interactivity-".concat(s))})}}},[n.inert,n.lockRef.current,n.shards]);var a=d.useCallback(function(m,A){if("touches"in m&&m.touches.length===2)return!i.current.allowPinchZoom;var y=Dn(m),v=t.current,N="deltaX"in m?m.deltaX:v[0]-y[0],T="deltaY"in m?m.deltaY:v[1]-y[1],I,j=m.target,$=Math.abs(N)>Math.abs(T)?"h":"v";if("touches"in m&&$==="h"&&j.type==="range")return!1;var M=Ao($,j);if(!M)return!0;if(M?I=$:(I=$==="v"?"h":"v",M=Ao($,j)),!M)return!1;if(!r.current&&"changedTouches"in m&&(N||T)&&(r.current=I),!I)return!0;var k=r.current||I;return yf(k,A,m,k==="h"?N:T,!0)},[]),c=d.useCallback(function(m){var A=m;if(!(!Pt.length||Pt[Pt.length-1]!==o)){var y="deltaY"in A?Eo(A):Dn(A),v=e.current.filter(function(I){return I.name===A.type&&I.target===A.target&&bf(I.delta,y)})[0];if(v&&v.should){A.cancelable&&A.preventDefault();return}if(!v){var N=(i.current.shards||[]).map(vo).filter(Boolean).filter(function(I){return I.contains(A.target)}),T=N.length>0?a(A,N[0]):!i.current.noIsolation;T&&A.cancelable&&A.preventDefault()}}},[]),l=d.useCallback(function(m,A,y,v){var N={name:m,delta:A,target:y,should:v};e.current.push(N),setTimeout(function(){e.current=e.current.filter(function(T){return T!==N})},1)},[]),u=d.useCallback(function(m){t.current=Dn(m),r.current=void 0},[]),f=d.useCallback(function(m){l(m.type,Eo(m),m.target,a(m,n.lockRef.current))},[]),h=d.useCallback(function(m){l(m.type,Dn(m),m.target,a(m,n.lockRef.current))},[]);d.useEffect(function(){return Pt.push(o),n.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,xt),document.addEventListener("touchmove",c,xt),document.addEventListener("touchstart",u,xt),function(){Pt=Pt.filter(function(m){return m!==o}),document.removeEventListener("wheel",c,xt),document.removeEventListener("touchmove",c,xt),document.removeEventListener("touchstart",u,xt)}},[]);var p=n.removeScrollBar,g=n.inert;return d.createElement(d.Fragment,null,g?d.createElement(o,{styles:Af(s)}):null,p?d.createElement(Xl,{gapMode:"margin"}):null)}const Cf=Zl(ha,vf);var wa=d.forwardRef(function(n,e){return d.createElement(fr,Ot({},n,{ref:e,sideCar:Cf}))});wa.classNames=fr.classNames;function xf(n,e){return d.useReducer((t,r)=>{const s=e[t][r];return s??t},n)}const ya="ScrollArea",[ba,Nw]=An(ya),[Pf,Oe]=ba(ya),Rf=d.forwardRef((n,e)=>{const{__scopeScrollArea:t,type:r="hover",dir:s,scrollHideDelay:o=600,...i}=n,[a,c]=d.useState(null),[l,u]=d.useState(null),[f,h]=d.useState(null),[p,g]=d.useState(null),[m,A]=d.useState(null),[y,v]=d.useState(0),[N,T]=d.useState(0),[I,j]=d.useState(!1),[$,M]=d.useState(!1),k=ce(e,be=>c(be)),Q=Is(s);return d.createElement(Pf,{scope:t,type:r,dir:Q,scrollHideDelay:o,scrollArea:a,viewport:l,onViewportChange:u,content:f,onContentChange:h,scrollbarX:p,onScrollbarXChange:g,scrollbarXEnabled:I,onScrollbarXEnabledChange:j,scrollbarY:m,onScrollbarYChange:A,scrollbarYEnabled:$,onScrollbarYEnabledChange:M,onCornerWidthChange:v,onCornerHeightChange:T},d.createElement(fe.div,R({dir:Q},i,{ref:k,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":N+"px",...n.style}})))}),Nf="ScrollAreaViewport",Sf=d.forwardRef((n,e)=>{const{__scopeScrollArea:t,children:r,...s}=n,o=Oe(Nf,t),i=d.useRef(null),a=ce(e,i,o.onViewportChange);return d.createElement(d.Fragment,null,d.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"}}),d.createElement(fe.div,R({"data-radix-scroll-area-viewport":""},s,{ref:a,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...n.style}}),d.createElement("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"}},r)))}),Xe="ScrollAreaScrollbar",Of=d.forwardRef((n,e)=>{const{forceMount:t,...r}=n,s=Oe(Xe,n.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:i}=s,a=n.orientation==="horizontal";return d.useEffect(()=>(a?o(!0):i(!0),()=>{a?o(!1):i(!1)}),[a,o,i]),s.type==="hover"?d.createElement(Tf,R({},r,{ref:e,forceMount:t})):s.type==="scroll"?d.createElement(If,R({},r,{ref:e,forceMount:t})):s.type==="auto"?d.createElement(Aa,R({},r,{ref:e,forceMount:t})):s.type==="always"?d.createElement(Fs,R({},r,{ref:e})):null}),Tf=d.forwardRef((n,e)=>{const{forceMount:t,...r}=n,s=Oe(Xe,n.__scopeScrollArea),[o,i]=d.useState(!1);return d.useEffect(()=>{const a=s.scrollArea;let c=0;if(a){const l=()=>{window.clearTimeout(c),i(!0)},u=()=>{c=window.setTimeout(()=>i(!1),s.scrollHideDelay)};return a.addEventListener("pointerenter",l),a.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),a.removeEventListener("pointerenter",l),a.removeEventListener("pointerleave",u)}}},[s.scrollArea,s.scrollHideDelay]),d.createElement(Ye,{present:t||o},d.createElement(Aa,R({"data-state":o?"visible":"hidden"},r,{ref:e})))}),If=d.forwardRef((n,e)=>{const{forceMount:t,...r}=n,s=Oe(Xe,n.__scopeScrollArea),o=n.orientation==="horizontal",i=hr(()=>c("SCROLL_END"),100),[a,c]=xf("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return d.useEffect(()=>{if(a==="idle"){const l=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(l)}},[a,s.scrollHideDelay,c]),d.useEffect(()=>{const l=s.viewport,u=o?"scrollLeft":"scrollTop";if(l){let f=l[u];const h=()=>{const p=l[u];f!==p&&(c("SCROLL"),i()),f=p};return l.addEventListener("scroll",h),()=>l.removeEventListener("scroll",h)}},[s.viewport,o,c,i]),d.createElement(Ye,{present:t||a!=="hidden"},d.createElement(Fs,R({"data-state":a==="hidden"?"hidden":"visible"},r,{ref:e,onPointerEnter:D(n.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:D(n.onPointerLeave,()=>c("POINTER_LEAVE"))})))}),Aa=d.forwardRef((n,e)=>{const t=Oe(Xe,n.__scopeScrollArea),{forceMount:r,...s}=n,[o,i]=d.useState(!1),a=n.orientation==="horizontal",c=hr(()=>{if(t.viewport){const l=t.viewport.offsetWidth<t.viewport.scrollWidth,u=t.viewport.offsetHeight<t.viewport.scrollHeight;i(a?l:u)}},10);return Ut(t.viewport,c),Ut(t.content,c),d.createElement(Ye,{present:r||o},d.createElement(Fs,R({"data-state":o?"visible":"hidden"},s,{ref:e})))}),Fs=d.forwardRef((n,e)=>{const{orientation:t="vertical",...r}=n,s=Oe(Xe,n.__scopeScrollArea),o=d.useRef(null),i=d.useRef(0),[a,c]=d.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),l=xa(a.viewport,a.content),u={...r,sizes:a,onSizesChange:c,hasThumb:l>0&&l<1,onThumbChange:h=>o.current=h,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:h=>i.current=h};function f(h,p){return Uf(h,i.current,a,p)}return t==="horizontal"?d.createElement(kf,R({},u,{ref:e,onThumbPositionChange:()=>{if(s.viewport&&o.current){const h=s.viewport.scrollLeft,p=Co(h,a,s.dir);o.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollLeft=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollLeft=f(h,s.dir))}})):t==="vertical"?d.createElement(Mf,R({},u,{ref:e,onThumbPositionChange:()=>{if(s.viewport&&o.current){const h=s.viewport.scrollTop,p=Co(h,a);o.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollTop=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollTop=f(h))}})):null}),kf=d.forwardRef((n,e)=>{const{sizes:t,onSizesChange:r,...s}=n,o=Oe(Xe,n.__scopeScrollArea),[i,a]=d.useState(),c=d.useRef(null),l=ce(e,c,o.onScrollbarXChange);return d.useEffect(()=>{c.current&&a(getComputedStyle(c.current))},[c]),d.createElement(va,R({"data-orientation":"horizontal"},s,{ref:l,sizes:t,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":dr(t)+"px",...n.style},onThumbPointerDown:u=>n.onThumbPointerDown(u.x),onDragScroll:u=>n.onDragScroll(u.x),onWheelScroll:(u,f)=>{if(o.viewport){const h=o.viewport.scrollLeft+u.deltaX;n.onWheelScroll(h),Ra(h,f)&&u.preventDefault()}},onResize:()=>{c.current&&o.viewport&&i&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:er(i.paddingLeft),paddingEnd:er(i.paddingRight)}})}}))}),Mf=d.forwardRef((n,e)=>{const{sizes:t,onSizesChange:r,...s}=n,o=Oe(Xe,n.__scopeScrollArea),[i,a]=d.useState(),c=d.useRef(null),l=ce(e,c,o.onScrollbarYChange);return d.useEffect(()=>{c.current&&a(getComputedStyle(c.current))},[c]),d.createElement(va,R({"data-orientation":"vertical"},s,{ref:l,sizes:t,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":dr(t)+"px",...n.style},onThumbPointerDown:u=>n.onThumbPointerDown(u.y),onDragScroll:u=>n.onDragScroll(u.y),onWheelScroll:(u,f)=>{if(o.viewport){const h=o.viewport.scrollTop+u.deltaY;n.onWheelScroll(h),Ra(h,f)&&u.preventDefault()}},onResize:()=>{c.current&&o.viewport&&i&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:er(i.paddingTop),paddingEnd:er(i.paddingBottom)}})}}))}),[Df,Ea]=ba(Xe),va=d.forwardRef((n,e)=>{const{__scopeScrollArea:t,sizes:r,hasThumb:s,onThumbChange:o,onThumbPointerUp:i,onThumbPointerDown:a,onThumbPositionChange:c,onDragScroll:l,onWheelScroll:u,onResize:f,...h}=n,p=Oe(Xe,t),[g,m]=d.useState(null),A=ce(e,k=>m(k)),y=d.useRef(null),v=d.useRef(""),N=p.viewport,T=r.content-r.viewport,I=ie(u),j=ie(c),$=hr(f,10);function M(k){if(y.current){const Q=k.clientX-y.current.left,be=k.clientY-y.current.top;l({x:Q,y:be})}}return d.useEffect(()=>{const k=Q=>{const be=Q.target;g?.contains(be)&&I(Q,T)};return document.addEventListener("wheel",k,{passive:!1}),()=>document.removeEventListener("wheel",k,{passive:!1})},[N,g,T,I]),d.useEffect(j,[r,j]),Ut(g,$),Ut(p.content,$),d.createElement(Df,{scope:t,scrollbar:g,hasThumb:s,onThumbChange:ie(o),onThumbPointerUp:ie(i),onThumbPositionChange:j,onThumbPointerDown:ie(a)},d.createElement(fe.div,R({},h,{ref:A,style:{position:"absolute",...h.style},onPointerDown:D(n.onPointerDown,k=>{k.button===0&&(k.target.setPointerCapture(k.pointerId),y.current=g.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),M(k))}),onPointerMove:D(n.onPointerMove,M),onPointerUp:D(n.onPointerUp,k=>{const Q=k.target;Q.hasPointerCapture(k.pointerId)&&Q.releasePointerCapture(k.pointerId),document.body.style.webkitUserSelect=v.current,p.viewport&&(p.viewport.style.scrollBehavior=""),y.current=null})})))}),as="ScrollAreaThumb",Bf=d.forwardRef((n,e)=>{const{forceMount:t,...r}=n,s=Ea(as,n.__scopeScrollArea);return d.createElement(Ye,{present:t||s.hasThumb},d.createElement(Ff,R({ref:e},r)))}),Ff=d.forwardRef((n,e)=>{const{__scopeScrollArea:t,style:r,...s}=n,o=Oe(as,t),i=Ea(as,t),{onThumbPositionChange:a}=i,c=ce(e,f=>i.onThumbChange(f)),l=d.useRef(),u=hr(()=>{l.current&&(l.current(),l.current=void 0)},100);return d.useEffect(()=>{const f=o.viewport;if(f){const h=()=>{if(u(),!l.current){const p=_f(f,a);l.current=p,a()}};return a(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[o.viewport,u,a]),d.createElement(fe.div,R({"data-state":i.hasThumb?"visible":"hidden"},s,{ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:D(n.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),g=f.clientX-p.left,m=f.clientY-p.top;i.onThumbPointerDown({x:g,y:m})}),onPointerUp:D(n.onPointerUp,i.onThumbPointerUp)}))}),Ca="ScrollAreaCorner",$f=d.forwardRef((n,e)=>{const t=Oe(Ca,n.__scopeScrollArea),r=!!(t.scrollbarX&&t.scrollbarY);return t.type!=="scroll"&&r?d.createElement(Lf,R({},n,{ref:e})):null}),Lf=d.forwardRef((n,e)=>{const{__scopeScrollArea:t,...r}=n,s=Oe(Ca,t),[o,i]=d.useState(0),[a,c]=d.useState(0),l=!!(o&&a);return Ut(s.scrollbarX,()=>{var u;const f=((u=s.scrollbarX)===null||u===void 0?void 0:u.offsetHeight)||0;s.onCornerHeightChange(f),c(f)}),Ut(s.scrollbarY,()=>{var u;const f=((u=s.scrollbarY)===null||u===void 0?void 0:u.offsetWidth)||0;s.onCornerWidthChange(f),i(f)}),l?d.createElement(fe.div,R({},r,{ref:e,style:{width:o,height:a,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...n.style}})):null});function er(n){return n?parseInt(n,10):0}function xa(n,e){const t=n/e;return isNaN(t)?0:t}function dr(n){const e=xa(n.viewport,n.content),t=n.scrollbar.paddingStart+n.scrollbar.paddingEnd,r=(n.scrollbar.size-t)*e;return Math.max(r,18)}function Uf(n,e,t,r="ltr"){const s=dr(t),o=s/2,i=e||o,a=s-i,c=t.scrollbar.paddingStart+i,l=t.scrollbar.size-t.scrollbar.paddingEnd-a,u=t.content-t.viewport,f=r==="ltr"?[0,u]:[u*-1,0];return Pa([c,l],f)(n)}function Co(n,e,t="ltr"){const r=dr(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,o=e.scrollbar.size-s,i=e.content-e.viewport,a=o-r,c=t==="ltr"?[0,i]:[i*-1,0],l=Zu(n,c);return Pa([0,i],[0,a])(l)}function Pa(n,e){return t=>{if(n[0]===n[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(n[1]-n[0]);return e[0]+r*(t-n[0])}}function Ra(n,e){return n>0&&n<e}const _f=(n,e=()=>{})=>{let t={left:n.scrollLeft,top:n.scrollTop},r=0;return function s(){const o={left:n.scrollLeft,top:n.scrollTop},i=t.left!==o.left,a=t.top!==o.top;(i||a)&&e(),t=o,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function hr(n,e){const t=ie(n),r=d.useRef(0);return d.useEffect(()=>()=>window.clearTimeout(r.current),[]),d.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(t,e)},[t,e])}function Ut(n,e){const t=ie(e);Zn(()=>{let r=0;if(n){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(t)});return s.observe(n),()=>{window.cancelAnimationFrame(r),s.unobserve(n)}}},[n,t])}const Gf=Rf,Hf=Sf,xo=Of,Po=Bf,Qf=$f,cs=["Enter"," "],Vf=["ArrowDown","PageUp","Home"],Na=["ArrowUp","PageDown","End"],zf=[...Vf,...Na],jf={ltr:[...cs,"ArrowRight"],rtl:[...cs,"ArrowLeft"]},Jf={ltr:["ArrowLeft"],rtl:["ArrowRight"]},pr="Menu",[un,Kf,Wf]=aa(pr),[bt,Sa]=An(pr,[Wf,Xi,la]),mr=Xi(),Oa=la(),[Ta,rt]=bt(pr),[Yf,En]=bt(pr),Xf=n=>{const{__scopeMenu:e,open:t=!1,children:r,dir:s,onOpenChange:o,modal:i=!0}=n,a=mr(e),[c,l]=d.useState(null),u=d.useRef(!1),f=ie(o),h=Is(s);return d.useEffect(()=>{const p=()=>{u.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>u.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),d.createElement(qi,a,d.createElement(Ta,{scope:e,open:t,onOpenChange:f,content:c,onContentChange:l},d.createElement(Yf,{scope:e,onClose:d.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:u,dir:h,modal:i},r)))},Ia=d.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n,s=mr(t);return d.createElement(bu,R({},s,r,{ref:e}))}),ka="MenuPortal",[Zf,Ma]=bt(ka,{forceMount:void 0}),qf=n=>{const{__scopeMenu:e,forceMount:t,children:r,container:s}=n,o=rt(ka,e);return d.createElement(Zf,{scope:e,forceMount:t},d.createElement(Ye,{present:t||o.open},d.createElement(Iu,{asChild:!0,container:s},r)))},ke="MenuContent",[ed,$s]=bt(ke),td=d.forwardRef((n,e)=>{const t=Ma(ke,n.__scopeMenu),{forceMount:r=t.forceMount,...s}=n,o=rt(ke,n.__scopeMenu),i=En(ke,n.__scopeMenu);return d.createElement(un.Provider,{scope:n.__scopeMenu},d.createElement(Ye,{present:r||o.open},d.createElement(un.Slot,{scope:n.__scopeMenu},i.modal?d.createElement(nd,R({},s,{ref:e})):d.createElement(rd,R({},s,{ref:e})))))}),nd=d.forwardRef((n,e)=>{const t=rt(ke,n.__scopeMenu),r=d.useRef(null),s=ce(e,r);return d.useEffect(()=>{const o=r.current;if(o)return ff(o)},[]),d.createElement(Ls,R({},n,{ref:s,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:D(n.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)}))}),rd=d.forwardRef((n,e)=>{const t=rt(ke,n.__scopeMenu);return d.createElement(Ls,R({},n,{ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)}))}),Ls=d.forwardRef((n,e)=>{const{__scopeMenu:t,loop:r=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:a,onEntryFocus:c,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:h,onDismiss:p,disableOutsideScroll:g,...m}=n,A=rt(ke,t),y=En(ke,t),v=mr(t),N=Oa(t),T=Kf(t),[I,j]=d.useState(null),$=d.useRef(null),M=ce(e,$,A.onContentChange),k=d.useRef(0),Q=d.useRef(""),be=d.useRef(0),Et=d.useRef(null),Mr=d.useRef("right"),Kt=d.useRef(0),_e=g?wa:d.Fragment,Hl=g?{as:qn,allowPinchZoom:!0}:void 0,Ql=B=>{var se,Te;const ot=Q.current+B,Wt=T().filter(Ge=>!Ge.disabled),Dr=document.activeElement,lo=(se=Wt.find(Ge=>Ge.ref.current===Dr))===null||se===void 0?void 0:se.textValue,On=Wt.map(Ge=>Ge.textValue),Yt=vd(On,ot,lo),uo=(Te=Wt.find(Ge=>Ge.textValue===Yt))===null||Te===void 0?void 0:Te.ref.current;(function Ge(fo){Q.current=fo,window.clearTimeout(k.current),fo!==""&&(k.current=window.setTimeout(()=>Ge(""),1e3))})(ot),uo&&setTimeout(()=>uo.focus())};d.useEffect(()=>()=>window.clearTimeout(k.current),[]),qu();const vt=d.useCallback(B=>{var se,Te;return Mr.current===((se=Et.current)===null||se===void 0?void 0:se.side)&&xd(B,(Te=Et.current)===null||Te===void 0?void 0:Te.area)},[]);return d.createElement(ed,{scope:t,searchRef:Q,onItemEnter:d.useCallback(B=>{vt(B)&&B.preventDefault()},[vt]),onItemLeave:d.useCallback(B=>{var se;vt(B)||((se=$.current)===null||se===void 0||se.focus(),j(null))},[vt]),onTriggerLeave:d.useCallback(B=>{vt(B)&&B.preventDefault()},[vt]),pointerGraceTimerRef:be,onPointerGraceIntentChange:d.useCallback(B=>{Et.current=B},[])},d.createElement(_e,Hl,d.createElement(ef,{asChild:!0,trapped:s,onMountAutoFocus:D(o,B=>{var se;B.preventDefault(),(se=$.current)===null||se===void 0||se.focus()}),onUnmountAutoFocus:i},d.createElement(Ru,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:h,onDismiss:p},d.createElement(Yu,R({asChild:!0},N,{dir:y.dir,orientation:"vertical",loop:r,currentTabStopId:I,onCurrentTabStopIdChange:j,onEntryFocus:D(c,B=>{y.isUsingKeyboardRef.current||B.preventDefault()})}),d.createElement(Au,R({role:"menu","aria-orientation":"vertical","data-state":_a(A.open),"data-radix-menu-content":"",dir:y.dir},v,m,{ref:M,style:{outline:"none",...m.style},onKeyDown:D(m.onKeyDown,B=>{const Te=B.target.closest("[data-radix-menu-content]")===B.currentTarget,ot=B.ctrlKey||B.altKey||B.metaKey,Wt=B.key.length===1;Te&&(B.key==="Tab"&&B.preventDefault(),!ot&&Wt&&Ql(B.key));const Dr=$.current;if(B.target!==Dr||!zf.includes(B.key))return;B.preventDefault();const On=T().filter(Yt=>!Yt.disabled).map(Yt=>Yt.ref.current);Na.includes(B.key)&&On.reverse(),Ad(On)}),onBlur:D(n.onBlur,B=>{B.currentTarget.contains(B.target)||(window.clearTimeout(k.current),Q.current="")}),onPointerMove:D(n.onPointerMove,fn(B=>{const se=B.target,Te=Kt.current!==B.clientX;if(B.currentTarget.contains(se)&&Te){const ot=B.clientX>Kt.current?"right":"left";Mr.current=ot,Kt.current=B.clientX}}))})))))))}),Da=d.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return d.createElement(fe.div,R({role:"group"},r,{ref:e}))}),sd=d.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return d.createElement(fe.div,R({},r,{ref:e}))}),ls="MenuItem",Ro="menu.itemSelect",Us=d.forwardRef((n,e)=>{const{disabled:t=!1,onSelect:r,...s}=n,o=d.useRef(null),i=En(ls,n.__scopeMenu),a=$s(ls,n.__scopeMenu),c=ce(e,o),l=d.useRef(!1),u=()=>{const f=o.current;if(!t&&f){const h=new CustomEvent(Ro,{bubbles:!0,cancelable:!0});f.addEventListener(Ro,p=>r?.(p),{once:!0}),Wi(f,h),h.defaultPrevented?l.current=!1:i.onClose()}};return d.createElement(Ba,R({},s,{ref:c,disabled:t,onClick:D(n.onClick,u),onPointerDown:f=>{var h;(h=n.onPointerDown)===null||h===void 0||h.call(n,f),l.current=!0},onPointerUp:D(n.onPointerUp,f=>{var h;l.current||(h=f.currentTarget)===null||h===void 0||h.click()}),onKeyDown:D(n.onKeyDown,f=>{const h=a.searchRef.current!=="";t||h&&f.key===" "||cs.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})}))}),Ba=d.forwardRef((n,e)=>{const{__scopeMenu:t,disabled:r=!1,textValue:s,...o}=n,i=$s(ls,t),a=Oa(t),c=d.useRef(null),l=ce(e,c),[u,f]=d.useState(!1),[h,p]=d.useState("");return d.useEffect(()=>{const g=c.current;if(g){var m;p(((m=g.textContent)!==null&&m!==void 0?m:"").trim())}},[o.children]),d.createElement(un.ItemSlot,{scope:t,disabled:r,textValue:s??h},d.createElement(Xu,R({asChild:!0},a,{focusable:!r}),d.createElement(fe.div,R({role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0},o,{ref:l,onPointerMove:D(n.onPointerMove,fn(g=>{r?i.onItemLeave(g):(i.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus())})),onPointerLeave:D(n.onPointerLeave,fn(g=>i.onItemLeave(g))),onFocus:D(n.onFocus,()=>f(!0)),onBlur:D(n.onBlur,()=>f(!1))}))))}),od=d.forwardRef((n,e)=>{const{checked:t=!1,onCheckedChange:r,...s}=n;return d.createElement($a,{scope:n.__scopeMenu,checked:t},d.createElement(Us,R({role:"menuitemcheckbox","aria-checked":tr(t)?"mixed":t},s,{ref:e,"data-state":_s(t),onSelect:D(s.onSelect,()=>r?.(tr(t)?!0:!t),{checkForDefaultPrevented:!1})})))}),id="MenuRadioGroup",[ad,cd]=bt(id,{value:void 0,onValueChange:()=>{}}),ld=d.forwardRef((n,e)=>{const{value:t,onValueChange:r,...s}=n,o=ie(r);return d.createElement(ad,{scope:n.__scopeMenu,value:t,onValueChange:o},d.createElement(Da,R({},s,{ref:e})))}),ud="MenuRadioItem",fd=d.forwardRef((n,e)=>{const{value:t,...r}=n,s=cd(ud,n.__scopeMenu),o=t===s.value;return d.createElement($a,{scope:n.__scopeMenu,checked:o},d.createElement(Us,R({role:"menuitemradio","aria-checked":o},r,{ref:e,"data-state":_s(o),onSelect:D(r.onSelect,()=>{var i;return(i=s.onValueChange)===null||i===void 0?void 0:i.call(s,t)},{checkForDefaultPrevented:!1})})))}),Fa="MenuItemIndicator",[$a,dd]=bt(Fa,{checked:!1}),hd=d.forwardRef((n,e)=>{const{__scopeMenu:t,forceMount:r,...s}=n,o=dd(Fa,t);return d.createElement(Ye,{present:r||tr(o.checked)||o.checked===!0},d.createElement(fe.span,R({},s,{ref:e,"data-state":_s(o.checked)})))}),pd=d.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return d.createElement(fe.div,R({role:"separator","aria-orientation":"horizontal"},r,{ref:e}))}),La="MenuSub",[md,Ua]=bt(La),gd=n=>{const{__scopeMenu:e,children:t,open:r=!1,onOpenChange:s}=n,o=rt(La,e),i=mr(e),[a,c]=d.useState(null),[l,u]=d.useState(null),f=ie(s);return d.useEffect(()=>(o.open===!1&&f(!1),()=>f(!1)),[o.open,f]),d.createElement(qi,i,d.createElement(Ta,{scope:e,open:r,onOpenChange:f,content:l,onContentChange:u},d.createElement(md,{scope:e,contentId:ln(),triggerId:ln(),trigger:a,onTriggerChange:c},t)))},Bn="MenuSubTrigger",wd=d.forwardRef((n,e)=>{const t=rt(Bn,n.__scopeMenu),r=En(Bn,n.__scopeMenu),s=Ua(Bn,n.__scopeMenu),o=$s(Bn,n.__scopeMenu),i=d.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:c}=o,l={__scopeMenu:n.__scopeMenu},u=d.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return d.useEffect(()=>u,[u]),d.useEffect(()=>{const f=a.current;return()=>{window.clearTimeout(f),c(null)}},[a,c]),d.createElement(Ia,R({asChild:!0},l),d.createElement(Ba,R({id:s.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":s.contentId,"data-state":_a(t.open)},n,{ref:Zi(e,s.onTriggerChange),onClick:f=>{var h;(h=n.onClick)===null||h===void 0||h.call(n,f),!(n.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:D(n.onPointerMove,fn(f=>{o.onItemEnter(f),!f.defaultPrevented&&!n.disabled&&!t.open&&!i.current&&(o.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{t.onOpenChange(!0),u()},100))})),onPointerLeave:D(n.onPointerLeave,fn(f=>{var h;u();const p=(h=t.content)===null||h===void 0?void 0:h.getBoundingClientRect();if(p){var g;const m=(g=t.content)===null||g===void 0?void 0:g.dataset.side,A=m==="right",y=A?-5:5,v=p[A?"left":"right"],N=p[A?"right":"left"];o.onPointerGraceIntentChange({area:[{x:f.clientX+y,y:f.clientY},{x:v,y:p.top},{x:N,y:p.top},{x:N,y:p.bottom},{x:v,y:p.bottom}],side:m}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(f),f.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:D(n.onKeyDown,f=>{const h=o.searchRef.current!=="";if(!(n.disabled||h&&f.key===" ")&&jf[r.dir].includes(f.key)){var p;t.onOpenChange(!0),(p=t.content)===null||p===void 0||p.focus(),f.preventDefault()}})})))}),yd="MenuSubContent",bd=d.forwardRef((n,e)=>{const t=Ma(ke,n.__scopeMenu),{forceMount:r=t.forceMount,...s}=n,o=rt(ke,n.__scopeMenu),i=En(ke,n.__scopeMenu),a=Ua(yd,n.__scopeMenu),c=d.useRef(null),l=ce(e,c);return d.createElement(un.Provider,{scope:n.__scopeMenu},d.createElement(Ye,{present:r||o.open},d.createElement(un.Slot,{scope:n.__scopeMenu},d.createElement(Ls,R({id:a.contentId,"aria-labelledby":a.triggerId},s,{ref:l,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var f;i.isUsingKeyboardRef.current&&((f=c.current)===null||f===void 0||f.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:D(n.onFocusOutside,u=>{u.target!==a.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:D(n.onEscapeKeyDown,u=>{i.onClose(),u.preventDefault()}),onKeyDown:D(n.onKeyDown,u=>{const f=u.currentTarget.contains(u.target),h=Jf[i.dir].includes(u.key);if(f&&h){var p;o.onOpenChange(!1),(p=a.trigger)===null||p===void 0||p.focus(),u.preventDefault()}})})))))});function _a(n){return n?"open":"closed"}function tr(n){return n==="indeterminate"}function _s(n){return tr(n)?"indeterminate":n?"checked":"unchecked"}function Ad(n){const e=document.activeElement;for(const t of n)if(t===e||(t.focus(),document.activeElement!==e))return}function Ed(n,e){return n.map((t,r)=>n[(e+r)%n.length])}function vd(n,e,t){const s=e.length>1&&Array.from(e).every(l=>l===e[0])?e[0]:e,o=t?n.indexOf(t):-1;let i=Ed(n,Math.max(o,0));s.length===1&&(i=i.filter(l=>l!==t));const c=i.find(l=>l.toLowerCase().startsWith(s.toLowerCase()));return c!==t?c:void 0}function Cd(n,e){const{x:t,y:r}=n;let s=!1;for(let o=0,i=e.length-1;o<e.length;i=o++){const a=e[o].x,c=e[o].y,l=e[i].x,u=e[i].y;c>r!=u>r&&t<(l-a)*(r-c)/(u-c)+a&&(s=!s)}return s}function xd(n,e){if(!e)return!1;const t={x:n.clientX,y:n.clientY};return Cd(t,e)}function fn(n){return e=>e.pointerType==="mouse"?n(e):void 0}const Pd=Xf,Rd=Ia,Nd=qf,Sd=td,Od=Da,Td=sd,Id=Us,kd=od,Md=ld,Dd=fd,Bd=hd,Fd=pd,$d=gd,Ld=wd,Ud=bd,Ga="DropdownMenu",[_d,Sw]=An(Ga,[Sa]),ye=Sa(),[Gd,Ha]=_d(Ga),Hd=n=>{const{__scopeDropdownMenu:e,children:t,dir:r,open:s,defaultOpen:o,onOpenChange:i,modal:a=!0}=n,c=ye(e),l=d.useRef(null),[u=!1,f]=ks({prop:s,defaultProp:o,onChange:i});return d.createElement(Gd,{scope:e,triggerId:ln(),triggerRef:l,contentId:ln(),open:u,onOpenChange:f,onOpenToggle:d.useCallback(()=>f(h=>!h),[f]),modal:a},d.createElement(Pd,R({},c,{open:u,onOpenChange:f,dir:r,modal:a}),t))},Qd="DropdownMenuTrigger",Vd=d.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,disabled:r=!1,...s}=n,o=Ha(Qd,t),i=ye(t);return d.createElement(Rd,R({asChild:!0},i),d.createElement(fe.button,R({type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r},s,{ref:Zi(e,o.triggerRef),onPointerDown:D(n.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(o.onOpenToggle(),o.open||a.preventDefault())}),onKeyDown:D(n.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&o.onOpenToggle(),a.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})))}),zd=n=>{const{__scopeDropdownMenu:e,...t}=n,r=ye(e);return d.createElement(Nd,R({},r,t))},jd="DropdownMenuContent",Jd=d.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Ha(jd,t),o=ye(t),i=d.useRef(!1);return d.createElement(Sd,R({id:s.contentId,"aria-labelledby":s.triggerId},o,r,{ref:e,onCloseAutoFocus:D(n.onCloseAutoFocus,a=>{var c;i.current||(c=s.triggerRef.current)===null||c===void 0||c.focus(),i.current=!1,a.preventDefault()}),onInteractOutside:D(n.onInteractOutside,a=>{const c=a.detail.originalEvent,l=c.button===0&&c.ctrlKey===!0,u=c.button===2||l;(!s.modal||u)&&(i.current=!0)}),style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}}))}),Kd=d.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=ye(t);return d.createElement(Od,R({},s,r,{ref:e}))}),Wd=d.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=ye(t);return d.createElement(Td,R({},s,r,{ref:e}))}),Yd=d.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=ye(t);return d.createElement(Id,R({},s,r,{ref:e}))}),Xd=d.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=ye(t);return d.createElement(kd,R({},s,r,{ref:e}))}),Zd=d.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=ye(t);return d.createElement(Md,R({},s,r,{ref:e}))}),qd=d.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=ye(t);return d.createElement(Dd,R({},s,r,{ref:e}))}),eh=d.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=ye(t);return d.createElement(Bd,R({},s,r,{ref:e}))}),th=d.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=ye(t);return d.createElement(Fd,R({},s,r,{ref:e}))}),nh=n=>{const{__scopeDropdownMenu:e,children:t,open:r,onOpenChange:s,defaultOpen:o}=n,i=ye(e),[a=!1,c]=ks({prop:r,defaultProp:o,onChange:s});return d.createElement($d,R({},i,{open:a,onOpenChange:c}),t)},rh=d.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=ye(t);return d.createElement(Ld,R({},s,r,{ref:e}))}),sh=d.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=ye(t);return d.createElement(Ud,R({},s,r,{ref:e,style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}}))}),oh=Hd,ih=Vd,Qa=zd,ah=Jd,ch=Kd,lh=Wd,uh=Yd,fh=Xd,dh=Zd,hh=qd,Va=eh,ph=th,mh=nh,gh=rh,wh=sh,yh=["1","2","3"],bh=["vertical","horizontal","both"],Gr={size:{type:"enum",values:yh,default:"1",responsive:!0},radius:oa,scrollbars:{type:"enum",values:bh,default:"both"}},Gs=d.forwardRef((n,e)=>{const{rest:t,...r}=ra(n),{className:s,style:o,type:i,scrollHideDelay:a=i!=="scroll"?0:void 0,dir:c,size:l=Gr.size.default,radius:u=Gr.radius.default,scrollbars:f=Gr.scrollbars.default,...h}=t;return d.createElement(Gf,{type:i,scrollHideDelay:a,className:ae("rt-ScrollAreaRoot",s,sa(r)),style:o},d.createElement(Hf,{...h,ref:e,className:"rt-ScrollAreaViewport"}),d.createElement("div",{className:"rt-ScrollAreaViewportFocusRing"}),f!=="vertical"?d.createElement(xo,{"data-radius":u,orientation:"horizontal",className:ae("rt-ScrollAreaScrollbar",Pe(l,"rt-r-size"))},d.createElement(Po,{className:"rt-ScrollAreaThumb"})):null,f!=="horizontal"?d.createElement(xo,{"data-radius":u,orientation:"vertical",className:ae("rt-ScrollAreaScrollbar",Pe(l,"rt-r-size"))},d.createElement(Po,{className:"rt-ScrollAreaThumb"})):null,f==="both"?d.createElement(Qf,{className:"rt-ScrollAreaCorner"}):null)});Gs.displayName="ScrollArea";const Ah=["1","2"],Eh=["solid","soft"],Hr={size:{type:"enum",values:Ah,default:"2",responsive:!0},variant:{type:"enum",values:Eh,default:"solid"},color:Ms,highContrast:na},za={color:Ms,shortcut:{type:"string",default:void 0}},ja=n=>d.createElement(oh,{...n});ja.displayName="DropdownMenuRoot";const Ja=d.forwardRef((n,e)=>d.createElement(ih,{...n,ref:e,asChild:!0}));Ja.displayName="DropdownMenuTrigger";const Ka=d.createContext({}),Wa=d.forwardRef((n,e)=>{const t=Eu(),{className:r,children:s,size:o=Hr.size.default,variant:i=Hr.variant.default,highContrast:a=Hr.highContrast.default,color:c=za.color.default,container:l,forceMount:u,...f}=n,h=c??t.accentColor;return d.createElement(Qa,{container:l,forceMount:u},d.createElement(ea,{asChild:!0},d.createElement(ah,{"data-accent-color":h,align:"start",sideOffset:4,collisionPadding:10,...f,ref:e,className:ae("rt-PopperContent","rt-BaseMenuContent","rt-DropdownMenuContent",r,Pe(o,"rt-r-size"),`rt-variant-${i}`,{"rt-high-contrast":a})},d.createElement(Gs,{type:"auto"},d.createElement("div",{className:ae("rt-BaseMenuViewport","rt-DropdownMenuViewport")},d.createElement(Ka.Provider,{value:d.useMemo(()=>({size:o,variant:i,color:h,highContrast:a}),[o,i,h,a])},s))))))});Wa.displayName="DropdownMenuContent";const Ya=d.forwardRef((n,e)=>d.createElement(lh,{...n,ref:e,className:ae("rt-BaseMenuLabel","rt-DropdownMenuLabel",n.className)}));Ya.displayName="DropdownMenuLabel";const Xa=d.forwardRef((n,e)=>{const{className:t,children:r,color:s=za.color.default,shortcut:o,...i}=n;return d.createElement(uh,{"data-accent-color":s,...i,ref:e,className:ae("rt-reset","rt-BaseMenuItem","rt-DropdownMenuItem",t)},d.createElement(ur,null,r),o&&d.createElement("div",{className:"rt-BaseMenuShortcut rt-DropdownMenuShortcut"},o))});Xa.displayName="DropdownMenuItem";const Za=d.forwardRef((n,e)=>d.createElement(ch,{...n,ref:e,className:ae("rt-BaseMenuGroup","rt-DropdownMenuGroup",n.className)}));Za.displayName="DropdownMenuGroup";const qa=d.forwardRef((n,e)=>d.createElement(dh,{...n,ref:e,className:ae("rt-BaseMenuRadioGroup","rt-DropdownMenuRadioGroup",n.className)}));qa.displayName="DropdownMenuRadioGroup";const ec=d.forwardRef((n,e)=>{const{children:t,className:r,...s}=n;return d.createElement(hh,{...s,ref:e,className:ae("rt-BaseMenuItem","rt-BaseMenuRadioItem","rt-DropdownMenuItem","rt-DropdownMenuRadioItem",r)},d.createElement(ur,null,t),d.createElement(Va,{className:"rt-BaseMenuItemIndicator rt-DropdownMenuItemIndicator"},d.createElement(Ds,{className:"rt-BaseMenuItemIndicatorIcon rt-DropdownMenuItemIndicatorIcon"})))});ec.displayName="DropdownMenuRadioItem";const tc=d.forwardRef((n,e)=>{const{children:t,className:r,shortcut:s,...o}=n;return d.createElement(fh,{...o,ref:e,className:ae("rt-BaseMenuItem","rt-BaseMenuCheckboxItem","rt-DropdownMenuItem","rt-DropdownMenuCheckboxItem",r)},d.createElement(ur,null,t),d.createElement(Va,{className:"rt-BaseMenuItemIndicator rt-DropdownMenuItemIndicator"},d.createElement(Ds,{className:"rt-BaseMenuItemIndicatorIcon rt-ContextMenuItemIndicatorIcon"})),s&&d.createElement("div",{className:"rt-BaseMenuShortcut rt-DropdownMenuShortcut"},s))});tc.displayName="DropdownMenuCheckboxItem";const nc=n=>d.createElement(mh,{...n});nc.displayName="DropdownMenuSub";const rc=d.forwardRef((n,e)=>{const{className:t,children:r,...s}=n;return d.createElement(gh,{...s,ref:e,className:ae("rt-BaseMenuItem","rt-BaseMenuSubTrigger","rt-DropdownMenuItem","rt-DropdownMenuSubTrigger",t)},d.createElement(ur,null,r),d.createElement("div",{className:"rt-BaseMenuShortcut rt-DropdownMenuShortcut"},d.createElement(ia,{className:"rt-BaseMenuSubTriggerIcon rt-DropdownMenuSubtriggerIcon"})))});rc.displayName="DropdownMenuSubTrigger";const sc=d.forwardRef((n,e)=>{const{className:t,children:r,container:s,forceMount:o,...i}=n,{size:a,variant:c,color:l,highContrast:u}=d.useContext(Ka);return d.createElement(Qa,{container:s,forceMount:o},d.createElement(ea,{asChild:!0},d.createElement(wh,{"data-accent-color":l,alignOffset:-Number(a)*4,sideOffset:1,collisionPadding:10,...i,ref:e,className:ae("rt-PopperContent","rt-BaseMenuContent","rt-BaseMenuSubContent","rt-DropdownMenuContent","rt-DropdownMenuSubContent",t,Pe(a,"rt-r-size"),`rt-variant-${c}`,{"rt-high-contrast":u})},d.createElement(Gs,{type:"auto"},d.createElement("div",{className:ae("rt-BaseMenuViewport","rt-DropdownMenuViewport")},r)))))});sc.displayName="DropdownMenuSubContent";const oc=d.forwardRef((n,e)=>d.createElement(ph,{...n,ref:e,className:ae("rt-BaseMenuSeparator","rt-DropdownMenuSeparator",n.className)}));oc.displayName="DropdownMenuSeparator";const Xt=Object.assign({},{Root:ja,Trigger:Ja,Content:Wa,Label:Ya,Item:Xa,Group:Za,RadioGroup:qa,RadioItem:ec,CheckboxItem:tc,Sub:nc,SubTrigger:rc,SubContent:sc,Separator:oc}),vh=["1","2","3","4"],Ch=["classic","solid","soft","surface","outline","ghost"],Zt={size:{type:"enum",values:vh,default:"2",responsive:!0},variant:{type:"enum",values:Ch,default:"solid"},color:Ms,highContrast:na,radius:oa},ic=d.forwardRef((n,e)=>{const{rest:t,...r}=ra(n),{className:s,asChild:o=!1,size:i=Zt.size.default,variant:a=Zt.variant.default,color:c=Zt.color.default,highContrast:l=Zt.highContrast.default,radius:u=Zt.radius.default,...f}=t,h=o?qn:"button";return d.createElement(h,{"data-disabled":f.disabled||void 0,"data-accent-color":c,"data-radius":u,...f,ref:e,className:ae("rt-reset","rt-BaseButton",s,Pe(i,"rt-r-size"),`rt-variant-${a}`,{"rt-high-contrast":l},sa(r))})});ic.displayName="BaseButton";const ac=d.forwardRef((n,e)=>d.createElement(ic,{...n,ref:e,className:ae("rt-Button",n.className)}));ac.displayName="Button";const xh="_content_1foi1_4",Ph={content:xh},Rh=({children:n,onClose:e})=>{const[t,r]=d.useState(null);return d.useEffect(()=>{const s=document.querySelector(".iekbcc0[data-rk]");if(s){const o=s.querySelector("div > div > div > div div div:nth-child(1)");r(o||s)}},[e]),t?Ts.createPortal(C.jsx("div",{className:"portal-div",children:n}),t):null},Nh=({children:n,onClose:e})=>{const[t,r]=d.useState(null);return d.useEffect(()=>{const s=document.querySelector(".iekbcc0[data-rk]");if(s){const o=s.querySelector("div:nth-child(2) > div > div > div > div > div > div:nth-child(2) > div:nth-child(1)");r(o||s)}},[e]),t?Ts.createPortal(C.jsx("div",{className:"portal-div-top",children:n}),t):null};`${String(0).repeat(40)}`;new fu(0);const dn="MEMOO_TOKEN_STORAGE",Sh="/static/png/wallet-logo-CySaQAky.png",Oh=[{name:"Creator",path:"/dashboard",type:"Creator",icon:pu},{name:"Collector",path:"/dashboard",type:"Collector",icon:mu}],Th=()=>{const{address:n,isConnected:e}=Os(),{connectors:t,disconnect:r}=ql(),s=Vi(),o=d.useRef({}),[i,a]=d.useState(!1),c=async()=>{if(e||n){for(const l of t)await r({connector:l});await r(),console.log("=====================>disconnect"),localStorage.removeItem(dn)}};return C.jsx(eu.Custom,{children:({account:l,chain:u,openAccountModal:f,openChainModal:h,openConnectModal:p,authenticationStatus:g,mounted:m})=>{const A=m&&g!=="loading",y=A&&l&&u&&(!g||g==="authenticated");return C.jsx("div",{...!A&&{"aria-hidden":!0,style:{opacity:0,pointerEvents:"none",userSelect:"none"}},children:y?C.jsxs("div",{className:"flex items-center",children:[C.jsxs("div",{className:" wallet-border flex items-center justify-center w-[192px] h-[46px] bg-[#1F3B4F] rounded-lg mr-[12px] font-404px font-bold text-[#07E993] text-lg",children:[l.address.slice(0,6),"...",l.address.slice(-4)]}),C.jsxs(Xt.Root,{children:[C.jsx(Xt.Trigger,{children:C.jsx("div",{children:C.jsx(du,{className:"w-[46px] h-[46px] cursor-pointer wallet-border rounded-[12px]"})})}),C.jsxs(Xt.Content,{className:"wallet-dropdown-menu bg-[#1F3B4F]",align:"end",sideOffset:20,children:[C.jsx("div",{className:"divider-x"}),Oh.map(v=>C.jsx(Xt.Item,{className:"mb-6 hover:bg-[#07E993] text-[#FFFFFF] hover:text-[#1F3B4F] py-2 h-10 cursor-pointer",onMouseOver:()=>o.current[v.type].setHovered(!0),onMouseLeave:()=>o.current[v.type].setHovered(!1),onClick:()=>{s(`${v.path}?type=${v.type}`)},children:C.jsxs("div",{className:"flex items-center",children:[C.jsx("div",{className:"flex justify-center items-center w-[40px]",children:C.jsx(v.icon,{ref:N=>o.current[v.type]=N})}),C.jsx("span",{className:"font-404px font-bold text-lg leading-5",children:v.name})]})},v.type)),C.jsx(Xt.Item,{onClick:c,className:"hover:bg-[#07E993] text-[#FFFFFF] hover:text-[#1F3B4F] mt-3 py-2 h-10  cursor-pointer",onMouseOver:()=>o.current.logout.setHovered(!0),onMouseLeave:()=>o.current.logout.setHovered(!1),children:C.jsxs("div",{className:"flex items-center",children:[C.jsx("div",{className:"flex justify-center items-center w-[40px]",children:C.jsx(hu,{ref:v=>o.current.logout=v})}),C.jsx("span",{className:"font-404px font-bold text-lg leading-5",children:"Log Out"})]})})]})]})]}):C.jsxs(ac,{variant:"soft",onClick:()=>{p(),a(!0)},className:" wallet-border cursor-pointer hidden md:block text-center text-lg  md:h-[51px] px-6 md:bg-[#1F3B4F] md:text-[#07E993] font-bold font-404px rounded-[7px]",children:["Connect Wallet",i&&C.jsxs(Nh,{onClose:()=>{a(!1)},children:[C.jsx("div",{className:"flex items-center flex-column justify-center mt-[-30px]",children:C.jsx("img",{className:"w-[142.11px] ",src:Sh,alt:""})}),C.jsx("div",{className:"connect-to-memoo text-center",children:"Connect to MeMoo"})]}),i&&C.jsx(Rh,{onClose:()=>{a(!1)},children:C.jsx("div",{children:C.jsxs("p",{className:"w-[320px] font-OCR text-[#ffffff]",children:["By connecting your wallet and using MeMoo, you agree to our"," ",C.jsx("span",{className:"text-[#07E993]",children:"Terms of Service"})," and"," ",C.jsx("span",{className:"text-[#07E993]",children:"Privacy Policy."})]})})})]})})}})},Ih="_header_10kxs_4",kh="_logo_10kxs_11",Mh="_navItem_10kxs_16",Dh="_active_10kxs_32",Bh="_Create_10kxs_40",Fn={header:Ih,logo:kh,navItem:Mh,active:Dh,create:Bh};function cc(n,e){if(n==null)return{};var t={},r=Object.keys(n),s,o;for(o=0;o<r.length;o++)s=r[o],!(e.indexOf(s)>=0)&&(t[s]=n[s]);return t}var Fh=["color"],$h=d.forwardRef(function(n,e){var t=n.color,r=t===void 0?"currentColor":t,s=cc(n,Fh);return d.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),d.createElement("path",{d:"M12.8536 2.85355C13.0488 2.65829 13.0488 2.34171 12.8536 2.14645C12.6583 1.95118 12.3417 1.95118 12.1464 2.14645L7.5 6.79289L2.85355 2.14645C2.65829 1.95118 2.34171 1.95118 2.14645 2.14645C1.95118 2.34171 1.95118 2.65829 2.14645 2.85355L6.79289 7.5L2.14645 12.1464C1.95118 12.3417 1.95118 12.6583 2.14645 12.8536C2.34171 13.0488 2.65829 13.0488 2.85355 12.8536L7.5 8.20711L12.1464 12.8536C12.3417 13.0488 12.6583 13.0488 12.8536 12.8536C13.0488 12.6583 13.0488 12.3417 12.8536 12.1464L8.20711 7.5L12.8536 2.85355Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),Lh=["color"],Uh=d.forwardRef(function(n,e){var t=n.color,r=t===void 0?"currentColor":t,s=cc(n,Lh);return d.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),d.createElement("path",{d:"M1.5 3C1.22386 3 1 3.22386 1 3.5C1 3.77614 1.22386 4 1.5 4H13.5C13.7761 4 14 3.77614 14 3.5C14 3.22386 13.7761 3 13.5 3H1.5ZM1 7.5C1 7.22386 1.22386 7 1.5 7H13.5C13.7761 7 14 7.22386 14 7.5C14 7.77614 13.7761 8 13.5 8H1.5C1.22386 8 1 7.77614 1 7.5ZM1 11.5C1 11.2239 1.22386 11 1.5 11H13.5C13.7761 11 14 11.2239 14 11.5C14 11.7761 13.7761 12 13.5 12H1.5C1.22386 12 1 11.7761 1 11.5Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))});const _h="_easeAnimation_12kgd_4",Gh="__ease0_12kgd_1",Hh="__ease1_12kgd_1",Qh={easeAnimation:_h,ease0:Gh,ease1:Hh},Vh=({menus:n})=>{const[e,t]=d.useState(!1),r=zi(),s=()=>{t(!e)};return d.useEffect(()=>{t(!1)},[r]),C.jsxs("div",{className:"relative",children:[C.jsx("div",{className:"flex justify-between items-center",children:C.jsx("button",{onClick:s,className:"text-white focus:outline-none lg:hidden",children:e?C.jsx($h,{className:"h-6 w-6"}):C.jsx(Uh,{className:"h-6 w-6"})})}),e&&C.jsx("nav",{className:`${Qh.easeAnimation} text-white fixed left-0 right-0 bottom-0 top-[88px] bg-black bg-opacity-90 p-8 gap-4 "`,children:C.jsx("ul",{className:"flex flex-col",children:n.map((o,i)=>C.jsx(au,{to:o.path,target:o.target,className:"py-2 font-bold text-lg	",children:o.name},i))})})]})},No=[{name:"LaunchPad",path:"/"},{name:"MemeGecko",path:"/gecko"},{name:"Create",path:"/create_token"}],zh=()=>C.jsxs("header",{className:`${Fn.header} flex justify-between items-center z-[999]`,children:[C.jsx("div",{className:"flex items-center  gap-[3rem]",children:C.jsxs("a",{href:"/home",className:"flex items-center justify-center",children:[C.jsx("img",{src:"/logo.svg",alt:"Logo",className:"w-[60px] h-[60px] mr-[8px]"}),C.jsx(ji,{className:""})]})}),C.jsx("div",{className:"md:flex hidden items-center  ml-[54px] mr-auto",children:No.map((n,e)=>C.jsx(cu,{to:n.path,target:n.target,className:({isActive:t})=>`${Fn.navItem} ${t&&n.name!=="Create"?Fn.active:void 0} ${n.name==="Create"?Fn.create:""}`,children:n.name},e))}),C.jsxs("div",{className:"flex items-center gap-[1rem]",children:[C.jsx(Th,{}),C.jsx(Vh,{menus:No})]})]});function jh(){return C.jsx(gu,{position:"top-right",containerClassName:"my-toast",containerStyle:{top:"8rem",right:"3rem"},toastOptions:{className:"toast-inner-container",style:{background:"#35373F",color:"#A0A5AD"}}})}const Jh=({children:n})=>C.jsxs("footer",{className:"footer hidden md:flex",children:[C.jsxs("div",{className:"footerLogo",children:[C.jsx("div",{className:"flex items-center  gap-[3rem]",children:C.jsxs("a",{href:"/",className:"flex items-center justify-center",children:[C.jsx("img",{src:"/logo.svg",alt:"Logo",className:"w-[106px] h-[106px] mr-[8px]"}),C.jsx(ji,{className:"w-[174.53px] h-[68.48px]"})]})}),C.jsxs("div",{className:"flex items-center gap-6 mt-6",children:[C.jsx(wu,{className:"cursor-pointer w-[47.24px] h-[34px]"}),C.jsx(Ji,{className:"cursor-pointer w-[40.24px] h-[33.92px]",onClick:()=>{window.open("https://x.com/MemooAI","_blank")}}),C.jsx(Ki,{className:"cursor-pointer w-[36.06px] h-[33.75px]"})]})]}),C.jsxs("div",{className:"footerCopyright",children:[C.jsxs("div",{className:"flex items-center",children:[C.jsx("span",{className:"font-REV text-[#AF8DC4] text-[12px] mr-[9px]",children:"POWERED ON"})," ",C.jsx(yu,{color:"#AF8DC4",iconColor:"#AF8DC4"})," "]}),C.jsx("p",{className:"font-OCR",children:"Copyright  2024 MeMoo. All rights reserved."})]})]}),Kh=()=>C.jsxs("div",{className:"w-[100vw] h-[100vh] bg-[#F5F5F5] flex flex-col items-center md:hidden ml-[-1.5rem] mobile-bg pt-8",children:[C.jsx("img",{src:"./img-oops.png",alt:"",className:"w-[180px] mt-3"}),C.jsx("p",{className:"font-404px text-[14px] text-[#ffffff] text-center leading-5 my-5",children:"MeMoo currently doesnt support mobile. This site is optimized for PC."}),C.jsx("img",{src:"./img-face.png",alt:"",className:"w-[150px]"}),C.jsx("p",{className:"font-404px text-[18px] text-[#ffffff] text-center leading-5 my-5 w-[327px]",children:"Follow Us"}),C.jsxs("div",{className:"flex items-center gap-6 mb-4",children:[C.jsx(Ji,{className:"cursor-pointer w-8"}),C.jsx(Ki,{className:"cursor-pointer w-8"})]}),C.jsx("img",{src:"./img-logo-vertical.png",alt:"",className:"w-[150px] mb-5"}),C.jsx("img",{src:"./img-powered-base.png",className:"w-[168px] ml-2"})]});var gr={exports:{}};gr.exports=Hs;gr.exports.isMobile=Hs;gr.exports.default=Hs;const Wh=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,Yh=/CrOS/,Xh=/android|ipad|playbook|silk/i;function Hs(n){n||(n={});let e=n.ua;if(!e&&typeof navigator<"u"&&(e=navigator.userAgent),e&&e.headers&&typeof e.headers["user-agent"]=="string"&&(e=e.headers["user-agent"]),typeof e!="string")return!1;let t=Wh.test(e)&&!Yh.test(e)||!!n.tablet&&Xh.test(e);return!t&&n.tablet&&n.featureDetect&&navigator&&navigator.maxTouchPoints>1&&e.indexOf("Macintosh")!==-1&&e.indexOf("Safari")!==-1&&(t=!0),t}var Zh=gr.exports;const So=lu(Zh),qh="6.11.1";function ep(n,e,t){const r=e.split("|").map(o=>o.trim());for(let o=0;o<r.length;o++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof n===e)return}const s=new Error(`invalid value for type ${e}`);throw s.code="INVALID_ARGUMENT",s.argument=`value.${t}`,s.value=n,s}async function de(n){const e=Object.keys(n);return(await Promise.all(e.map(r=>Promise.resolve(n[r])))).reduce((r,s,o)=>(r[e[o]]=s,r),{})}function O(n,e,t){for(let r in e){let s=e[r];const o=t?t[r]:null;o&&ep(s,o,r),Object.defineProperty(n,r,{enumerable:!0,value:s,writable:!1})}}function It(n){if(n==null)return"null";if(Array.isArray(n))return"[ "+n.map(It).join(", ")+" ]";if(n instanceof Uint8Array){const e="0123456789abcdef";let t="0x";for(let r=0;r<n.length;r++)t+=e[n[r]>>4],t+=e[n[r]&15];return t}if(typeof n=="object"&&typeof n.toJSON=="function")return It(n.toJSON());switch(typeof n){case"boolean":case"symbol":return n.toString();case"bigint":return BigInt(n).toString();case"number":return n.toString();case"string":return JSON.stringify(n);case"object":{const e=Object.keys(n);return e.sort(),"{ "+e.map(t=>`${It(t)}: ${It(n[t])}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function ue(n,e){return n&&n.code===e}function Qs(n){return ue(n,"CALL_EXCEPTION")}function ee(n,e,t){let r=n;{const o=[];if(t){if("message"in t||"code"in t||"name"in t)throw new Error(`value will overwrite populated values: ${It(t)}`);for(const i in t){if(i==="shortMessage")continue;const a=t[i];o.push(i+"="+It(a))}}o.push(`code=${e}`),o.push(`version=${qh}`),o.length&&(n+=" ("+o.join(", ")+")")}let s;switch(e){case"INVALID_ARGUMENT":s=new TypeError(n);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":s=new RangeError(n);break;default:s=new Error(n)}return O(s,{code:e}),t&&Object.assign(s,t),s.shortMessage==null&&O(s,{shortMessage:r}),s}function E(n,e,t,r){if(!n)throw ee(e,t,r)}function w(n,e,t,r){E(n,e,"INVALID_ARGUMENT",{argument:t,value:r})}function lc(n,e,t){t==null&&(t=""),t&&(t=": "+t),E(n>=e,"missing arguemnt"+t,"MISSING_ARGUMENT",{count:n,expectedCount:e}),E(n<=e,"too many arguments"+t,"UNEXPECTED_ARGUMENT",{count:n,expectedCount:e})}["NFD","NFC","NFKD","NFKC"].reduce((n,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"&&"".normalize("NFD")!=="e")throw new Error("broken");n.push(e)}catch{}return n},[]);function wr(n,e,t){if(t==null&&(t=""),n!==e){let r=t,s="new";t&&(r+=".",s+=" "+t),E(!1,`private constructor; use ${r}from* methods`,"UNSUPPORTED_OPERATION",{operation:s})}}function uc(n,e,t){if(n instanceof Uint8Array)return t?new Uint8Array(n):n;if(typeof n=="string"&&n.match(/^0x([0-9a-f][0-9a-f])*$/i)){const r=new Uint8Array((n.length-2)/2);let s=2;for(let o=0;o<r.length;o++)r[o]=parseInt(n.substring(s,s+2),16),s+=2;return r}w(!1,"invalid BytesLike value",e||"value",n)}function G(n,e){return uc(n,e,!1)}function he(n,e){return uc(n,e,!0)}function z(n,e){return!(typeof n!="string"||!n.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&n.length!==2+2*e||e===!0&&n.length%2!==0)}function tp(n){return z(n,!0)||n instanceof Uint8Array}const Oo="0123456789abcdef";function S(n){const e=G(n);let t="0x";for(let r=0;r<e.length;r++){const s=e[r];t+=Oo[(s&240)>>4]+Oo[s&15]}return t}function te(n){return"0x"+n.map(e=>S(e).substring(2)).join("")}function Bt(n){return z(n,!0)?(n.length-2)/2:G(n).length}function Y(n,e,t){const r=G(n);return t!=null&&t>r.length&&E(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:t}),S(r.slice(e??0,t??r.length))}function fc(n,e,t){const r=G(n);E(e>=r.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(r),length:e,offset:e+1});const s=new Uint8Array(e);return s.fill(0),t?s.set(r,e-r.length):s.set(r,0),S(s)}function pt(n,e){return fc(n,e,!0)}function np(n,e){return fc(n,e,!1)}const yr=BigInt(0),Ie=BigInt(1),kt=9007199254740991;function rp(n,e){const t=br(n,"value"),r=BigInt(F(e,"width"));if(E(t>>r===yr,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:n}),t>>r-Ie){const s=(Ie<<r)-Ie;return-((~t&s)+Ie)}return t}function dc(n,e){let t=P(n,"value");const r=BigInt(F(e,"width")),s=Ie<<r-Ie;if(t<yr){t=-t,E(t<=s,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:n});const o=(Ie<<r)-Ie;return(~t&o)+Ie}else E(t<s,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:n});return t}function tn(n,e){const t=br(n,"value"),r=BigInt(F(e,"bits"));return t&(Ie<<r)-Ie}function P(n,e){switch(typeof n){case"bigint":return n;case"number":return w(Number.isInteger(n),"underflow",e||"value",n),w(n>=-kt&&n<=kt,"overflow",e||"value",n),BigInt(n);case"string":try{if(n==="")throw new Error("empty string");return n[0]==="-"&&n[1]!=="-"?-BigInt(n.substring(1)):BigInt(n)}catch(t){w(!1,`invalid BigNumberish string: ${t.message}`,e||"value",n)}}w(!1,"invalid BigNumberish value",e||"value",n)}function br(n,e){const t=P(n,e);return E(t>=yr,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:n}),t}const To="0123456789abcdef";function Vs(n){if(n instanceof Uint8Array){let e="0x0";for(const t of n)e+=To[t>>4],e+=To[t&15];return BigInt(e)}return P(n)}function F(n,e){switch(typeof n){case"bigint":return w(n>=-kt&&n<=kt,"overflow",e||"value",n),Number(n);case"number":return w(Number.isInteger(n),"underflow",e||"value",n),w(n>=-kt&&n<=kt,"overflow",e||"value",n),n;case"string":try{if(n==="")throw new Error("empty string");return F(BigInt(n),e)}catch(t){w(!1,`invalid numeric string: ${t.message}`,e||"value",n)}}w(!1,"invalid numeric value",e||"value",n)}function sp(n){return F(Vs(n))}function nt(n,e){let r=br(n,"value").toString(16);if(e==null)r.length%2&&(r="0"+r);else{const s=F(e,"width");for(E(s*2>=r.length,`value exceeds width (${s} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:n});r.length<s*2;)r="0"+r}return"0x"+r}function pe(n){const e=br(n,"value");if(e===yr)return new Uint8Array([]);let t=e.toString(16);t.length%2&&(t="0"+t);const r=new Uint8Array(t.length/2);for(let s=0;s<r.length;s++){const o=s*2;r[s]=parseInt(t.substring(o,o+2),16)}return r}function Mt(n){let e=S(tp(n)?n:pe(n)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}const Io="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const ko=BigInt(58);function op(n){const e=G(n);let t=Vs(e),r="";for(;t;)r=Io[Number(t%ko)]+r,t/=ko;for(let s=0;s<e.length&&!e[s];s++)r=Io[0]+r;return r}function ip(n){n=atob(n);const e=new Uint8Array(n.length);for(let t=0;t<n.length;t++)e[t]=n.charCodeAt(t);return G(e)}function ap(n){const e=G(n);let t="";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return btoa(t)}class hc{filter;emitter;#e;constructor(e,t,r){this.#e=t,O(this,{emitter:e,filter:r})}async removeListener(){this.#e!=null&&await this.emitter.off(this.filter,this.#e)}}function cp(n,e,t,r,s){w(!1,`invalid codepoint at offset ${e}; ${n}`,"bytes",t)}function pc(n,e,t,r,s){if(n==="BAD_PREFIX"||n==="UNEXPECTED_CONTINUE"){let o=0;for(let i=e+1;i<t.length&&t[i]>>6===2;i++)o++;return o}return n==="OVERRUN"?t.length-e-1:0}function lp(n,e,t,r,s){return n==="OVERLONG"?(w(typeof s=="number","invalid bad code point for replacement","badCodepoint",s),r.push(s),0):(r.push(65533),pc(n,e,t))}const up=Object.freeze({error:cp,ignore:pc,replace:lp});function fp(n,e){e==null&&(e=up.error);const t=G(n,"bytes"),r=[];let s=0;for(;s<t.length;){const o=t[s++];if(!(o>>7)){r.push(o);continue}let i=null,a=null;if((o&224)===192)i=1,a=127;else if((o&240)===224)i=2,a=2047;else if((o&248)===240)i=3,a=65535;else{(o&192)===128?s+=e("UNEXPECTED_CONTINUE",s-1,t,r):s+=e("BAD_PREFIX",s-1,t,r);continue}if(s-1+i>=t.length){s+=e("OVERRUN",s-1,t,r);continue}let c=o&(1<<8-i-1)-1;for(let l=0;l<i;l++){let u=t[s];if((u&192)!=128){s+=e("MISSING_CONTINUE",s,t,r),c=null;break}c=c<<6|u&63,s++}if(c!==null){if(c>1114111){s+=e("OUT_OF_RANGE",s-1-i,t,r,c);continue}if(c>=55296&&c<=57343){s+=e("UTF16_SURROGATE",s-1-i,t,r,c);continue}if(c<=a){s+=e("OVERLONG",s-1-i,t,r,c);continue}r.push(c)}}return r}function je(n,e){w(typeof n=="string","invalid string value","str",n);let t=[];for(let r=0;r<n.length;r++){const s=n.charCodeAt(r);if(s<128)t.push(s);else if(s<2048)t.push(s>>6|192),t.push(s&63|128);else if((s&64512)==55296){r++;const o=n.charCodeAt(r);w(r<n.length&&(o&64512)===56320,"invalid surrogate pair","str",n);const i=65536+((s&1023)<<10)+(o&1023);t.push(i>>18|240),t.push(i>>12&63|128),t.push(i>>6&63|128),t.push(i&63|128)}else t.push(s>>12|224),t.push(s>>6&63|128),t.push(s&63|128)}return new Uint8Array(t)}function dp(n){return n.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function nr(n,e){return dp(fp(n,e))}function mc(n){async function e(t,r){const s=t.url.split(":")[0].toLowerCase();E(s==="http"||s==="https",`unsupported protocol ${s}`,"UNSUPPORTED_OPERATION",{info:{protocol:s},operation:"request"}),E(s==="https"||!t.credentials||t.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let o;if(r){const f=new AbortController;o=f.signal,r.addListener(()=>{f.abort()})}const i={method:t.method,headers:new Headers(Array.from(t)),body:t.body||void 0,signal:o},a=await fetch(t.url,i),c={};a.headers.forEach((f,h)=>{c[h.toLowerCase()]=f});const l=await a.arrayBuffer(),u=l==null?null:new Uint8Array(l);return{statusCode:a.status,statusMessage:a.statusText,headers:c,body:u}}return e}const hp=12,pp=250;let Mo=mc();const mp=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),gp=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let Qr=!1;async function gc(n,e){try{const t=n.match(mp);if(!t)throw new Error("invalid data");return new tt(200,"OK",{"content-type":t[1]||"text/plain"},t[2]?ip(t[3]):yp(t[3]))}catch{return new tt(599,"BAD REQUEST (invalid data: URI)",{},null,new Ke(n))}}function wc(n){async function e(t,r){try{const s=t.match(gp);if(!s)throw new Error("invalid link");return new Ke(`${n}${s[2]}`)}catch{return new tt(599,"BAD REQUEST (invalid IPFS URI)",{},null,new Ke(t))}}return e}const $n={data:gc,ipfs:wc("https://gateway.ipfs.io/ipfs/")},yc=new WeakMap;class wp{#e;#t;constructor(e){this.#e=[],this.#t=!1,yc.set(e,()=>{if(!this.#t){this.#t=!0;for(const t of this.#e)setTimeout(()=>{t()},0);this.#e=[]}})}addListener(e){E(!this.#t,"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),this.#e.push(e)}get cancelled(){return this.#t}checkSignal(){E(!this.cancelled,"cancelled","CANCELLED",{})}}function Ln(n){if(n==null)throw new Error("missing signal; should not happen");return n.checkSignal(),n}class Ke{#e;#t;#n;#r;#s;#i;#o;#a;#f;#l;#d;#h;#c;#u;#m;get url(){return this.#i}set url(e){this.#i=String(e)}get body(){return this.#o==null?null:new Uint8Array(this.#o)}set body(e){if(e==null)this.#o=void 0,this.#a=void 0;else if(typeof e=="string")this.#o=je(e),this.#a="text/plain";else if(e instanceof Uint8Array)this.#o=e,this.#a="application/octet-stream";else if(typeof e=="object")this.#o=je(JSON.stringify(e)),this.#a="application/json";else throw new Error("invalid body")}hasBody(){return this.#o!=null}get method(){return this.#r?this.#r:this.hasBody()?"POST":"GET"}set method(e){e==null&&(e=""),this.#r=String(e).toUpperCase()}get headers(){const e=Object.assign({},this.#n);return this.#f&&(e.authorization=`Basic ${ap(je(this.#f))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),e["content-type"]==null&&this.#a&&(e["content-type"]=this.#a),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,t){this.#n[String(e).toLowerCase()]=String(t)}clearHeaders(){this.#n={}}[Symbol.iterator](){const e=this.headers,t=Object.keys(e);let r=0;return{next:()=>{if(r<t.length){const s=t[r++];return{value:[s,e[s]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return this.#f||null}setCredentials(e,t){w(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),this.#f=`${e}:${t}`}get allowGzip(){return this.#t}set allowGzip(e){this.#t=!!e}get allowInsecureAuthentication(){return!!this.#e}set allowInsecureAuthentication(e){this.#e=!!e}get timeout(){return this.#s}set timeout(e){w(e>=0,"timeout must be non-zero","timeout",e),this.#s=e}get preflightFunc(){return this.#l||null}set preflightFunc(e){this.#l=e}get processFunc(){return this.#d||null}set processFunc(e){this.#d=e}get retryFunc(){return this.#h||null}set retryFunc(e){this.#h=e}get getUrlFunc(){return this.#m||Mo}set getUrlFunc(e){this.#m=e}constructor(e){this.#i=String(e),this.#e=!1,this.#t=!0,this.#n={},this.#r="",this.#s=3e5,this.#u={slotInterval:pp,maxAttempts:hp},this.#m=null}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${this.#o?S(this.#o):"null"}>`}setThrottleParams(e){e.slotInterval!=null&&(this.#u.slotInterval=e.slotInterval),e.maxAttempts!=null&&(this.#u.maxAttempts=e.maxAttempts)}async#p(e,t,r,s,o){if(e>=this.#u.maxAttempts)return o.makeServerError("exceeded maximum retry limit");E(Do()<=t,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:s}),r>0&&await bp(r);let i=this.clone();const a=(i.url.split(":")[0]||"").toLowerCase();if(a in $n){const u=await $n[a](i.url,Ln(s.#c));if(u instanceof tt){let f=u;if(this.processFunc){Ln(s.#c);try{f=await this.processFunc(i,f)}catch(h){(h.throttle==null||typeof h.stall!="number")&&f.makeServerError("error in post-processing function",h).assertOk()}}return f}i=u}this.preflightFunc&&(i=await this.preflightFunc(i));const c=await this.getUrlFunc(i,Ln(s.#c));let l=new tt(c.statusCode,c.statusMessage,c.headers,c.body,s);if(l.statusCode===301||l.statusCode===302){try{const u=l.headers.location||"";return i.redirect(u).#p(e+1,t,0,s,l)}catch{}return l}else if(l.statusCode===429&&(this.retryFunc==null||await this.retryFunc(i,l,e))){const u=l.headers["retry-after"];let f=this.#u.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return typeof u=="string"&&u.match(/^[1-9][0-9]*$/)&&(f=parseInt(u)),i.clone().#p(e+1,t,f,s,l)}if(this.processFunc){Ln(s.#c);try{l=await this.processFunc(i,l)}catch(u){(u.throttle==null||typeof u.stall!="number")&&l.makeServerError("error in post-processing function",u).assertOk();let f=this.#u.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return u.stall>=0&&(f=u.stall),i.clone().#p(e+1,t,f,s,l)}}return l}send(){return E(this.#c==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),this.#c=new wp(this),this.#p(0,Do()+this.timeout,0,this,new tt(0,"",{},null,this))}cancel(){E(this.#c!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=yc.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const t=this.url.split(":")[0].toLowerCase(),r=e.split(":")[0].toLowerCase();E(this.method==="GET"&&(t!=="https"||r!=="http")&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});const s=new Ke(e);return s.method="GET",s.allowGzip=this.allowGzip,s.timeout=this.timeout,s.#n=Object.assign({},this.#n),this.#o&&(s.#o=new Uint8Array(this.#o)),s.#a=this.#a,s}clone(){const e=new Ke(this.url);return e.#r=this.#r,this.#o&&(e.#o=this.#o),e.#a=this.#a,e.#n=Object.assign({},this.#n),e.#f=this.#f,this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),e.#l=this.#l,e.#d=this.#d,e.#h=this.#h,e.#m=this.#m,e}static lockConfig(){Qr=!0}static getGateway(e){return $n[e.toLowerCase()]||null}static registerGateway(e,t){if(e=e.toLowerCase(),e==="http"||e==="https")throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(Qr)throw new Error("gateways locked");$n[e]=t}static registerGetUrl(e){if(Qr)throw new Error("gateways locked");Mo=e}static createGetUrlFunc(e){return mc()}static createDataGateway(){return gc}static createIpfsGatewayFunc(e){return wc(e)}}class tt{#e;#t;#n;#r;#s;#i;toString(){return`<FetchResponse status=${this.statusCode} body=${this.#r?S(this.#r):"null"}>`}get statusCode(){return this.#e}get statusMessage(){return this.#t}get headers(){return Object.assign({},this.#n)}get body(){return this.#r==null?null:new Uint8Array(this.#r)}get bodyText(){try{return this.#r==null?"":nr(this.#r)}catch{E(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{E(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,t=Object.keys(e);let r=0;return{next:()=>{if(r<t.length){const s=t[r++];return{value:[s,e[s]],done:!1}}return{value:void 0,done:!0}}}}constructor(e,t,r,s,o){this.#e=e,this.#t=t,this.#n=Object.keys(r).reduce((i,a)=>(i[a.toLowerCase()]=String(r[a]),i),{}),this.#r=s==null?null:new Uint8Array(s),this.#s=o||null,this.#i={message:""}}makeServerError(e,t){let r;e?r=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,r=`CLIENT ESCALATED SERVER ERROR (${e})`);const s=new tt(599,r,this.headers,this.body,this.#s||void 0);return s.#i={message:e,error:t},s}throwThrottleError(e,t){t==null?t=-1:w(Number.isInteger(t)&&t>=0,"invalid stall timeout","stall",t);const r=new Error(e||"throttling requests");throw O(r,{stall:t,throttle:!0}),r}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return this.#r!=null}get request(){return this.#s}ok(){return this.#i.message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:t}=this.#i;e===""&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let r=null;this.request&&(r=this.request.url);let s=null;try{this.#r&&(s=nr(this.#r))}catch{}E(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:t,info:{requestUrl:r,responseBody:s,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}}function Do(){return new Date().getTime()}function yp(n){return je(n.replace(/%([0-9a-f][0-9a-f])/gi,(e,t)=>String.fromCharCode(parseInt(t,16))))}function bp(n){return new Promise(e=>setTimeout(e,n))}function Ap(n){let e=n.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function Bo(n,e,t){let r=0;for(let s=0;s<t;s++)r=r*256+n[e+s];return r}function Fo(n,e,t,r){const s=[];for(;t<e+1+r;){const o=bc(n,t);s.push(o.result),t+=o.consumed,E(t<=e+1+r,"child data too short","BUFFER_OVERRUN",{buffer:n,length:r,offset:e})}return{consumed:1+r,result:s}}function bc(n,e){E(n.length!==0,"data too short","BUFFER_OVERRUN",{buffer:n,length:0,offset:1});const t=r=>{E(r<=n.length,"data short segment too short","BUFFER_OVERRUN",{buffer:n,length:n.length,offset:r})};if(n[e]>=248){const r=n[e]-247;t(e+1+r);const s=Bo(n,e+1,r);return t(e+1+r+s),Fo(n,e,e+1+r,r+s)}else if(n[e]>=192){const r=n[e]-192;return t(e+1+r),Fo(n,e,e+1,r)}else if(n[e]>=184){const r=n[e]-183;t(e+1+r);const s=Bo(n,e+1,r);t(e+1+r+s);const o=S(n.slice(e+1+r,e+1+r+s));return{consumed:1+r+s,result:o}}else if(n[e]>=128){const r=n[e]-128;t(e+1+r);const s=S(n.slice(e+1,e+1+r));return{consumed:1+r,result:s}}return{consumed:1,result:Ap(n[e])}}function Ar(n){const e=G(n,"data"),t=bc(e,0);return w(t.consumed===e.length,"unexpected junk after rlp payload","data",n),t.result}function $o(n){const e=[];for(;n;)e.unshift(n&255),n>>=8;return e}function Ac(n){if(Array.isArray(n)){let r=[];if(n.forEach(function(o){r=r.concat(Ac(o))}),r.length<=55)return r.unshift(192+r.length),r;const s=$o(r.length);return s.unshift(247+s.length),s.concat(r)}const e=Array.prototype.slice.call(G(n,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const t=$o(e.length);return t.unshift(183+t.length),t.concat(e)}const Lo="0123456789abcdef";function _t(n){let e="0x";for(const t of Ac(n))e+=Lo[t>>4],e+=Lo[t&15];return e}const me=32,us=new Uint8Array(me),Ep=["then"],Un={};function qt(n,e){const t=new Error(`deferred error during ABI decoding triggered accessing ${n}`);throw t.error=e,t}class Ft extends Array{#e;constructor(...e){const t=e[0];let r=e[1],s=(e[2]||[]).slice(),o=!0;t!==Un&&(r=e,s=[],o=!1),super(r.length),r.forEach((a,c)=>{this[c]=a});const i=s.reduce((a,c)=>(typeof c=="string"&&a.set(c,(a.get(c)||0)+1),a),new Map);if(this.#e=Object.freeze(r.map((a,c)=>{const l=s[c];return l!=null&&i.get(l)===1?l:null})),!!o)return Object.freeze(this),new Proxy(this,{get:(a,c,l)=>{if(typeof c=="string"){if(c.match(/^[0-9]+$/)){const f=F(c,"%index");if(f<0||f>=this.length)throw new RangeError("out of result range");const h=a[f];return h instanceof Error&&qt(`index ${f}`,h),h}if(Ep.indexOf(c)>=0)return Reflect.get(a,c,l);const u=a[c];if(u instanceof Function)return function(...f){return u.apply(this===l?a:this,f)};if(!(c in a))return a.getValue.apply(this===l?a:this,[c])}return Reflect.get(a,c,l)}})}toArray(){const e=[];return this.forEach((t,r)=>{t instanceof Error&&qt(`index ${r}`,t),e.push(t)}),e}toObject(){return this.#e.reduce((e,t,r)=>(E(t!=null,"value at index ${ index } unnamed","UNSUPPORTED_OPERATION",{operation:"toObject()"}),t in e||(e[t]=this.getValue(t)),e),{})}slice(e,t){e==null&&(e=0),e<0&&(e+=this.length,e<0&&(e=0)),t==null&&(t=this.length),t<0&&(t+=this.length,t<0&&(t=0)),t>this.length&&(t=this.length);const r=[],s=[];for(let o=e;o<t;o++)r.push(this[o]),s.push(this.#e[o]);return new Ft(Un,r,s)}filter(e,t){const r=[],s=[];for(let o=0;o<this.length;o++){const i=this[o];i instanceof Error&&qt(`index ${o}`,i),e.call(t,i,o,this)&&(r.push(i),s.push(this.#e[o]))}return new Ft(Un,r,s)}map(e,t){const r=[];for(let s=0;s<this.length;s++){const o=this[s];o instanceof Error&&qt(`index ${s}`,o),r.push(e.call(t,o,s,this))}return r}getValue(e){const t=this.#e.indexOf(e);if(t===-1)return;const r=this[t];return r instanceof Error&&qt(`property ${JSON.stringify(e)}`,r.error),r}static fromItems(e,t){return new Ft(Un,e,t)}}function Uo(n){let e=pe(n);return E(e.length<=me,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:me,offset:e.length}),e.length!==me&&(e=he(te([us.slice(e.length%me),e]))),e}class Ze{name;type;localName;dynamic;constructor(e,t,r,s){O(this,{name:e,type:t,localName:r,dynamic:s},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,t){w(!1,e,this.localName,t)}}class fs{#e;#t;constructor(){this.#e=[],this.#t=0}get data(){return te(this.#e)}get length(){return this.#t}#n(e){return this.#e.push(e),this.#t+=e.length,e.length}appendWriter(e){return this.#n(he(e.data))}writeBytes(e){let t=he(e);const r=t.length%me;return r&&(t=he(te([t,us.slice(r)]))),this.#n(t)}writeValue(e){return this.#n(Uo(e))}writeUpdatableValue(){const e=this.#e.length;return this.#e.push(us),this.#t+=me,t=>{this.#e[e]=Uo(t)}}}class zs{allowLoose;#e;#t;#n;#r;#s;constructor(e,t,r){O(this,{allowLoose:!!t}),this.#e=he(e),this.#n=0,this.#r=null,this.#s=r??1024,this.#t=0}get data(){return S(this.#e)}get dataLength(){return this.#e.length}get consumed(){return this.#t}get bytes(){return new Uint8Array(this.#e)}#i(e){if(this.#r)return this.#r.#i(e);this.#n+=e,E(this.#s<1||this.#n<=this.#s*this.dataLength,`compressed ABI data exceeds inflation ratio of ${this.#s} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:he(this.#e),offset:this.#t,length:e,info:{bytesRead:this.#n,dataLength:this.dataLength}})}#o(e,t,r){let s=Math.ceil(t/me)*me;return this.#t+s>this.#e.length&&(this.allowLoose&&r&&this.#t+t<=this.#e.length?s=t:E(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:he(this.#e),length:this.#e.length,offset:this.#t+s})),this.#e.slice(this.#t,this.#t+s)}subReader(e){const t=new zs(this.#e.slice(this.#t+e),this.allowLoose,this.#s);return t.#r=this,t}readBytes(e,t){let r=this.#o(0,e,!!t);return this.#i(e),this.#t+=r.length,r.slice(0,e)}readValue(){return Vs(this.readBytes(me))}readIndex(){return sp(this.readBytes(me))}}let Ec=!1;const vc=function(n){return tu(n)};let Cc=vc;function K(n){const e=G(n,"data");return S(Cc(e))}K._=vc;K.lock=function(){Ec=!0};K.register=function(n){if(Ec)throw new TypeError("keccak256 is locked");Cc=n};Object.freeze(K);const hn="0x0000000000000000000000000000000000000000",_o="0x0000000000000000000000000000000000000000000000000000000000000000",Go=BigInt(0),Ho=BigInt(1),Qo=BigInt(2),Vo=BigInt(27),zo=BigInt(28),_n=BigInt(35),Rt={};function jo(n){return pt(pe(n),32)}class ne{#e;#t;#n;#r;get r(){return this.#e}set r(e){w(Bt(e)===32,"invalid r","value",e),this.#e=S(e)}get s(){return this.#t}set s(e){w(Bt(e)===32,"invalid s","value",e);const t=S(e);w(parseInt(t.substring(0,3))<8,"non-canonical s","value",t),this.#t=t}get v(){return this.#n}set v(e){const t=F(e,"value");w(t===27||t===28,"invalid v","v",e),this.#n=t}get networkV(){return this.#r}get legacyChainId(){const e=this.networkV;return e==null?null:ne.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){const e=G(this.s);return this.yParity&&(e[0]|=128),S(e)}get compactSerialized(){return te([this.r,this.yParityAndS])}get serialized(){return te([this.r,this.s,this.yParity?"0x1c":"0x1b"])}constructor(e,t,r,s){wr(e,Rt,"Signature"),this.#e=t,this.#t=r,this.#n=s,this.#r=null}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const e=new ne(Rt,this.r,this.s,this.v);return this.networkV&&(e.#r=this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(e){const t=P(e,"v");return t==Vo||t==zo?Go:(w(t>=_n,"invalid EIP-155 v","v",e),(t-_n)/Qo)}static getChainIdV(e,t){return P(e)*Qo+BigInt(35+t-27)}static getNormalizedV(e){const t=P(e);return t===Go||t===Vo?27:t===Ho||t===zo?28:(w(t>=_n,"invalid v","v",e),t&Ho?27:28)}static from(e){function t(l,u){w(l,u,"signature",e)}if(e==null)return new ne(Rt,_o,_o,27);if(typeof e=="string"){const l=G(e,"signature");if(l.length===64){const u=S(l.slice(0,32)),f=l.slice(32,64),h=f[0]&128?28:27;return f[0]&=127,new ne(Rt,u,S(f),h)}if(l.length===65){const u=S(l.slice(0,32)),f=l.slice(32,64);t((f[0]&128)===0,"non-canonical s");const h=ne.getNormalizedV(l[64]);return new ne(Rt,u,S(f),h)}t(!1,"invalid raw signature length")}if(e instanceof ne)return e.clone();const r=e.r;t(r!=null,"missing r");const s=jo(r),o=function(l,u){if(l!=null)return jo(l);if(u!=null){t(z(u,32),"invalid yParityAndS");const f=G(u);return f[0]&=127,S(f)}t(!1,"missing s")}(e.s,e.yParityAndS);t((G(o)[0]&128)==0,"non-canonical s");const{networkV:i,v:a}=function(l,u,f){if(l!=null){const h=P(l);return{networkV:h>=_n?h:void 0,v:ne.getNormalizedV(h)}}if(u!=null)return t(z(u,32),"invalid yParityAndS"),{v:G(u)[0]&128?28:27};if(f!=null){switch(F(f,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}t(!1,"invalid yParity")}t(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),c=new ne(Rt,s,o,a);return i&&(c.#r=i),t(e.yParity==null||F(e.yParity,"sig.yParity")===c.yParity,"yParity mismatch"),t(e.yParityAndS==null||e.yParityAndS===c.yParityAndS,"yParityAndS mismatch"),c}}class Ve{#e;constructor(e){w(Bt(e)===32,"invalid private key","privateKey","[REDACTED]"),this.#e=S(e)}get privateKey(){return this.#e}get publicKey(){return Ve.computePublicKey(this.#e)}get compressedPublicKey(){return Ve.computePublicKey(this.#e,!0)}sign(e){w(Bt(e)===32,"invalid digest length","digest",e);const t=it.sign(he(e),he(this.#e),{lowS:!0});return ne.from({r:nt(t.r,32),s:nt(t.s,32),v:t.recovery?28:27})}computeSharedSecret(e){const t=Ve.computePublicKey(e);return S(it.getSharedSecret(he(this.#e),G(t),!1))}static computePublicKey(e,t){let r=G(e,"key");if(r.length===32){const o=it.getPublicKey(r,!!t);return S(o)}if(r.length===64){const o=new Uint8Array(65);o[0]=4,o.set(r,1),r=o}const s=it.ProjectivePoint.fromHex(r);return S(s.toRawBytes(t))}static recoverPublicKey(e,t){w(Bt(e)===32,"invalid digest length","digest",e);const r=ne.from(t);let s=it.Signature.fromCompact(he(te([r.r,r.s])));s=s.addRecoveryBit(r.yParity);const o=s.recoverPublicKey(he(e));return w(o!=null,"invalid signautre for digest","signature",t),"0x"+o.toHex(!1)}static addPoints(e,t,r){const s=it.ProjectivePoint.fromHex(Ve.computePublicKey(e).substring(2)),o=it.ProjectivePoint.fromHex(Ve.computePublicKey(t).substring(2));return"0x"+s.add(o).toHex(!!r)}}const vp=BigInt(0),Cp=BigInt(36);function Jo(n){n=n.toLowerCase();const e=n.substring(2).split(""),t=new Uint8Array(40);for(let s=0;s<40;s++)t[s]=e[s].charCodeAt(0);const r=G(K(t));for(let s=0;s<40;s+=2)r[s>>1]>>4>=8&&(e[s]=e[s].toUpperCase()),(r[s>>1]&15)>=8&&(e[s+1]=e[s+1].toUpperCase());return"0x"+e.join("")}const js={};for(let n=0;n<10;n++)js[String(n)]=String(n);for(let n=0;n<26;n++)js[String.fromCharCode(65+n)]=String(10+n);const Ko=15;function xp(n){n=n.toUpperCase(),n=n.substring(4)+n.substring(0,2)+"00";let e=n.split("").map(r=>js[r]).join("");for(;e.length>=Ko;){let r=e.substring(0,Ko);e=parseInt(r,10)%97+e.substring(r.length)}let t=String(98-parseInt(e,10)%97);for(;t.length<2;)t="0"+t;return t}const Pp=function(){const n={};for(let e=0;e<36;e++){const t="0123456789abcdefghijklmnopqrstuvwxyz"[e];n[t]=BigInt(e)}return n}();function Rp(n){n=n.toLowerCase();let e=vp;for(let t=0;t<n.length;t++)e=e*Cp+Pp[n[t]];return e}function H(n){if(w(typeof n=="string","invalid address","address",n),n.match(/^(0x)?[0-9a-fA-F]{40}$/)){n.startsWith("0x")||(n="0x"+n);const e=Jo(n);return w(!n.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===n,"bad address checksum","address",n),e}if(n.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){w(n.substring(2,4)===xp(n),"bad icap checksum","address",n);let e=Rp(n.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return Jo("0x"+e)}w(!1,"invalid address","address",n)}function Np(n){const e=H(n.from);let r=P(n.nonce,"tx.nonce").toString(16);return r==="0"?r="0x":r.length%2?r="0x0"+r:r="0x"+r,H(Y(K(_t([e,r])),12))}function xc(n){return n&&typeof n.getAddress=="function"}async function Vr(n,e){const t=await e;return(t==null||t==="0x0000000000000000000000000000000000000000")&&(E(typeof n!="string","unconfigured name","UNCONFIGURED_NAME",{value:n}),w(!1,"invalid AddressLike value; did not resolve to a value address","target",n)),H(t)}function ge(n,e){if(typeof n=="string")return n.match(/^0x[0-9a-f]{40}$/i)?H(n):(E(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),Vr(n,e.resolveName(n)));if(xc(n))return Vr(n,n.getAddress());if(n&&typeof n.then=="function")return Vr(n,n);w(!1,"unsupported addressable value","target",n)}const He={};function x(n,e){let t=!1;return e<0&&(t=!0,e*=-1),new X(He,`${t?"":"u"}int${e}`,n,{signed:t,width:e})}function _(n,e){return new X(He,`bytes${e||""}`,n,{size:e})}const Wo=Symbol.for("_ethers_typed");class X{type;value;#e;_typedSymbol;constructor(e,t,r,s){s==null&&(s=null),wr(He,e,"Typed"),O(this,{_typedSymbol:Wo,type:t,value:r}),this.#e=s,this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return this.#e}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return this.#e===!0?-1:this.#e===!1?this.value.length:null}static from(e,t){return new X(He,e,t)}static uint8(e){return x(e,8)}static uint16(e){return x(e,16)}static uint24(e){return x(e,24)}static uint32(e){return x(e,32)}static uint40(e){return x(e,40)}static uint48(e){return x(e,48)}static uint56(e){return x(e,56)}static uint64(e){return x(e,64)}static uint72(e){return x(e,72)}static uint80(e){return x(e,80)}static uint88(e){return x(e,88)}static uint96(e){return x(e,96)}static uint104(e){return x(e,104)}static uint112(e){return x(e,112)}static uint120(e){return x(e,120)}static uint128(e){return x(e,128)}static uint136(e){return x(e,136)}static uint144(e){return x(e,144)}static uint152(e){return x(e,152)}static uint160(e){return x(e,160)}static uint168(e){return x(e,168)}static uint176(e){return x(e,176)}static uint184(e){return x(e,184)}static uint192(e){return x(e,192)}static uint200(e){return x(e,200)}static uint208(e){return x(e,208)}static uint216(e){return x(e,216)}static uint224(e){return x(e,224)}static uint232(e){return x(e,232)}static uint240(e){return x(e,240)}static uint248(e){return x(e,248)}static uint256(e){return x(e,256)}static uint(e){return x(e,256)}static int8(e){return x(e,-8)}static int16(e){return x(e,-16)}static int24(e){return x(e,-24)}static int32(e){return x(e,-32)}static int40(e){return x(e,-40)}static int48(e){return x(e,-48)}static int56(e){return x(e,-56)}static int64(e){return x(e,-64)}static int72(e){return x(e,-72)}static int80(e){return x(e,-80)}static int88(e){return x(e,-88)}static int96(e){return x(e,-96)}static int104(e){return x(e,-104)}static int112(e){return x(e,-112)}static int120(e){return x(e,-120)}static int128(e){return x(e,-128)}static int136(e){return x(e,-136)}static int144(e){return x(e,-144)}static int152(e){return x(e,-152)}static int160(e){return x(e,-160)}static int168(e){return x(e,-168)}static int176(e){return x(e,-176)}static int184(e){return x(e,-184)}static int192(e){return x(e,-192)}static int200(e){return x(e,-200)}static int208(e){return x(e,-208)}static int216(e){return x(e,-216)}static int224(e){return x(e,-224)}static int232(e){return x(e,-232)}static int240(e){return x(e,-240)}static int248(e){return x(e,-248)}static int256(e){return x(e,-256)}static int(e){return x(e,-256)}static bytes1(e){return _(e,1)}static bytes2(e){return _(e,2)}static bytes3(e){return _(e,3)}static bytes4(e){return _(e,4)}static bytes5(e){return _(e,5)}static bytes6(e){return _(e,6)}static bytes7(e){return _(e,7)}static bytes8(e){return _(e,8)}static bytes9(e){return _(e,9)}static bytes10(e){return _(e,10)}static bytes11(e){return _(e,11)}static bytes12(e){return _(e,12)}static bytes13(e){return _(e,13)}static bytes14(e){return _(e,14)}static bytes15(e){return _(e,15)}static bytes16(e){return _(e,16)}static bytes17(e){return _(e,17)}static bytes18(e){return _(e,18)}static bytes19(e){return _(e,19)}static bytes20(e){return _(e,20)}static bytes21(e){return _(e,21)}static bytes22(e){return _(e,22)}static bytes23(e){return _(e,23)}static bytes24(e){return _(e,24)}static bytes25(e){return _(e,25)}static bytes26(e){return _(e,26)}static bytes27(e){return _(e,27)}static bytes28(e){return _(e,28)}static bytes29(e){return _(e,29)}static bytes30(e){return _(e,30)}static bytes31(e){return _(e,31)}static bytes32(e){return _(e,32)}static address(e){return new X(He,"address",e)}static bool(e){return new X(He,"bool",!!e)}static bytes(e){return new X(He,"bytes",e)}static string(e){return new X(He,"string",e)}static array(e,t){throw new Error("not implemented yet")}static tuple(e,t){throw new Error("not implemented yet")}static overrides(e){return new X(He,"overrides",Object.assign({},e))}static isTyped(e){return e&&typeof e=="object"&&"_typedSymbol"in e&&e._typedSymbol===Wo}static dereference(e,t){if(X.isTyped(e)){if(e.type!==t)throw new Error(`invalid type: expecetd ${t}, got ${e.type}`);return e.value}return e}}class Sp extends Ze{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){let r=X.dereference(t,"string");try{r=H(r)}catch(s){return this._throwError(s.message,t)}return e.writeValue(r)}decode(e){return H(nt(e.readValue(),20))}}class Op extends Ze{coder;constructor(e){super(e.name,e.type,"_",e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}function Pc(n,e,t){let r=[];if(Array.isArray(t))r=t;else if(t&&typeof t=="object"){let c={};r=e.map(l=>{const u=l.localName;return E(u,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:l},value:t}),E(!c[u],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:l},value:t}),c[u]=!0,t[u]})}else w(!1,"invalid tuple value","tuple",t);w(e.length===r.length,"types/value length mismatch","tuple",t);let s=new fs,o=new fs,i=[];e.forEach((c,l)=>{let u=r[l];if(c.dynamic){let f=o.length;c.encode(o,u);let h=s.writeUpdatableValue();i.push(p=>{h(p+f)})}else c.encode(s,u)}),i.forEach(c=>{c(s.length)});let a=n.appendWriter(s);return a+=n.appendWriter(o),a}function Rc(n,e){let t=[],r=[],s=n.subReader(0);return e.forEach(o=>{let i=null;if(o.dynamic){let a=n.readIndex(),c=s.subReader(a);try{i=o.decode(c)}catch(l){if(ue(l,"BUFFER_OVERRUN"))throw l;i=l,i.baseType=o.name,i.name=o.localName,i.type=o.type}}else try{i=o.decode(n)}catch(a){if(ue(a,"BUFFER_OVERRUN"))throw a;i=a,i.baseType=o.name,i.name=o.localName,i.type=o.type}if(i==null)throw new Error("investigate");t.push(i),r.push(o.localName||null)}),Ft.fromItems(t,r)}class Tp extends Ze{coder;length;constructor(e,t,r){const s=e.type+"["+(t>=0?t:"")+"]",o=t===-1||e.dynamic;super("array",s,r,o),O(this,{coder:e,length:t})}defaultValue(){const e=this.coder.defaultValue(),t=[];for(let r=0;r<this.length;r++)t.push(e);return t}encode(e,t){const r=X.dereference(t,"array");Array.isArray(r)||this._throwError("expected array value",r);let s=this.length;s===-1&&(s=r.length,e.writeValue(r.length)),lc(r.length,s,"coder array"+(this.localName?" "+this.localName:""));let o=[];for(let i=0;i<r.length;i++)o.push(this.coder);return Pc(e,o,r)}decode(e){let t=this.length;t===-1&&(t=e.readIndex(),E(t*me<=e.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:e.bytes,offset:t*me,length:e.dataLength}));let r=[];for(let s=0;s<t;s++)r.push(new Op(this.coder));return Rc(e,r)}}class Ip extends Ze{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){const r=X.dereference(t,"bool");return e.writeValue(r?1:0)}decode(e){return!!e.readValue()}}class Nc extends Ze{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=he(t);let r=e.writeValue(t.length);return r+=e.writeBytes(t),r}decode(e){return e.readBytes(e.readIndex(),!0)}}class kp extends Nc{constructor(e){super("bytes",e)}decode(e){return S(super.decode(e))}}class Mp extends Ze{size;constructor(e,t){let r="bytes"+String(e);super(r,r,t,!1),O(this,{size:e},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,t){let r=he(X.dereference(t,this.type));return r.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(r)}decode(e){return S(e.readBytes(this.size))}}const Dp=new Uint8Array([]);class Bp extends Ze{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return t!=null&&this._throwError("not null",t),e.writeBytes(Dp)}decode(e){return e.readBytes(0),null}}const Fp=BigInt(0),$p=BigInt(1),Lp=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class Up extends Ze{size;signed;constructor(e,t,r){const s=(t?"int":"uint")+e*8;super(s,s,r,!1),O(this,{size:e,signed:t},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(e,t){let r=P(X.dereference(t,this.type)),s=tn(Lp,me*8);if(this.signed){let o=tn(s,this.size*8-1);(r>o||r<-(o+$p))&&this._throwError("value out-of-bounds",t),r=dc(r,8*me)}else(r<Fp||r>tn(s,this.size*8))&&this._throwError("value out-of-bounds",t);return e.writeValue(r)}decode(e){let t=tn(e.readValue(),this.size*8);return this.signed&&(t=rp(t,this.size*8)),t}}class _p extends Nc{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,je(X.dereference(t,"string")))}decode(e){return nr(super.decode(e))}}class Gn extends Ze{coders;constructor(e,t){let r=!1;const s=[];e.forEach(i=>{i.dynamic&&(r=!0),s.push(i.type)});const o="tuple("+s.join(",")+")";super("tuple",o,t,r),O(this,{coders:Object.freeze(e.slice())})}defaultValue(){const e=[];this.coders.forEach(r=>{e.push(r.defaultValue())});const t=this.coders.reduce((r,s)=>{const o=s.localName;return o&&(r[o]||(r[o]=0),r[o]++),r},{});return this.coders.forEach((r,s)=>{let o=r.localName;!o||t[o]!==1||(o==="length"&&(o="_length"),e[o]==null&&(e[o]=e[s]))}),Object.freeze(e)}encode(e,t){const r=X.dereference(t,"tuple");return Pc(e,this.coders,r)}decode(e){return Rc(e,this.coders)}}function mt(n){return K(je(n))}var Gp="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";const Yo=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),Xo=4;function Hp(n){let e=0;function t(){return n[e++]<<8|n[e++]}let r=t(),s=1,o=[0,1];for(let I=1;I<r;I++)o.push(s+=t());let i=t(),a=e;e+=i;let c=0,l=0;function u(){return c==0&&(l=l<<8|n[e++],c=8),l>>--c&1}const f=31,h=2**f,p=h>>>1,g=p>>1,m=h-1;let A=0;for(let I=0;I<f;I++)A=A<<1|u();let y=[],v=0,N=h;for(;;){let I=Math.floor(((A-v+1)*s-1)/N),j=0,$=r;for(;$-j>1;){let Q=j+$>>>1;I<o[Q]?$=Q:j=Q}if(j==0)break;y.push(j);let M=v+Math.floor(N*o[j]/s),k=v+Math.floor(N*o[j+1]/s)-1;for(;!((M^k)&p);)A=A<<1&m|u(),M=M<<1&m,k=k<<1&m|1;for(;M&~k&g;)A=A&p|A<<1&m>>>1|u(),M=M<<1^p,k=(k^p)<<1|p|1;v=M,N=1+k-M}let T=r-4;return y.map(I=>{switch(I-T){case 3:return T+65792+(n[a++]<<16|n[a++]<<8|n[a++]);case 2:return T+256+(n[a++]<<8|n[a++]);case 1:return T+n[a++];default:return I-1}})}function Qp(n){let e=0;return()=>n[e++]}function Sc(n){return Qp(Hp(Vp(n)))}function Vp(n){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((s,o)=>e[s.charCodeAt(0)]=o);let t=n.length,r=new Uint8Array(6*t>>3);for(let s=0,o=0,i=0,a=0;s<t;s++)a=a<<6|e[n.charCodeAt(s)],i+=6,i>=8&&(r[o++]=a>>(i-=8));return r}function zp(n){return n&1?~n>>1:n>>1}function jp(n,e){let t=Array(n);for(let r=0,s=0;r<n;r++)t[r]=s+=zp(e());return t}function pn(n,e=0){let t=[];for(;;){let r=n(),s=n();if(!s)break;e+=r;for(let o=0;o<s;o++)t.push(e+o);e+=s+1}return t}function Oc(n){return mn(()=>{let e=pn(n);if(e.length)return e})}function Tc(n){let e=[];for(;;){let t=n();if(t==0)break;e.push(Jp(t,n))}for(;;){let t=n()-1;if(t<0)break;e.push(Kp(t,n))}return e.flat()}function mn(n){let e=[];for(;;){let t=n(e.length);if(!t)break;e.push(t)}return e}function Ic(n,e,t){let r=Array(n).fill().map(()=>[]);for(let s=0;s<e;s++)jp(n,t).forEach((o,i)=>r[i].push(o));return r}function Jp(n,e){let t=1+e(),r=e(),s=mn(e);return Ic(s.length,1+n,e).flatMap((i,a)=>{let[c,...l]=i;return Array(s[a]).fill().map((u,f)=>{let h=f*r;return[c+f*t,l.map(p=>p+h)]})})}function Kp(n,e){let t=1+e();return Ic(t,1+n,e).map(s=>[s[0],s.slice(1)])}function Wp(n){let e=[],t=pn(n);return s(r([]),[]),e;function r(o){let i=n(),a=mn(()=>{let c=pn(n).map(l=>t[l]);if(c.length)return r(c)});return{S:i,B:a,Q:o}}function s({S:o,B:i},a,c){if(!(o&4&&c===a[a.length-1])){o&2&&(c=a[a.length-1]),o&1&&e.push(a);for(let l of i)for(let u of l.Q)s(l,[...a,u],c)}}}function Yp(n){return n.toString(16).toUpperCase().padStart(2,"0")}function kc(n){return`{${Yp(n)}}`}function Xp(n){let e=[];for(let t=0,r=n.length;t<r;){let s=n.codePointAt(t);t+=s<65536?1:2,e.push(s)}return e}function Gt(n){let t=n.length;if(t<4096)return String.fromCodePoint(...n);let r=[];for(let s=0;s<t;)r.push(String.fromCodePoint(...n.slice(s,s+=4096)));return r.join("")}function Zp(n,e){let t=n.length,r=t-e.length;for(let s=0;r==0&&s<t;s++)r=n[s]-e[s];return r}var qp="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";const gn=44032,rr=4352,sr=4449,or=4519,Mc=19,Dc=21,Ht=28,ir=Dc*Ht,em=Mc*ir,tm=gn+em,nm=rr+Mc,rm=sr+Dc,sm=or+Ht;function nn(n){return n>>24&255}function Bc(n){return n&16777215}let ds,Zo,hs,zn;function om(){let n=Sc(qp);ds=new Map(Oc(n).flatMap((e,t)=>e.map(r=>[r,t+1<<24]))),Zo=new Set(pn(n)),hs=new Map,zn=new Map;for(let[e,t]of Tc(n)){if(!Zo.has(e)&&t.length==2){let[r,s]=t,o=zn.get(r);o||(o=new Map,zn.set(r,o)),o.set(s,e)}hs.set(e,t.reverse())}}function Fc(n){return n>=gn&&n<tm}function im(n,e){if(n>=rr&&n<nm&&e>=sr&&e<rm)return gn+(n-rr)*ir+(e-sr)*Ht;if(Fc(n)&&e>or&&e<sm&&(n-gn)%Ht==0)return n+(e-or);{let t=zn.get(n);return t&&(t=t.get(e),t)?t:-1}}function $c(n){ds||om();let e=[],t=[],r=!1;function s(o){let i=ds.get(o);i&&(r=!0,o|=i),e.push(o)}for(let o of n)for(;;){if(o<128)e.push(o);else if(Fc(o)){let i=o-gn,a=i/ir|0,c=i%ir/Ht|0,l=i%Ht;s(rr+a),s(sr+c),l>0&&s(or+l)}else{let i=hs.get(o);i?t.push(...i):s(o)}if(!t.length)break;o=t.pop()}if(r&&e.length>1){let o=nn(e[0]);for(let i=1;i<e.length;i++){let a=nn(e[i]);if(a==0||o<=a){o=a;continue}let c=i-1;for(;;){let l=e[c+1];if(e[c+1]=e[c],e[c]=l,!c||(o=nn(e[--c]),o<=a))break}o=nn(e[i])}}return e}function am(n){let e=[],t=[],r=-1,s=0;for(let o of n){let i=nn(o),a=Bc(o);if(r==-1)i==0?r=a:e.push(a);else if(s>0&&s>=i)i==0?(e.push(r,...t),t.length=0,r=a):t.push(a),s=i;else{let c=im(r,a);c>=0?r=c:s==0&&i==0?(e.push(r),r=a):(t.push(a),s=i)}}return r>=0&&e.push(r,...t),e}function Lc(n){return $c(n).map(Bc)}function cm(n){return am($c(n))}const qo=45,Uc=".",_c=65039,Gc=1,ar=n=>Array.from(n);function wn(n,e){return n.P.has(e)||n.Q.has(e)}class lm extends Array{get is_emoji(){return!0}}let ps,Hc,ut,ms,Qc,$t,zr,Tt,lt,ei,gs;function Js(){if(ps)return;let n=Sc(Gp);const e=()=>pn(n),t=()=>new Set(e()),r=(u,f)=>f.forEach(h=>u.add(h));ps=new Map(Tc(n)),Hc=t(),ut=e(),ms=new Set(e().map(u=>ut[u])),ut=new Set(ut),Qc=t(),t();let s=Oc(n),o=n();const i=()=>{let u=new Set;return e().forEach(f=>r(u,s[f])),r(u,e()),u};$t=mn(u=>{let f=mn(n).map(h=>h+96);if(f.length){let h=u>=o;f[0]-=32,f=Gt(f),h&&(f=`Restricted[${f}]`);let p=i(),g=i(),m=!n();return{N:f,P:p,Q:g,M:m,R:h}}}),zr=t(),Tt=new Map;let a=e().concat(ar(zr)).sort((u,f)=>u-f);a.forEach((u,f)=>{let h=n(),p=a[f]=h?a[f-h]:{V:[],M:new Map};p.V.push(u),zr.has(u)||Tt.set(u,p)});for(let{V:u,M:f}of new Set(Tt.values())){let h=[];for(let g of u){let m=$t.filter(y=>wn(y,g)),A=h.find(({G:y})=>m.some(v=>y.has(v)));A||(A={G:new Set,V:[]},h.push(A)),A.V.push(g),r(A.G,m)}let p=h.flatMap(g=>ar(g.G));for(let{G:g,V:m}of h){let A=new Set(p.filter(y=>!g.has(y)));for(let y of m)f.set(y,A)}}lt=new Set;let c=new Set;const l=u=>lt.has(u)?c.add(u):lt.add(u);for(let u of $t){for(let f of u.P)l(f);for(let f of u.Q)l(f)}for(let u of lt)!Tt.has(u)&&!c.has(u)&&Tt.set(u,Gc);r(lt,Lc(lt)),ei=Wp(n).map(u=>lm.from(u)).sort(Zp),gs=new Map;for(let u of ei){let f=[gs];for(let h of u){let p=f.map(g=>{let m=g.get(h);return m||(m=new Map,g.set(h,m)),m});h===_c?f.push(...p):f=p}for(let h of f)h.V=u}}function Ks(n){return(Vc(n)?"":`${Ws(Er([n]))} `)+kc(n)}function Ws(n){return`"${n}"`}function um(n){if(n.length>=4&&n[2]==qo&&n[3]==qo)throw new Error(`invalid label extension: "${Gt(n.slice(0,4))}"`)}function fm(n){for(let t=n.lastIndexOf(95);t>0;)if(n[--t]!==95)throw new Error("underscore allowed only at start")}function dm(n){let e=n[0],t=Yo.get(e);if(t)throw sn(`leading ${t}`);let r=n.length,s=-1;for(let o=1;o<r;o++){e=n[o];let i=Yo.get(e);if(i){if(s==o)throw sn(`${t} + ${i}`);s=o+1,t=i}}if(s==r)throw sn(`trailing ${t}`)}function Er(n,e=1/0,t=kc){let r=[];hm(n[0])&&r.push(""),n.length>e&&(e>>=1,n=[...n.slice(0,e),8230,...n.slice(-e)]);let s=0,o=n.length;for(let i=0;i<o;i++){let a=n[i];Vc(a)&&(r.push(Gt(n.slice(s,i))),r.push(t(a)),s=i+1)}return r.push(Gt(n.slice(s,o))),r.join("")}function hm(n){return Js(),ut.has(n)}function Vc(n){return Js(),Qc.has(n)}function pm(n){return ym(mm(n,cm,Em))}function mm(n,e,t){if(!n)return[];Js();let r=0;return n.split(Uc).map(s=>{let o=Xp(s),i={input:o,offset:r};r+=o.length+1;try{let a=i.tokens=Am(o,e,t),c=a.length,l;if(!c)throw new Error("empty label");let u=i.output=a.flat();if(fm(u),!(i.emoji=c>1||a[0].is_emoji)&&u.every(h=>h<128))um(u),l="ASCII";else{let h=a.flatMap(p=>p.is_emoji?[]:p);if(!h.length)l="Emoji";else{if(ut.has(u[0]))throw sn("leading combining mark");for(let m=1;m<c;m++){let A=a[m];if(!A.is_emoji&&ut.has(A[0]))throw sn(`emoji + combining mark: "${Gt(a[m-1])} + ${Er([A[0]])}"`)}dm(u);let p=ar(new Set(h)),[g]=wm(p);bm(g,h),gm(g,p),l=g.N}}i.type=l}catch(a){i.error=a}return i})}function gm(n,e){let t,r=[];for(let s of e){let o=Tt.get(s);if(o===Gc)return;if(o){let i=o.M.get(s);if(t=t?t.filter(a=>i.has(a)):ar(i),!t.length)return}else r.push(s)}if(t){for(let s of t)if(r.every(o=>wn(s,o)))throw new Error(`whole-script confusable: ${n.N}/${s.N}`)}}function wm(n){let e=$t;for(let t of n){let r=e.filter(s=>wn(s,t));if(!r.length)throw $t.some(s=>wn(s,t))?jc(e[0],t):zc(t);if(e=r,r.length==1)break}return e}function ym(n){return n.map(({input:e,error:t,output:r})=>{if(t){let s=t.message;throw new Error(n.length==1?s:`Invalid label ${Ws(Er(e,63))}: ${s}`)}return Gt(r)}).join(Uc)}function zc(n){return new Error(`disallowed character: ${Ks(n)}`)}function jc(n,e){let t=Ks(e),r=$t.find(s=>s.P.has(e));return r&&(t=`${r.N} ${t}`),new Error(`illegal mixture: ${n.N} + ${t}`)}function sn(n){return new Error(`illegal placement: ${n}`)}function bm(n,e){for(let t of e)if(!wn(n,t))throw jc(n,t);if(n.M){let t=Lc(e);for(let r=1,s=t.length;r<s;r++)if(ms.has(t[r])){let o=r+1;for(let i;o<s&&ms.has(i=t[o]);o++)for(let a=r;a<o;a++)if(t[a]==i)throw new Error(`duplicate non-spacing marks: ${Ks(i)}`);if(o-r>Xo)throw new Error(`excessive non-spacing marks: ${Ws(Er(t.slice(r-1,o)))} (${o-r}/${Xo})`);r=o}}}function Am(n,e,t){let r=[],s=[];for(n=n.slice().reverse();n.length;){let o=vm(n);if(o)s.length&&(r.push(e(s)),s=[]),r.push(t(o));else{let i=n.pop();if(lt.has(i))s.push(i);else{let a=ps.get(i);if(a)s.push(...a);else if(!Hc.has(i))throw zc(i)}}}return s.length&&r.push(e(s)),r}function Em(n){return n.filter(e=>e!=_c)}function vm(n,e){let t=gs,r,s=n.length;for(;s&&(t=t.get(n[--s]),!!t);){let{V:o}=t;o&&(r=o,n.length=s)}return r}const Jc=new Uint8Array(32);Jc.fill(0);function ti(n){return w(n.length!==0,"invalid ENS name; empty component","comp",n),n}function Kc(n){const e=je(Cm(n)),t=[];if(n.length===0)return t;let r=0;for(let s=0;s<e.length;s++)e[s]===46&&(t.push(ti(e.slice(r,s))),r=s+1);return w(r<e.length,"invalid ENS name; empty component","name",n),t.push(ti(e.slice(r))),t}function Cm(n){try{if(n.length===0)throw new Error("empty label");return pm(n)}catch(e){w(!1,`invalid ENS name (${e.message})`,"name",n)}}function ws(n){w(typeof n=="string","invalid ENS name; not a string","name",n),w(n.length,"invalid ENS name (empty label)","name",n);let e=Jc;const t=Kc(n);for(;t.length;)e=K(te([e,K(t.pop())]));return S(e)}function xm(n,e){const t=e;return w(t<=255,"DNS encoded label cannot exceed 255","length",t),S(te(Kc(n).map(r=>{w(r.length<=t,`label ${JSON.stringify(n)} exceeds ${t} bytes`,"name",n);const s=new Uint8Array(r.length+1);return s.set(r,1),s[0]=s.length-1,s})))+"00"}function jr(n,e){return{address:H(n),storageKeys:e.map((t,r)=>(w(z(t,32),"invalid slot",`storageKeys[${r}]`,t),t.toLowerCase()))}}function At(n){if(Array.isArray(n))return n.map((t,r)=>Array.isArray(t)?(w(t.length===2,"invalid slot set",`value[${r}]`,t),jr(t[0],t[1])):(w(t!=null&&typeof t=="object","invalid address-slot set","value",n),jr(t.address,t.storageKeys)));w(n!=null&&typeof n=="object","invalid access list","value",n);const e=Object.keys(n).map(t=>{const r=n[t].reduce((s,o)=>(s[o]=!0,s),{});return jr(t,Object.keys(r).sort())});return e.sort((t,r)=>t.address.localeCompare(r.address)),e}function Pm(n){let e;return typeof n=="string"?e=Ve.computePublicKey(n,!1):e=n.publicKey,H(K("0x"+e.substring(4)).substring(26))}function Rm(n,e){return Pm(Ve.recoverPublicKey(n,e))}const oe=BigInt(0),Nm=BigInt(2),Sm=BigInt(27),Om=BigInt(28),Tm=BigInt(35),Im=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function vr(n){return n==="0x"?null:H(n)}function Ys(n,e){try{return At(n)}catch(t){w(!1,t.message,e,n)}}function vn(n,e){return n==="0x"?0:F(n,e)}function q(n,e){if(n==="0x")return oe;const t=P(n,e);return w(t<=Im,"value exceeds uint size",e,t),t}function J(n,e){const t=P(n,"value"),r=pe(t);return w(r.length<=32,"value too large",`tx.${e}`,t),r}function Xs(n){return At(n).map(e=>[e.address,e.storageKeys])}function km(n,e){w(Array.isArray(n),`invalid ${e}`,"value",n);for(let t=0;t<n.length;t++)w(z(n[t],32),"invalid ${ param } hash",`value[${t}]`,n[t]);return n}function Mm(n){const e=Ar(n);w(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",n);const t={type:0,nonce:vn(e[0],"nonce"),gasPrice:q(e[1],"gasPrice"),gasLimit:q(e[2],"gasLimit"),to:vr(e[3]),value:q(e[4],"value"),data:S(e[5]),chainId:oe};if(e.length===6)return t;const r=q(e[6],"v"),s=q(e[7],"r"),o=q(e[8],"s");if(s===oe&&o===oe)t.chainId=r;else{let i=(r-Tm)/Nm;i<oe&&(i=oe),t.chainId=i,w(i!==oe||r===Sm||r===Om,"non-canonical legacy v","v",e[6]),t.signature=ne.from({r:pt(e[7],32),s:pt(e[8],32),v:r}),t.hash=K(n)}return t}function ni(n,e){const t=[J(n.nonce,"nonce"),J(n.gasPrice||0,"gasPrice"),J(n.gasLimit,"gasLimit"),n.to||"0x",J(n.value,"value"),n.data];let r=oe;if(n.chainId!=oe)r=P(n.chainId,"tx.chainId"),w(!e||e.networkV==null||e.legacyChainId===r,"tx.chainId/sig.v mismatch","sig",e);else if(n.signature){const o=n.signature.legacyChainId;o!=null&&(r=o)}if(!e)return r!==oe&&(t.push(pe(r)),t.push("0x"),t.push("0x")),_t(t);let s=BigInt(27+e.yParity);return r!==oe?s=ne.getChainIdV(r,e.v):BigInt(e.v)!==s&&w(!1,"tx.chainId/sig.v mismatch","sig",e),t.push(pe(s)),t.push(pe(e.r)),t.push(pe(e.s)),_t(t)}function Zs(n,e){let t;try{if(t=vn(e[0],"yParity"),t!==0&&t!==1)throw new Error("bad yParity")}catch{w(!1,"invalid yParity","yParity",e[0])}const r=pt(e[1],32),s=pt(e[2],32),o=ne.from({r,s,yParity:t});n.signature=o}function Dm(n){const e=Ar(G(n).slice(1));w(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",S(n));const t={type:2,chainId:q(e[0],"chainId"),nonce:vn(e[1],"nonce"),maxPriorityFeePerGas:q(e[2],"maxPriorityFeePerGas"),maxFeePerGas:q(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:q(e[4],"gasLimit"),to:vr(e[5]),value:q(e[6],"value"),data:S(e[7]),accessList:Ys(e[8],"accessList")};return e.length===9||(t.hash=K(n),Zs(t,e.slice(9))),t}function ri(n,e){const t=[J(n.chainId,"chainId"),J(n.nonce,"nonce"),J(n.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),J(n.maxFeePerGas||0,"maxFeePerGas"),J(n.gasLimit,"gasLimit"),n.to||"0x",J(n.value,"value"),n.data,Xs(n.accessList||[])];return e&&(t.push(J(e.yParity,"yParity")),t.push(pe(e.r)),t.push(pe(e.s))),te(["0x02",_t(t)])}function Bm(n){const e=Ar(G(n).slice(1));w(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",S(n));const t={type:1,chainId:q(e[0],"chainId"),nonce:vn(e[1],"nonce"),gasPrice:q(e[2],"gasPrice"),gasLimit:q(e[3],"gasLimit"),to:vr(e[4]),value:q(e[5],"value"),data:S(e[6]),accessList:Ys(e[7],"accessList")};return e.length===8||(t.hash=K(n),Zs(t,e.slice(8))),t}function si(n,e){const t=[J(n.chainId,"chainId"),J(n.nonce,"nonce"),J(n.gasPrice||0,"gasPrice"),J(n.gasLimit,"gasLimit"),n.to||"0x",J(n.value,"value"),n.data,Xs(n.accessList||[])];return e&&(t.push(J(e.yParity,"recoveryParam")),t.push(pe(e.r)),t.push(pe(e.s))),te(["0x01",_t(t)])}function Fm(n){const e=Ar(G(n).slice(1));w(Array.isArray(e)&&(e.length===11||e.length===14),"invalid field count for transaction type: 3","data",S(n));const t={type:3,chainId:q(e[0],"chainId"),nonce:vn(e[1],"nonce"),maxPriorityFeePerGas:q(e[2],"maxPriorityFeePerGas"),maxFeePerGas:q(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:q(e[4],"gasLimit"),to:vr(e[5]),value:q(e[6],"value"),data:S(e[7]),accessList:Ys(e[8],"accessList"),maxFeePerBlobGas:q(e[9],"maxFeePerBlobGas"),blobVersionedHashes:e[10]};w(t.to!=null,"invalid address for transaction type: 3","data",n),w(Array.isArray(t.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",n);for(let r=0;r<t.blobVersionedHashes.length;r++)w(z(t.blobVersionedHashes[r],32),`invalid blobVersionedHash at index ${r}: must be length 32`,"data",n);return e.length===11||(t.hash=K(n),Zs(t,e.slice(11))),t}function oi(n,e){const t=[J(n.chainId,"chainId"),J(n.nonce,"nonce"),J(n.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),J(n.maxFeePerGas||0,"maxFeePerGas"),J(n.gasLimit,"gasLimit"),n.to||hn,J(n.value,"value"),n.data,Xs(n.accessList||[]),J(n.maxFeePerBlobGas||0,"maxFeePerBlobGas"),km(n.blobVersionedHashes||[],"blobVersionedHashes")];return e&&(t.push(J(e.yParity,"yParity")),t.push(pe(e.r)),t.push(pe(e.s))),te(["0x03",_t(t)])}class Be{#e;#t;#n;#r;#s;#i;#o;#a;#f;#l;#d;#h;#c;#u;get type(){return this.#e}set type(e){switch(e){case null:this.#e=null;break;case 0:case"legacy":this.#e=0;break;case 1:case"berlin":case"eip-2930":this.#e=1;break;case 2:case"london":case"eip-1559":this.#e=2;break;case 3:case"cancun":case"eip-4844":this.#e=3;break;default:w(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844"}return null}get to(){const e=this.#t;return e==null&&this.type===3?hn:e}set to(e){this.#t=e==null?null:H(e)}get nonce(){return this.#r}set nonce(e){this.#r=F(e,"value")}get gasLimit(){return this.#s}set gasLimit(e){this.#s=P(e)}get gasPrice(){const e=this.#i;return e==null&&(this.type===0||this.type===1)?oe:e}set gasPrice(e){this.#i=e==null?null:P(e,"gasPrice")}get maxPriorityFeePerGas(){const e=this.#o;return e??(this.type===2||this.type===3?oe:null)}set maxPriorityFeePerGas(e){this.#o=e==null?null:P(e,"maxPriorityFeePerGas")}get maxFeePerGas(){const e=this.#a;return e??(this.type===2||this.type===3?oe:null)}set maxFeePerGas(e){this.#a=e==null?null:P(e,"maxFeePerGas")}get data(){return this.#n}set data(e){this.#n=S(e)}get value(){return this.#f}set value(e){this.#f=P(e,"value")}get chainId(){return this.#l}set chainId(e){this.#l=P(e)}get signature(){return this.#d||null}set signature(e){this.#d=e==null?null:ne.from(e)}get accessList(){const e=this.#h||null;return e??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(e){this.#h=e==null?null:At(e)}get maxFeePerBlobGas(){const e=this.#c;return e==null&&this.type===3?oe:e}set maxFeePerBlobGas(e){this.#c=e==null?null:P(e,"maxFeePerBlobGas")}get blobVersionedHashes(){let e=this.#u;return e==null&&this.type===3?[]:e}set blobVersionedHashes(e){if(e!=null){w(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let t=0;t<e.length;t++)w(z(e[t],32),"invalid blobVersionedHash",`value[${t}]`,e[t])}this.#u=e}constructor(){this.#e=null,this.#t=null,this.#r=0,this.#s=oe,this.#i=null,this.#o=null,this.#a=null,this.#n="0x",this.#f=oe,this.#l=oe,this.#d=null,this.#h=null,this.#c=null,this.#u=null}get hash(){return this.signature==null?null:K(this.serialized)}get unsignedHash(){return K(this.unsignedSerialized)}get from(){return this.signature==null?null:Rm(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:Ve.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}get serialized(){switch(E(this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"}),this.inferType()){case 0:return ni(this,this.signature);case 1:return si(this,this.signature);case 2:return ri(this,this.signature);case 3:return oi(this,this.signature)}E(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get unsignedSerialized(){switch(this.inferType()){case 0:return ni(this);case 1:return si(this);case 2:return ri(this);case 3:return oi(this)}E(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".unsignedSerialized"})}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=this.gasPrice!=null,t=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,r=this.accessList!=null,s=this.#c!=null||this.#u;this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&E(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),E(!t||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),E(this.type!==0||!r,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const o=[];return this.type!=null?o.push(this.type):t?o.push(2):e?(o.push(1),r||o.push(0)):r?(o.push(1),o.push(2)):(s&&this.to||(o.push(0),o.push(1),o.push(2)),o.push(3)),o.sort(),o}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return Be.from(this)}toJSON(){const e=t=>t==null?null:t.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(e==null)return new Be;if(typeof e=="string"){const r=G(e);if(r[0]>=127)return Be.from(Mm(r));switch(r[0]){case 1:return Be.from(Bm(r));case 2:return Be.from(Dm(r));case 3:return Be.from(Fm(r))}E(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const t=new Be;return e.type!=null&&(t.type=e.type),e.to!=null&&(t.to=e.to),e.nonce!=null&&(t.nonce=e.nonce),e.gasLimit!=null&&(t.gasLimit=e.gasLimit),e.gasPrice!=null&&(t.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(t.maxFeePerGas=e.maxFeePerGas),e.maxFeePerBlobGas!=null&&(t.maxFeePerBlobGas=e.maxFeePerBlobGas),e.data!=null&&(t.data=e.data),e.value!=null&&(t.value=e.value),e.chainId!=null&&(t.chainId=e.chainId),e.signature!=null&&(t.signature=ne.from(e.signature)),e.accessList!=null&&(t.accessList=e.accessList),e.blobVersionedHashes!=null&&(t.blobVersionedHashes=e.blobVersionedHashes),e.hash!=null&&(w(t.isSigned(),"unsigned transaction cannot define hash","tx",e),w(t.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&(w(t.isSigned(),"unsigned transaction cannot define from","tx",e),w(t.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),t}}const Wc=new Uint8Array(32);Wc.fill(0);const $m=BigInt(-1),Yc=BigInt(0),Xc=BigInt(1),Lm=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function Um(n){const e=G(n),t=e.length%32;return t?te([e,Wc.slice(t)]):S(e)}const _m=nt(Xc,32),Gm=nt(Yc,32),ii={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},Jr=["name","version","chainId","verifyingContract","salt"];function ai(n){return function(e){return w(typeof e=="string",`invalid domain value for ${JSON.stringify(n)}`,`domain.${n}`,e),e}}const Hm={name:ai("name"),version:ai("version"),chainId:function(n){const e=P(n,"domain.chainId");return w(e>=0,"invalid chain ID","domain.chainId",n),Number.isSafeInteger(e)?Number(e):Mt(e)},verifyingContract:function(n){try{return H(n).toLowerCase()}catch{}w(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",n)},salt:function(n){const e=G(n,"domain.salt");return w(e.length===32,'invalid domain value "salt"',"domain.salt",n),S(e)}};function Kr(n){{const e=n.match(/^(u?)int(\d+)$/);if(e){const t=e[1]==="",r=parseInt(e[2]);w(r%8===0&&r!==0&&r<=256&&e[2]===String(r),"invalid numeric width","type",n);const s=tn(Lm,t?r-1:r),o=t?(s+Xc)*$m:Yc;return function(i){const a=P(i,"value");return w(a>=o&&a<=s,`value out-of-bounds for ${n}`,"value",a),nt(t?dc(a,256):a,32)}}}{const e=n.match(/^bytes(\d+)$/);if(e){const t=parseInt(e[1]);return w(t!==0&&t<=32&&e[1]===String(t),"invalid bytes width","type",n),function(r){const s=G(r);return w(s.length===t,`invalid length for ${n}`,"value",r),Um(r)}}}switch(n){case"address":return function(e){return pt(H(e),32)};case"bool":return function(e){return e?_m:Gm};case"bytes":return function(e){return K(e)};case"string":return function(e){return mt(e)}}return null}function ci(n,e){return`${n}(${e.map(({name:t,type:r})=>r+" "+t).join(",")})`}function Hn(n){const e=n.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return e?{base:e[1],index:e[2]+e[4],array:{base:e[1],prefix:e[1]+e[2],count:e[5]?parseInt(e[5]):-1}}:{base:n}}class ve{primaryType;#e;get types(){return JSON.parse(this.#e)}#t;#n;constructor(e){this.#t=new Map,this.#n=new Map;const t=new Map,r=new Map,s=new Map,o={};Object.keys(e).forEach(c=>{o[c]=e[c].map(({name:l,type:u})=>{let{base:f,index:h}=Hn(u);return f==="int"&&!e.int&&(f="int256"),f==="uint"&&!e.uint&&(f="uint256"),{name:l,type:f+(h||"")}}),t.set(c,new Set),r.set(c,[]),s.set(c,new Set)}),this.#e=JSON.stringify(o);for(const c in o){const l=new Set;for(const u of o[c]){w(!l.has(u.name),`duplicate variable name ${JSON.stringify(u.name)} in ${JSON.stringify(c)}`,"types",e),l.add(u.name);const f=Hn(u.type).base;w(f!==c,`circular type reference to ${JSON.stringify(f)}`,"types",e),!Kr(f)&&(w(r.has(f),`unknown type ${JSON.stringify(f)}`,"types",e),r.get(f).push(c),t.get(c).add(f))}}const i=Array.from(r.keys()).filter(c=>r.get(c).length===0);w(i.length!==0,"missing primary type","types",e),w(i.length===1,`ambiguous primary types or unused types: ${i.map(c=>JSON.stringify(c)).join(", ")}`,"types",e),O(this,{primaryType:i[0]});function a(c,l){w(!l.has(c),`circular type reference to ${JSON.stringify(c)}`,"types",e),l.add(c);for(const u of t.get(c))if(r.has(u)){a(u,l);for(const f of l)s.get(f).add(u)}l.delete(c)}a(this.primaryType,new Set);for(const[c,l]of s){const u=Array.from(l);u.sort(),this.#t.set(c,ci(c,o[c])+u.map(f=>ci(f,o[f])).join(""))}}getEncoder(e){let t=this.#n.get(e);return t||(t=this.#r(e),this.#n.set(e,t)),t}#r(e){{const s=Kr(e);if(s)return s}const t=Hn(e).array;if(t){const s=t.prefix,o=this.getEncoder(s);return i=>{w(t.count===-1||t.count===i.length,`array length mismatch; expected length ${t.count}`,"value",i);let a=i.map(o);return this.#t.has(s)&&(a=a.map(K)),K(te(a))}}const r=this.types[e];if(r){const s=mt(this.#t.get(e));return o=>{const i=r.map(({name:a,type:c})=>{const l=this.getEncoder(c)(o[a]);return this.#t.has(c)?K(l):l});return i.unshift(s),te(i)}}w(!1,`unknown type: ${e}`,"type",e)}encodeType(e){const t=this.#t.get(e);return w(t,`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return K(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,r){if(Kr(e))return r(e,t);const s=Hn(e).array;if(s)return w(s.count===-1||s.count===t.length,`array length mismatch; expected length ${s.count}`,"value",t),t.map(i=>this._visit(s.prefix,i,r));const o=this.types[e];if(o)return o.reduce((i,{name:a,type:c})=>(i[a]=this._visit(c,t[a],r),i),{});w(!1,`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new ve(e)}static getPrimaryType(e){return ve.from(e).primaryType}static hashStruct(e,t,r){return ve.from(t).hashStruct(e,r)}static hashDomain(e){const t=[];for(const r in e){if(e[r]==null)continue;const s=ii[r];w(s,`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),t.push({name:r,type:s})}return t.sort((r,s)=>Jr.indexOf(r.name)-Jr.indexOf(s.name)),ve.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,r){return te(["0x1901",ve.hashDomain(e),ve.from(t).hash(r)])}static hash(e,t,r){return K(ve.encode(e,t,r))}static async resolveNames(e,t,r,s){e=Object.assign({},e);for(const a in e)e[a]==null&&delete e[a];const o={};e.verifyingContract&&!z(e.verifyingContract,20)&&(o[e.verifyingContract]="0x");const i=ve.from(t);i.visit(r,(a,c)=>(a==="address"&&!z(c,20)&&(o[c]="0x"),c));for(const a in o)o[a]=await s(a);return e.verifyingContract&&o[e.verifyingContract]&&(e.verifyingContract=o[e.verifyingContract]),r=i.visit(r,(a,c)=>a==="address"&&o[c]?o[c]:c),{domain:e,value:r}}static getPayload(e,t,r){ve.hashDomain(e);const s={},o=[];Jr.forEach(c=>{const l=e[c];l!=null&&(s[c]=Hm[c](l),o.push({name:c,type:ii[c]}))});const i=ve.from(t);t=i.types;const a=Object.assign({},t);return w(a.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",t),a.EIP712Domain=o,i.encode(r),{types:a,domain:s,primaryType:i.primaryType,message:i.visit(r,(c,l)=>{if(c.match(/^bytes(\d*)/))return S(G(l));if(c.match(/^u?int/))return P(l).toString();switch(c){case"address":return l.toLowerCase();case"bool":return!!l;case"string":return w(typeof l=="string","invalid string","value",l),l}w(!1,"unsupported type","type",c)})}}}function we(n){const e=new Set;return n.forEach(t=>e.add(t)),Object.freeze(e)}const Qm="external public payable override",Vm=we(Qm.split(" ")),Zc="constant external internal payable private public pure view override",zm=we(Zc.split(" ")),qc="constructor error event fallback function receive struct",el=we(qc.split(" ")),tl="calldata memory storage payable indexed",jm=we(tl.split(" ")),Jm="tuple returns",Km=[qc,tl,Jm,Zc].join(" "),Wm=we(Km.split(" ")),Ym={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},Xm=new RegExp("^(\\s*)"),Zm=new RegExp("^([0-9]+)"),qm=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),nl=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),rl=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");class Se{#e;#t;get offset(){return this.#e}get length(){return this.#t.length-this.#e}constructor(e){this.#e=0,this.#t=e.slice()}clone(){return new Se(this.#t)}reset(){this.#e=0}#n(e=0,t=0){return new Se(this.#t.slice(e,t).map(r=>Object.freeze(Object.assign({},r,{match:r.match-e,linkBack:r.linkBack-e,linkNext:r.linkNext-e}))))}popKeyword(e){const t=this.peek();if(t.type!=="KEYWORD"||!e.has(t.text))throw new Error(`expected keyword ${t.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){const t=this.peek();throw new Error(`expected ${e}; got ${t.type} ${JSON.stringify(t.text)}`)}return this.pop().text}popParen(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const t=this.#n(this.#e+1,e.match+1);return this.#e=e.match+1,t}popParams(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const t=[];for(;this.#e<e.match-1;){const r=this.peek().linkNext;t.push(this.#n(this.#e+1,r)),this.#e=r}return this.#e=e.match+1,t}peek(){if(this.#e>=this.#t.length)throw new Error("out-of-bounds");return this.#t[this.#e]}peekKeyword(e){const t=this.peekType("KEYWORD");return t!=null&&e.has(t)?t:null}peekType(e){if(this.length===0)return null;const t=this.peek();return t.type===e?t.text:null}pop(){const e=this.peek();return this.#e++,e}toString(){const e=[];for(let t=this.#e;t<this.#t.length;t++){const r=this.#t[t];e.push(`${r.type}:${r.text}`)}return`<TokenString ${e.join(" ")}>`}}function st(n){const e=[],t=i=>{const a=o<n.length?JSON.stringify(n[o]):"$EOI";throw new Error(`invalid token ${a} at ${o}: ${i}`)};let r=[],s=[],o=0;for(;o<n.length;){let i=n.substring(o),a=i.match(Xm);a&&(o+=a[1].length,i=n.substring(o));const c={depth:r.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:o,value:-1};e.push(c);let l=Ym[i[0]]||"";if(l){if(c.type=l,c.text=i[0],o++,l==="OPEN_PAREN")r.push(e.length-1),s.push(e.length-1);else if(l=="CLOSE_PAREN")r.length===0&&t("no matching open bracket"),c.match=r.pop(),e[c.match].match=e.length-1,c.depth--,c.linkBack=s.pop(),e[c.linkBack].linkNext=e.length-1;else if(l==="COMMA")c.linkBack=s.pop(),e[c.linkBack].linkNext=e.length-1,s.push(e.length-1);else if(l==="OPEN_BRACKET")c.type="BRACKET";else if(l==="CLOSE_BRACKET"){let u=e.pop().text;if(e.length>0&&e[e.length-1].type==="NUMBER"){const f=e.pop().text;u=f+u,e[e.length-1].value=F(f)}if(e.length===0||e[e.length-1].type!=="BRACKET")throw new Error("missing opening bracket");e[e.length-1].text+=u}continue}if(a=i.match(qm),a){if(c.text=a[1],o+=c.text.length,Wm.has(c.text)){c.type="KEYWORD";continue}if(c.text.match(rl)){c.type="TYPE";continue}c.type="ID";continue}if(a=i.match(Zm),a){c.text=a[1],c.type="NUMBER",o+=c.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(i[0])} at position ${o}`)}return new Se(e.map(i=>Object.freeze(i)))}function li(n,e){let t=[];for(const r in e.keys())n.has(r)&&t.push(r);if(t.length>1)throw new Error(`conflicting types: ${t.join(", ")}`)}function Cr(n,e){if(e.peekKeyword(el)){const t=e.pop().text;if(t!==n)throw new Error(`expected ${n}, got ${t}`)}return e.popType("ID")}function We(n,e){const t=new Set;for(;;){const r=n.peekType("KEYWORD");if(r==null||e&&!e.has(r))break;if(n.pop(),t.has(r))throw new Error(`duplicate keywords: ${JSON.stringify(r)}`);t.add(r)}return Object.freeze(t)}function sl(n){let e=We(n,zm);return li(e,we("constant payable nonpayable".split(" "))),li(e,we("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function Je(n,e){return n.popParams().map(t=>V.from(t,e))}function ol(n){if(n.peekType("AT")){if(n.pop(),n.peekType("NUMBER"))return P(n.pop().text);throw new Error("invalid gas")}return null}function gt(n){if(n.length)throw new Error(`unexpected tokens at offset ${n.offset}: ${n.toString()}`)}const eg=new RegExp(/^(.*)\[([0-9]*)\]$/);function ui(n){const e=n.match(rl);if(w(e,"invalid type","type",n),n==="uint")return"uint256";if(n==="int")return"int256";if(e[2]){const t=parseInt(e[2]);w(t!==0&&t<=32,"invalid bytes length","type",n)}else if(e[3]){const t=parseInt(e[3]);w(t!==0&&t<=256&&t%8===0,"invalid numeric width","type",n)}return n}const W={},Ee=Symbol.for("_ethers_internal"),fi="_ParamTypeInternal",di="_ErrorInternal",hi="_EventInternal",pi="_ConstructorInternal",mi="_FallbackInternal",gi="_FunctionInternal",wi="_StructInternal";class V{name;type;baseType;indexed;components;arrayLength;arrayChildren;constructor(e,t,r,s,o,i,a,c){if(wr(e,W,"ParamType"),Object.defineProperty(this,Ee,{value:fi}),i&&(i=Object.freeze(i.slice())),s==="array"){if(a==null||c==null)throw new Error("")}else if(a!=null||c!=null)throw new Error("");if(s==="tuple"){if(i==null)throw new Error("")}else if(i!=null)throw new Error("");O(this,{name:t,type:r,baseType:s,indexed:o,components:i,arrayLength:a,arrayChildren:c})}format(e){if(e==null&&(e="sighash"),e==="json"){const r=this.name||"";if(this.isArray()){const o=JSON.parse(this.arrayChildren.format("json"));return o.name=r,o.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(o)}const s={type:this.baseType==="tuple"?"tuple":this.type,name:r};return typeof this.indexed=="boolean"&&(s.indexed=this.indexed),this.isTuple()&&(s.components=this.components.map(o=>JSON.parse(o.format(e)))),JSON.stringify(s)}let t="";return this.isArray()?(t+=this.arrayChildren.format(e),t+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?t+="("+this.components.map(r=>r.format(e)).join(e==="full"?", ":",")+")":t+=this.type,e!=="sighash"&&(this.indexed===!0&&(t+=" indexed"),e==="full"&&this.name&&(t+=" "+this.name)),t}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(e,t){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");const r=this;return e.map(s=>r.arrayChildren.walk(s,t))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const r=this;return e.map((s,o)=>r.components[o].walk(s,t))}return t(this.type,e)}#e(e,t,r,s){if(this.isArray()){if(!Array.isArray(t))throw new Error("invalid array value");if(this.arrayLength!==-1&&t.length!==this.arrayLength)throw new Error("array is wrong length");const i=this.arrayChildren,a=t.slice();a.forEach((c,l)=>{i.#e(e,c,r,u=>{a[l]=u})}),s(a);return}if(this.isTuple()){const i=this.components;let a;if(Array.isArray(t))a=t.slice();else{if(t==null||typeof t!="object")throw new Error("invalid tuple value");a=i.map(c=>{if(!c.name)throw new Error("cannot use object value with unnamed components");if(!(c.name in t))throw new Error(`missing value for component ${c.name}`);return t[c.name]})}if(a.length!==this.components.length)throw new Error("array is wrong length");a.forEach((c,l)=>{i[l].#e(e,c,r,u=>{a[l]=u})}),s(a);return}const o=r(this.type,t);o.then?e.push(async function(){s(await o)}()):s(o)}async walkAsync(e,t){const r=[],s=[e];return this.#e(r,e,t,o=>{s[0]=o}),r.length&&await Promise.all(r),s[0]}static from(e,t){if(V.isParamType(e))return e;if(typeof e=="string")try{return V.from(st(e),t)}catch{w(!1,"invalid param type","obj",e)}else if(e instanceof Se){let a="",c="",l=null;We(e,we(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(c="tuple",l=e.popParams().map(m=>V.from(m)),a=`tuple(${l.map(m=>m.format()).join(",")})`):(a=ui(e.popType("TYPE")),c=a);let u=null,f=null;for(;e.length&&e.peekType("BRACKET");){const m=e.pop();u=new V(W,"",a,c,null,l,f,u),f=m.value,a+=m.text,c="array",l=null}let h=null;if(We(e,jm).has("indexed")){if(!t)throw new Error("");h=!0}const g=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new V(W,g,a,c,h,l,f,u)}const r=e.name;w(!r||typeof r=="string"&&r.match(nl),"invalid name","obj.name",r);let s=e.indexed;s!=null&&(w(t,"parameter cannot be indexed","obj.indexed",e.indexed),s=!!s);let o=e.type,i=o.match(eg);if(i){const a=parseInt(i[2]||"-1"),c=V.from({type:i[1],components:e.components});return new V(W,r||"",o,"array",s,null,a,c)}if(o==="tuple"||o.startsWith("tuple(")||o.startsWith("(")){const a=e.components!=null?e.components.map(l=>V.from(l)):null;return new V(W,r||"",o,"tuple",s,a,null,null)}return o=ui(e.type),new V(W,r||"",o,o,s,null,null,null)}static isParamType(e){return e&&e[Ee]===fi}}class wt{type;inputs;constructor(e,t,r){wr(e,W,"Fragment"),r=Object.freeze(r.slice()),O(this,{type:t,inputs:r})}static from(e){if(typeof e=="string"){try{wt.from(JSON.parse(e))}catch{}return wt.from(st(e))}if(e instanceof Se)switch(e.peekKeyword(el)){case"constructor":return ze.from(e);case"error":return Ae.from(e);case"event":return Fe.from(e);case"fallback":case"receive":return Qe.from(e);case"function":return $e.from(e);case"struct":return dt.from(e)}else if(typeof e=="object"){switch(e.type){case"constructor":return ze.from(e);case"error":return Ae.from(e);case"event":return Fe.from(e);case"fallback":case"receive":return Qe.from(e);case"function":return $e.from(e);case"struct":return dt.from(e)}E(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}w(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return ze.isFragment(e)}static isError(e){return Ae.isFragment(e)}static isEvent(e){return Fe.isFragment(e)}static isFunction(e){return $e.isFragment(e)}static isStruct(e){return dt.isFragment(e)}}class xr extends wt{name;constructor(e,t,r,s){super(e,t,s),w(typeof r=="string"&&r.match(nl),"invalid identifier","name",r),s=Object.freeze(s.slice()),O(this,{name:r})}}function yn(n,e){return"("+e.map(t=>t.format(n)).join(n==="full"?", ":",")+")"}class Ae extends xr{constructor(e,t,r){super(e,"error",t,r),Object.defineProperty(this,Ee,{value:di})}get selector(){return mt(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});const t=[];return e!=="sighash"&&t.push("error"),t.push(this.name+yn(e,this.inputs)),t.join(" ")}static from(e){if(Ae.isFragment(e))return e;if(typeof e=="string")return Ae.from(st(e));if(e instanceof Se){const t=Cr("error",e),r=Je(e);return gt(e),new Ae(W,t,r)}return new Ae(W,e.name,e.inputs?e.inputs.map(V.from):[])}static isFragment(e){return e&&e[Ee]===di}}class Fe extends xr{anonymous;constructor(e,t,r,s){super(e,"event",t,r),Object.defineProperty(this,Ee,{value:hi}),O(this,{anonymous:s})}get topicHash(){return mt(this.format("sighash"))}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});const t=[];return e!=="sighash"&&t.push("event"),t.push(this.name+yn(e,this.inputs)),e!=="sighash"&&this.anonymous&&t.push("anonymous"),t.join(" ")}static getTopicHash(e,t){return t=(t||[]).map(s=>V.from(s)),new Fe(W,e,t,!1).topicHash}static from(e){if(Fe.isFragment(e))return e;if(typeof e=="string")try{return Fe.from(st(e))}catch{w(!1,"invalid event fragment","obj",e)}else if(e instanceof Se){const t=Cr("event",e),r=Je(e,!0),s=!!We(e,we(["anonymous"])).has("anonymous");return gt(e),new Fe(W,t,r,s)}return new Fe(W,e.name,e.inputs?e.inputs.map(t=>V.from(t,!0)):[],!!e.anonymous)}static isFragment(e){return e&&e[Ee]===hi}}class ze extends wt{payable;gas;constructor(e,t,r,s,o){super(e,t,r),Object.defineProperty(this,Ee,{value:pi}),O(this,{payable:s,gas:o})}format(e){if(E(e!=null&&e!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),e==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});const t=[`constructor${yn(e,this.inputs)}`];return this.payable&&t.push("payable"),this.gas!=null&&t.push(`@${this.gas.toString()}`),t.join(" ")}static from(e){if(ze.isFragment(e))return e;if(typeof e=="string")try{return ze.from(st(e))}catch{w(!1,"invalid constuctor fragment","obj",e)}else if(e instanceof Se){We(e,we(["constructor"]));const t=Je(e),r=!!We(e,Vm).has("payable"),s=ol(e);return gt(e),new ze(W,"constructor",t,r,s)}return new ze(W,"constructor",e.inputs?e.inputs.map(V.from):[],!!e.payable,e.gas!=null?e.gas:null)}static isFragment(e){return e&&e[Ee]===pi}}class Qe extends wt{payable;constructor(e,t,r){super(e,"fallback",t),Object.defineProperty(this,Ee,{value:mi}),O(this,{payable:r})}format(e){const t=this.inputs.length===0?"receive":"fallback";if(e==="json"){const r=this.payable?"payable":"nonpayable";return JSON.stringify({type:t,stateMutability:r})}return`${t}()${this.payable?" payable":""}`}static from(e){if(Qe.isFragment(e))return e;if(typeof e=="string")try{return Qe.from(st(e))}catch{w(!1,"invalid fallback fragment","obj",e)}else if(e instanceof Se){const t=e.toString(),r=e.peekKeyword(we(["fallback","receive"]));if(w(r,"type must be fallback or receive","obj",t),e.popKeyword(we(["fallback","receive"]))==="receive"){const a=Je(e);return w(a.length===0,"receive cannot have arguments","obj.inputs",a),We(e,we(["payable"])),gt(e),new Qe(W,[],!0)}let o=Je(e);o.length?w(o.length===1&&o[0].type==="bytes","invalid fallback inputs","obj.inputs",o.map(a=>a.format("minimal")).join(", ")):o=[V.from("bytes")];const i=sl(e);if(w(i==="nonpayable"||i==="payable","fallback cannot be constants","obj.stateMutability",i),We(e,we(["returns"])).has("returns")){const a=Je(e);w(a.length===1&&a[0].type==="bytes","invalid fallback outputs","obj.outputs",a.map(c=>c.format("minimal")).join(", "))}return gt(e),new Qe(W,o,i==="payable")}if(e.type==="receive")return new Qe(W,[],!0);if(e.type==="fallback"){const t=[V.from("bytes")],r=e.stateMutability==="payable";return new Qe(W,t,r)}w(!1,"invalid fallback description","obj",e)}static isFragment(e){return e&&e[Ee]===mi}}class $e extends xr{constant;outputs;stateMutability;payable;gas;constructor(e,t,r,s,o,i){super(e,"function",t,s),Object.defineProperty(this,Ee,{value:gi}),o=Object.freeze(o.slice()),O(this,{constant:r==="view"||r==="pure",gas:i,outputs:o,payable:r==="payable",stateMutability:r})}get selector(){return mt(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(r=>JSON.parse(r.format(e))),outputs:this.outputs.map(r=>JSON.parse(r.format(e)))});const t=[];return e!=="sighash"&&t.push("function"),t.push(this.name+yn(e,this.inputs)),e!=="sighash"&&(this.stateMutability!=="nonpayable"&&t.push(this.stateMutability),this.outputs&&this.outputs.length&&(t.push("returns"),t.push(yn(e,this.outputs))),this.gas!=null&&t.push(`@${this.gas.toString()}`)),t.join(" ")}static getSelector(e,t){return t=(t||[]).map(s=>V.from(s)),new $e(W,e,"view",t,[],null).selector}static from(e){if($e.isFragment(e))return e;if(typeof e=="string")try{return $e.from(st(e))}catch{w(!1,"invalid function fragment","obj",e)}else if(e instanceof Se){const r=Cr("function",e),s=Je(e),o=sl(e);let i=[];We(e,we(["returns"])).has("returns")&&(i=Je(e));const a=ol(e);return gt(e),new $e(W,r,o,s,i,a)}let t=e.stateMutability;return t==null&&(t="payable",typeof e.constant=="boolean"?(t="view",e.constant||(t="payable",typeof e.payable=="boolean"&&!e.payable&&(t="nonpayable"))):typeof e.payable=="boolean"&&!e.payable&&(t="nonpayable")),new $e(W,e.name,t,e.inputs?e.inputs.map(V.from):[],e.outputs?e.outputs.map(V.from):[],e.gas!=null?e.gas:null)}static isFragment(e){return e&&e[Ee]===gi}}class dt extends xr{constructor(e,t,r){super(e,"struct",t,r),Object.defineProperty(this,Ee,{value:wi})}format(){throw new Error("@TODO")}static from(e){if(typeof e=="string")try{return dt.from(st(e))}catch{w(!1,"invalid struct fragment","obj",e)}else if(e instanceof Se){const t=Cr("struct",e),r=Je(e);return gt(e),new dt(W,t,r)}return new dt(W,e.name,e.inputs?e.inputs.map(V.from):[])}static isFragment(e){return e&&e[Ee]===wi}}const Me=new Map;Me.set(0,"GENERIC_PANIC");Me.set(1,"ASSERT_FALSE");Me.set(17,"OVERFLOW");Me.set(18,"DIVIDE_BY_ZERO");Me.set(33,"ENUM_RANGE_ERROR");Me.set(34,"BAD_STORAGE_DATA");Me.set(49,"STACK_UNDERFLOW");Me.set(50,"ARRAY_RANGE_ERROR");Me.set(65,"OUT_OF_MEMORY");Me.set(81,"UNINITIALIZED_FUNCTION_CALL");const tg=new RegExp(/^bytes([0-9]*)$/),ng=new RegExp(/^(u?int)([0-9]*)$/);let Wr=null,yi=1024;function rg(n,e,t,r){let s="missing revert data",o=null;const i=null;let a=null;if(t){s="execution reverted";const l=G(t);if(t=S(t),l.length===0)s+=" (no data present; likely require(false) occurred",o="require(false)";else if(l.length%32!==4)s+=" (could not decode reason; invalid data length)";else if(S(l.slice(0,4))==="0x08c379a0")try{o=r.decode(["string"],l.slice(4))[0],a={signature:"Error(string)",name:"Error",args:[o]},s+=`: ${JSON.stringify(o)}`}catch{s+=" (could not decode reason; invalid string data)"}else if(S(l.slice(0,4))==="0x4e487b71")try{const u=Number(r.decode(["uint256"],l.slice(4))[0]);a={signature:"Panic(uint256)",name:"Panic",args:[u]},o=`Panic due to ${Me.get(u)||"UNKNOWN"}(${u})`,s+=`: ${o}`}catch{s+=" (could not decode panic code)"}else s+=" (unknown custom error)"}const c={to:e.to?H(e.to):null,data:e.data||"0x"};return e.from&&(c.from=H(e.from)),ee(s,"CALL_EXCEPTION",{action:n,data:t,reason:o,transaction:c,invocation:i,revert:a})}class Qt{#e(e){if(e.isArray())return new Tp(this.#e(e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new Gn(e.components.map(r=>this.#e(r)),e.name);switch(e.baseType){case"address":return new Sp(e.name);case"bool":return new Ip(e.name);case"string":return new _p(e.name);case"bytes":return new kp(e.name);case"":return new Bp(e.name)}let t=e.type.match(ng);if(t){let r=parseInt(t[2]||"256");return w(r!==0&&r<=256&&r%8===0,"invalid "+t[1]+" bit length","param",e),new Up(r/8,t[1]==="int",e.name)}if(t=e.type.match(tg),t){let r=parseInt(t[1]);return w(r!==0&&r<=32,"invalid bytes length","param",e),new Mp(r,e.name)}w(!1,"invalid type","type",e.type)}getDefaultValue(e){const t=e.map(s=>this.#e(V.from(s)));return new Gn(t,"_").defaultValue()}encode(e,t){lc(t.length,e.length,"types/values length mismatch");const r=e.map(i=>this.#e(V.from(i))),s=new Gn(r,"_"),o=new fs;return s.encode(o,t),o.data}decode(e,t,r){const s=e.map(i=>this.#e(V.from(i)));return new Gn(s,"_").decode(new zs(t,r,yi))}static _setDefaultMaxInflation(e){w(typeof e=="number"&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),yi=e}static defaultAbiCoder(){return Wr==null&&(Wr=new Qt),Wr}static getBuiltinCallException(e,t,r){return rg(e,t,r,Qt.defaultAbiCoder())}}class sg{fragment;name;signature;topic;args;constructor(e,t,r){const s=e.name,o=e.format();O(this,{fragment:e,name:s,signature:o,topic:t,args:r})}}class og{fragment;name;args;signature;selector;value;constructor(e,t,r,s){const o=e.name,i=e.format();O(this,{fragment:e,name:o,args:r,signature:i,selector:t,value:s})}}class ig{fragment;name;args;signature;selector;constructor(e,t,r){const s=e.name,o=e.format();O(this,{fragment:e,name:s,args:r,signature:o,selector:t})}}class bi{hash;_isIndexed;static isIndexed(e){return!!(e&&e._isIndexed)}constructor(e){O(this,{hash:e,_isIndexed:!0})}}const Ai={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},Ei={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:n=>`reverted with reason string ${JSON.stringify(n)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:n=>{let e="unknown panic code";return n>=0&&n<=255&&Ai[n.toString()]&&(e=Ai[n.toString()]),`reverted with panic code 0x${n.toString(16)} (${e})`}}};class Dt{fragments;deploy;fallback;receive;#e;#t;#n;#r;constructor(e){let t=[];typeof e=="string"?t=JSON.parse(e):t=e,this.#n=new Map,this.#e=new Map,this.#t=new Map;const r=[];for(const i of t)try{r.push(wt.from(i))}catch(a){console.log(`[Warning] Invalid Fragment ${JSON.stringify(i)}:`,a.message)}O(this,{fragments:Object.freeze(r)});let s=null,o=!1;this.#r=this.getAbiCoder(),this.fragments.forEach((i,a)=>{let c;switch(i.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}O(this,{deploy:i});return;case"fallback":i.inputs.length===0?o=!0:(w(!s||i.payable!==s.payable,"conflicting fallback fragments",`fragments[${a}]`,i),s=i,o=s.payable);return;case"function":c=this.#n;break;case"event":c=this.#t;break;case"error":c=this.#e;break;default:return}const l=i.format();c.has(l)||c.set(l,i)}),this.deploy||O(this,{deploy:ze.from("constructor()")}),O(this,{fallback:s,receive:o})}format(e){const t=e?"minimal":"full";return this.fragments.map(s=>s.format(t))}formatJson(){const e=this.fragments.map(t=>t.format("json"));return JSON.stringify(e.map(t=>JSON.parse(t)))}getAbiCoder(){return Qt.defaultAbiCoder()}#s(e,t,r){if(z(e)){const o=e.toLowerCase();for(const i of this.#n.values())if(o===i.selector)return i;return null}if(e.indexOf("(")===-1){const o=[];for(const[i,a]of this.#n)i.split("(")[0]===e&&o.push(a);if(t){const i=t.length>0?t[t.length-1]:null;let a=t.length,c=!0;X.isTyped(i)&&i.type==="overrides"&&(c=!1,a--);for(let l=o.length-1;l>=0;l--){const u=o[l].inputs.length;u!==a&&(!c||u!==a-1)&&o.splice(l,1)}for(let l=o.length-1;l>=0;l--){const u=o[l].inputs;for(let f=0;f<t.length;f++)if(X.isTyped(t[f])){if(f>=u.length){if(t[f].type==="overrides")continue;o.splice(l,1);break}if(t[f].type!==u[f].baseType){o.splice(l,1);break}}}}if(o.length===1&&t&&t.length!==o[0].inputs.length){const i=t[t.length-1];(i==null||Array.isArray(i)||typeof i!="object")&&o.splice(0,1)}if(o.length===0)return null;if(o.length>1&&r){const i=o.map(a=>JSON.stringify(a.format())).join(", ");w(!1,`ambiguous function description (i.e. matches ${i})`,"key",e)}return o[0]}const s=this.#n.get($e.from(e).format());return s||null}getFunctionName(e){const t=this.#s(e,null,!1);return w(t,"no matching function","key",e),t.name}hasFunction(e){return!!this.#s(e,null,!1)}getFunction(e,t){return this.#s(e,t||null,!0)}forEachFunction(e){const t=Array.from(this.#n.keys());t.sort((r,s)=>r.localeCompare(s));for(let r=0;r<t.length;r++){const s=t[r];e(this.#n.get(s),r)}}#i(e,t,r){if(z(e)){const o=e.toLowerCase();for(const i of this.#t.values())if(o===i.topicHash)return i;return null}if(e.indexOf("(")===-1){const o=[];for(const[i,a]of this.#t)i.split("(")[0]===e&&o.push(a);if(t){for(let i=o.length-1;i>=0;i--)o[i].inputs.length<t.length&&o.splice(i,1);for(let i=o.length-1;i>=0;i--){const a=o[i].inputs;for(let c=0;c<t.length;c++)if(X.isTyped(t[c])&&t[c].type!==a[c].baseType){o.splice(i,1);break}}}if(o.length===0)return null;if(o.length>1&&r){const i=o.map(a=>JSON.stringify(a.format())).join(", ");w(!1,`ambiguous event description (i.e. matches ${i})`,"key",e)}return o[0]}const s=this.#t.get(Fe.from(e).format());return s||null}getEventName(e){const t=this.#i(e,null,!1);return w(t,"no matching event","key",e),t.name}hasEvent(e){return!!this.#i(e,null,!1)}getEvent(e,t){return this.#i(e,t||null,!0)}forEachEvent(e){const t=Array.from(this.#t.keys());t.sort((r,s)=>r.localeCompare(s));for(let r=0;r<t.length;r++){const s=t[r];e(this.#t.get(s),r)}}getError(e,t){if(z(e)){const s=e.toLowerCase();if(Ei[s])return Ae.from(Ei[s].signature);for(const o of this.#e.values())if(s===o.selector)return o;return null}if(e.indexOf("(")===-1){const s=[];for(const[o,i]of this.#e)o.split("(")[0]===e&&s.push(i);if(s.length===0)return e==="Error"?Ae.from("error Error(string)"):e==="Panic"?Ae.from("error Panic(uint256)"):null;if(s.length>1){const o=s.map(i=>JSON.stringify(i.format())).join(", ");w(!1,`ambiguous error description (i.e. ${o})`,"name",e)}return s[0]}if(e=Ae.from(e).format(),e==="Error(string)")return Ae.from("error Error(string)");if(e==="Panic(uint256)")return Ae.from("error Panic(uint256)");const r=this.#e.get(e);return r||null}forEachError(e){const t=Array.from(this.#e.keys());t.sort((r,s)=>r.localeCompare(s));for(let r=0;r<t.length;r++){const s=t[r];e(this.#e.get(s),r)}}_decodeParams(e,t){return this.#r.decode(e,t)}_encodeParams(e,t){return this.#r.encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){if(typeof e=="string"){const r=this.getError(e);w(r,"unknown error","fragment",e),e=r}return w(Y(t,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",t),this._decodeParams(e.inputs,Y(t,4))}encodeErrorResult(e,t){if(typeof e=="string"){const r=this.getError(e);w(r,"unknown error","fragment",e),e=r}return te([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionData(e,t){if(typeof e=="string"){const r=this.getFunction(e);w(r,"unknown function","fragment",e),e=r}return w(Y(t,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",t),this._decodeParams(e.inputs,Y(t,4))}encodeFunctionData(e,t){if(typeof e=="string"){const r=this.getFunction(e);w(r,"unknown function","fragment",e),e=r}return te([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionResult(e,t){if(typeof e=="string"){const o=this.getFunction(e);w(o,"unknown function","fragment",e),e=o}let r="invalid length for result data";const s=he(t);if(s.length%32===0)try{return this.#r.decode(e.outputs,s)}catch{r="could not decode result data"}E(!1,r,"BAD_DATA",{value:S(s),info:{method:e.name,signature:e.format()}})}makeError(e,t){const r=G(e,"data"),s=Qt.getBuiltinCallException("call",t,r);if(s.message.startsWith("execution reverted (unknown custom error)")){const a=S(r.slice(0,4)),c=this.getError(a);if(c)try{const l=this.#r.decode(c.inputs,r.slice(4));s.revert={name:c.name,signature:c.format(),args:l},s.reason=s.revert.signature,s.message=`execution reverted: ${s.reason}`}catch{s.message="execution reverted (coult not decode custom error)"}}const i=this.parseTransaction(t);return i&&(s.invocation={method:i.name,signature:i.signature,args:i.args}),s}encodeFunctionResult(e,t){if(typeof e=="string"){const r=this.getFunction(e);w(r,"unknown function","fragment",e),e=r}return S(this.#r.encode(e.outputs,t||[]))}encodeFilterTopics(e,t){if(typeof e=="string"){const o=this.getEvent(e);w(o,"unknown event","eventFragment",e),e=o}E(t.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:t.length,expectedCount:e.inputs.length});const r=[];e.anonymous||r.push(e.topicHash);const s=(o,i)=>o.type==="string"?mt(i):o.type==="bytes"?K(S(i)):(o.type==="bool"&&typeof i=="boolean"?i=i?"0x01":"0x00":o.type.match(/^u?int/)?i=nt(i):o.type.match(/^bytes/)?i=np(i,32):o.type==="address"&&this.#r.encode(["address"],[i]),pt(S(i),32));for(t.forEach((o,i)=>{const a=e.inputs[i];if(!a.indexed){w(o==null,"cannot filter non-indexed parameters; must be null","contract."+a.name,o);return}o==null?r.push(null):a.baseType==="array"||a.baseType==="tuple"?w(!1,"filtering with tuples or arrays not supported","contract."+a.name,o):Array.isArray(o)?r.push(o.map(c=>s(a,c))):r.push(s(a,o))});r.length&&r[r.length-1]===null;)r.pop();return r}encodeEventLog(e,t){if(typeof e=="string"){const i=this.getEvent(e);w(i,"unknown event","eventFragment",e),e=i}const r=[],s=[],o=[];return e.anonymous||r.push(e.topicHash),w(t.length===e.inputs.length,"event arguments/values mismatch","values",t),e.inputs.forEach((i,a)=>{const c=t[a];if(i.indexed)if(i.type==="string")r.push(mt(c));else if(i.type==="bytes")r.push(K(c));else{if(i.baseType==="tuple"||i.baseType==="array")throw new Error("not implemented");r.push(this.#r.encode([i.type],[c]))}else s.push(i),o.push(c)}),{data:this.#r.encode(s,o),topics:r}}decodeEventLog(e,t,r){if(typeof e=="string"){const p=this.getEvent(e);w(p,"unknown event","eventFragment",e),e=p}if(r!=null&&!e.anonymous){const p=e.topicHash;w(z(r[0],32)&&r[0].toLowerCase()===p,"fragment/topic mismatch","topics[0]",r[0]),r=r.slice(1)}const s=[],o=[],i=[];e.inputs.forEach((p,g)=>{p.indexed?p.type==="string"||p.type==="bytes"||p.baseType==="tuple"||p.baseType==="array"?(s.push(V.from({type:"bytes32",name:p.name})),i.push(!0)):(s.push(p),i.push(!1)):(o.push(p),i.push(!1))});const a=r!=null?this.#r.decode(s,te(r)):null,c=this.#r.decode(o,t,!0),l=[],u=[];let f=0,h=0;return e.inputs.forEach((p,g)=>{let m=null;if(p.indexed)if(a==null)m=new bi(null);else if(i[g])m=new bi(a[h++]);else try{m=a[h++]}catch(A){m=A}else try{m=c[f++]}catch(A){m=A}l.push(m),u.push(p.name||null)}),Ft.fromItems(l,u)}parseTransaction(e){const t=G(e.data,"tx.data"),r=P(e.value!=null?e.value:0,"tx.value"),s=this.getFunction(S(t.slice(0,4)));if(!s)return null;const o=this.#r.decode(s.inputs,t.slice(4));return new og(s,s.selector,o,r)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new sg(t,t.topicHash,this.decodeEventLog(t,e.data,e.topics))}parseError(e){const t=S(e),r=this.getError(Y(t,0,4));if(!r)return null;const s=this.#r.decode(r.inputs,Y(t,4));return new ig(r,r.selector,s)}static from(e){return e instanceof Dt?e:typeof e=="string"?new Dt(JSON.parse(e)):typeof e.format=="function"?new Dt(e.format("json")):new Dt(e)}}const il=BigInt(0);function on(n){return n??null}function Z(n){return n==null?null:n.toString()}class vi{gasPrice;maxFeePerGas;maxPriorityFeePerGas;constructor(e,t,r){O(this,{gasPrice:on(e),maxFeePerGas:on(t),maxPriorityFeePerGas:on(r)})}toJSON(){const{gasPrice:e,maxFeePerGas:t,maxPriorityFeePerGas:r}=this;return{_type:"FeeData",gasPrice:Z(e),maxFeePerGas:Z(t),maxPriorityFeePerGas:Z(r)}}}function cr(n){const e={};n.to&&(e.to=n.to),n.from&&(e.from=n.from),n.data&&(e.data=S(n.data));const t="chainId,gasLimit,gasPrice,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const s of t)!(s in n)||n[s]==null||(e[s]=P(n[s],`request.${s}`));const r="type,nonce".split(/,/);for(const s of r)!(s in n)||n[s]==null||(e[s]=F(n[s],`request.${s}`));return n.accessList&&(e.accessList=At(n.accessList)),"blockTag"in n&&(e.blockTag=n.blockTag),"enableCcipRead"in n&&(e.enableCcipRead=!!n.enableCcipRead),"customData"in n&&(e.customData=n.customData),e}class ag{provider;number;hash;timestamp;parentHash;parentBeaconBlockRoot;nonce;difficulty;gasLimit;gasUsed;stateRoot;receiptsRoot;blobGasUsed;excessBlobGas;miner;extraData;baseFeePerGas;#e;constructor(e,t){this.#e=e.transactions.map(r=>typeof r!="string"?new xn(r,t):r),O(this,{provider:t,hash:on(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,extraData:e.extraData,baseFeePerGas:on(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return this.#e.map(e=>typeof e=="string"?e:e.hash)}get prefetchedTransactions(){const e=this.#e.slice();return e.length===0?[]:(E(typeof e[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:t,extraData:r,gasLimit:s,gasUsed:o,hash:i,miner:a,nonce:c,number:l,parentHash:u,parentBeaconBlockRoot:f,stateRoot:h,receiptsRoot:p,timestamp:g,transactions:m}=this;return{_type:"Block",baseFeePerGas:Z(e),difficulty:Z(t),extraData:r,gasLimit:Z(s),gasUsed:Z(o),blobGasUsed:Z(this.blobGasUsed),excessBlobGas:Z(this.excessBlobGas),hash:i,miner:a,nonce:c,number:l,parentHash:u,timestamp:g,parentBeaconBlockRoot:f,stateRoot:h,receiptsRoot:p,transactions:m}}[Symbol.iterator](){let e=0;const t=this.transactions;return{next:()=>e<this.length?{value:t[e++],done:!1}:{value:void 0,done:!0}}}get length(){return this.#e.length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(e){let t;if(typeof e=="number")t=this.#e[e];else{const r=e.toLowerCase();for(const s of this.#e)if(typeof s=="string"){if(s!==r)continue;t=s;break}else{if(s.hash===r)continue;t=s;break}}if(t==null)throw new Error("no such tx");return typeof t=="string"?await this.provider.getTransaction(t):t}getPrefetchedTransaction(e){const t=this.prefetchedTransactions;if(typeof e=="number")return t[e];e=e.toLowerCase();for(const r of t)if(r.hash===e)return r;w(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return cg(this)}}class Cn{provider;transactionHash;blockHash;blockNumber;removed;address;data;topics;index;transactionIndex;constructor(e,t){this.provider=t;const r=Object.freeze(e.topics.slice());O(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:r,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:t,blockNumber:r,data:s,index:o,removed:i,topics:a,transactionHash:c,transactionIndex:l}=this;return{_type:"log",address:e,blockHash:t,blockNumber:r,data:s,index:o,removed:i,topics:a,transactionHash:c,transactionIndex:l}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return E(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return E(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return E(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return lg(this)}}class al{provider;to;from;contractAddress;hash;index;blockHash;blockNumber;logsBloom;gasUsed;blobGasUsed;cumulativeGasUsed;gasPrice;blobGasPrice;type;status;root;#e;constructor(e,t){this.#e=Object.freeze(e.logs.map(s=>new Cn(s,t)));let r=il;e.effectiveGasPrice!=null?r=e.effectiveGasPrice:e.gasPrice!=null&&(r=e.gasPrice),O(this,{provider:t,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:r,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return this.#e}toJSON(){const{to:e,from:t,contractAddress:r,hash:s,index:o,blockHash:i,blockNumber:a,logsBloom:c,logs:l,status:u,root:f}=this;return{_type:"TransactionReceipt",blockHash:i,blockNumber:a,contractAddress:r,cumulativeGasUsed:Z(this.cumulativeGasUsed),from:t,gasPrice:Z(this.gasPrice),blobGasUsed:Z(this.blobGasUsed),blobGasPrice:Z(this.blobGasPrice),gasUsed:Z(this.gasUsed),hash:s,index:o,logs:l,logsBloom:c,root:f,status:u,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(e==null)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(e==null)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return ll(this)}reorderedEvent(e){return E(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),cl(this,e)}}class xn{provider;blockNumber;blockHash;index;hash;type;to;from;nonce;gasLimit;gasPrice;maxPriorityFeePerGas;maxFeePerGas;maxFeePerBlobGas;data;value;chainId;signature;accessList;blobVersionedHashes;#e;constructor(e,t){this.provider=t,this.blockNumber=e.blockNumber!=null?e.blockNumber:null,this.blockHash=e.blockHash!=null?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=e.maxPriorityFeePerGas!=null?e.maxPriorityFeePerGas:null,this.maxFeePerGas=e.maxFeePerGas!=null?e.maxFeePerGas:null,this.maxFeePerBlobGas=e.maxFeePerBlobGas!=null?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=e.accessList!=null?e.accessList:null,this.blobVersionedHashes=e.blobVersionedHashes!=null?e.blobVersionedHashes:null,this.#e=-1}toJSON(){const{blockNumber:e,blockHash:t,index:r,hash:s,type:o,to:i,from:a,nonce:c,data:l,signature:u,accessList:f,blobVersionedHashes:h}=this;return{_type:"TransactionResponse",accessList:f,blockNumber:e,blockHash:t,blobVersionedHashes:h,chainId:Z(this.chainId),data:l,from:a,gasLimit:Z(this.gasLimit),gasPrice:Z(this.gasPrice),hash:s,maxFeePerGas:Z(this.maxFeePerGas),maxPriorityFeePerGas:Z(this.maxPriorityFeePerGas),maxFeePerBlobGas:Z(this.maxFeePerBlobGas),nonce:c,signature:u,to:i,index:r,type:o,value:Z(this.value)}}async getBlock(){let e=this.blockNumber;if(e==null){const r=await this.getTransaction();r&&(e=r.blockNumber)}if(e==null)return null;const t=this.provider.getBlock(e);if(t==null)throw new Error("TODO");return t}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:t,blockNumber:r}=await de({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return t==null||t.blockNumber==null?0:r-t.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,t){const r=e??1,s=t??0;let o=this.#e,i=-1,a=o===-1;const c=async()=>{if(a)return null;const{blockNumber:h,nonce:p}=await de({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(p<this.nonce){o=h;return}if(a)return null;const g=await this.getTransaction();if(!(g&&g.blockNumber!=null))for(i===-1&&(i=o-3,i<this.#e&&(i=this.#e));i<=h;){if(a)return null;const m=await this.provider.getBlock(i,!0);if(m==null)return;for(const A of m)if(A===this.hash)return;for(let A=0;A<m.length;A++){const y=await m.getTransaction(A);if(y.from===this.from&&y.nonce===this.nonce){if(a)return null;const v=await this.provider.getTransactionReceipt(y.hash);if(v==null||h-v.blockNumber+1<r)return;let N="replaced";y.data===this.data&&y.to===this.to&&y.value===this.value?N="repriced":y.data==="0x"&&y.from===y.to&&y.value===il&&(N="cancelled"),E(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:N==="replaced"||N==="cancelled",reason:N,replacement:y.replaceableTransaction(o),hash:y.hash,receipt:v})}}i++}},l=h=>{if(h==null||h.status!==0)return h;E(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:h.to,from:h.from,data:""},receipt:h})},u=await this.provider.getTransactionReceipt(this.hash);if(r===0)return l(u);if(u){if(await u.confirmations()>=r)return l(u)}else if(await c(),r===0)return null;return await new Promise((h,p)=>{const g=[],m=()=>{g.forEach(y=>y())};if(g.push(()=>{a=!0}),s>0){const y=setTimeout(()=>{m(),p(ee("wait for transaction timeout","TIMEOUT"))},s);g.push(()=>{clearTimeout(y)})}const A=async y=>{if(await y.confirmations()>=r){m();try{h(l(y))}catch(v){p(v)}}};if(g.push(()=>{this.provider.off(this.hash,A)}),this.provider.on(this.hash,A),o>=0){const y=async()=>{try{await c()}catch(v){if(ue(v,"TRANSACTION_REPLACED")){m(),p(v);return}}a||this.provider.once("block",y)};g.push(()=>{this.provider.off("block",y)}),this.provider.once("block",y)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return E(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),ll(this)}reorderedEvent(e){return E(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),E(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),cl(this,e)}replaceableTransaction(e){w(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const t=new xn(this,this.provider);return t.#e=e,t}}function cg(n){return{orphan:"drop-block",hash:n.hash,number:n.number}}function cl(n,e){return{orphan:"reorder-transaction",tx:n,other:e}}function ll(n){return{orphan:"drop-transaction",tx:n}}function lg(n){return{orphan:"drop-log",log:{transactionHash:n.transactionHash,blockHash:n.blockHash,blockNumber:n.blockNumber,address:n.address,data:n.data,topics:Object.freeze(n.topics.slice()),index:n.index}}}class qs extends Cn{interface;fragment;args;constructor(e,t,r){super(e,e.provider);const s=t.decodeEventLog(r,e.data,e.topics);O(this,{args:s,fragment:r,interface:t})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class ul extends Cn{error;constructor(e,t){super(e,e.provider),O(this,{error:t})}}class ug extends al{#e;constructor(e,t,r){super(r,t),this.#e=e}get logs(){return super.logs.map(e=>{const t=e.topics.length?this.#e.getEvent(e.topics[0]):null;if(t)try{return new qs(e,this.#e,t)}catch(r){return new ul(e,r)}return e})}}class eo extends xn{#e;constructor(e,t,r){super(r,t),this.#e=e}async wait(e,t){const r=await super.wait(e,t);return r==null?null:new ug(this.#e,this.provider,r)}}class fl extends hc{log;constructor(e,t,r,s){super(e,t,r),O(this,{log:s})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class fg extends fl{constructor(e,t,r,s,o){super(e,t,r,new qs(o,e.interface,s));const i=e.interface.decodeEventLog(s,this.log.data,this.log.topics);O(this,{args:i,fragment:s})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const Ci=BigInt(0);function dl(n){return n&&typeof n.call=="function"}function hl(n){return n&&typeof n.estimateGas=="function"}function Pr(n){return n&&typeof n.resolveName=="function"}function pl(n){return n&&typeof n.sendTransaction=="function"}function ml(n){if(n!=null){if(Pr(n))return n;if(n.provider)return n.provider}}class dg{#e;fragment;constructor(e,t,r){if(O(this,{fragment:t}),t.inputs.length<r.length)throw new Error("too many arguments");const s=yt(e.runner,"resolveName"),o=Pr(s)?s:null;this.#e=async function(){const i=await Promise.all(t.inputs.map((a,c)=>r[c]==null?null:a.walkAsync(r[c],(u,f)=>u==="address"?Array.isArray(f)?Promise.all(f.map(h=>ge(h,o))):ge(f,o):f)));return e.interface.encodeFilterTopics(t,i)}()}getTopicFilter(){return this.#e}}function yt(n,e){return n==null?null:typeof n[e]=="function"?n:n.provider&&typeof n.provider[e]=="function"?n.provider:null}function ft(n){return n==null?null:n.provider||null}async function gl(n,e){const t=X.dereference(n,"overrides");w(typeof t=="object","invalid overrides parameter","overrides",n);const r=cr(t);return w(r.to==null||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",r.to),w(r.data==null||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",r.data),r.from&&(r.from=r.from),r}async function hg(n,e,t){const r=yt(n,"resolveName"),s=Pr(r)?r:null;return await Promise.all(e.map((o,i)=>o.walkAsync(t[i],(a,c)=>(c=X.dereference(c,a),a==="address"?ge(c,s):c))))}function pg(n){const e=async function(i){const a=await gl(i,["data"]);a.to=await n.getAddress(),a.from&&(a.from=await ge(a.from,ml(n.runner)));const c=n.interface,l=P(a.value||Ci,"overrides.value")===Ci,u=(a.data||"0x")==="0x";c.fallback&&!c.fallback.payable&&c.receive&&!u&&!l&&w(!1,"cannot send data to receive or send value to non-payable fallback","overrides",i),w(c.fallback||u,"cannot send data to receive-only contract","overrides.data",a.data);const f=c.receive||c.fallback&&c.fallback.payable;return w(f||l,"cannot send value to non-payable fallback","overrides.value",a.value),w(c.fallback||u,"cannot send data to receive-only contract","overrides.data",a.data),a},t=async function(i){const a=yt(n.runner,"call");E(dl(a),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const c=await e(i);try{return await a.call(c)}catch(l){throw Qs(l)&&l.data?n.interface.makeError(l.data,c):l}},r=async function(i){const a=n.runner;E(pl(a),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const c=await a.sendTransaction(await e(i)),l=ft(n.runner);return new eo(n.interface,l,c)},s=async function(i){const a=yt(n.runner,"estimateGas");return E(hl(a),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await a.estimateGas(await e(i))},o=async i=>await r(i);return O(o,{_contract:n,estimateGas:s,populateTransaction:e,send:r,staticCall:t}),o}function mg(n,e){const t=function(...l){const u=n.interface.getFunction(e,l);return E(u,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:l}}),u},r=async function(...l){const u=t(...l);let f={};if(u.inputs.length+1===l.length&&(f=await gl(l.pop()),f.from&&(f.from=await ge(f.from,ml(n.runner)))),u.inputs.length!==l.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const h=await hg(n.runner,u.inputs,l);return Object.assign({},f,await de({to:n.getAddress(),data:n.interface.encodeFunctionData(u,h)}))},s=async function(...l){const u=await a(...l);return u.length===1?u[0]:u},o=async function(...l){const u=n.runner;E(pl(u),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const f=await u.sendTransaction(await r(...l)),h=ft(n.runner);return new eo(n.interface,h,f)},i=async function(...l){const u=yt(n.runner,"estimateGas");return E(hl(u),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await u.estimateGas(await r(...l))},a=async function(...l){const u=yt(n.runner,"call");E(dl(u),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const f=await r(...l);let h="0x";try{h=await u.call(f)}catch(g){throw Qs(g)&&g.data?n.interface.makeError(g.data,f):g}const p=t(...l);return n.interface.decodeFunctionResult(p,h)},c=async(...l)=>t(...l).constant?await s(...l):await o(...l);return O(c,{name:n.interface.getFunctionName(e),_contract:n,_key:e,getFragment:t,estimateGas:i,populateTransaction:r,send:o,staticCall:s,staticCallResult:a}),Object.defineProperty(c,"fragment",{configurable:!1,enumerable:!0,get:()=>{const l=n.interface.getFunction(e);return E(l,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),l}}),c}function gg(n,e){const t=function(...s){const o=n.interface.getEvent(e,s);return E(o,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:s}}),o},r=function(...s){return new dg(n,t(...s),s)};return O(r,{name:n.interface.getEventName(e),_contract:n,_key:e,getFragment:t}),Object.defineProperty(r,"fragment",{configurable:!1,enumerable:!0,get:()=>{const s=n.interface.getEvent(e);return E(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),s}}),r}const lr=Symbol.for("_ethersInternal_contract"),wl=new WeakMap;function wg(n,e){wl.set(n[lr],e)}function Ce(n){return wl.get(n[lr])}function yg(n){return n&&typeof n=="object"&&"getTopicFilter"in n&&typeof n.getTopicFilter=="function"&&n.fragment}async function to(n,e){let t,r=null;if(Array.isArray(e)){const o=function(i){if(z(i,32))return i;const a=n.interface.getEvent(i);return w(a,"unknown fragment","name",i),a.topicHash};t=e.map(i=>i==null?null:Array.isArray(i)?i.map(o):o(i))}else e==="*"?t=[null]:typeof e=="string"?z(e,32)?t=[e]:(r=n.interface.getEvent(e),w(r,"unknown fragment","event",e),t=[r.topicHash]):yg(e)?t=await e.getTopicFilter():"fragment"in e?(r=e.fragment,t=[r.topicHash]):w(!1,"unknown event name","event",e);t=t.map(o=>{if(o==null)return null;if(Array.isArray(o)){const i=Array.from(new Set(o.map(a=>a.toLowerCase())).values());return i.length===1?i[0]:(i.sort(),i)}return o.toLowerCase()});const s=t.map(o=>o==null?"null":Array.isArray(o)?o.join("|"):o).join("&");return{fragment:r,tag:s,topics:t}}async function rn(n,e){const{subs:t}=Ce(n);return t.get((await to(n,e)).tag)||null}async function xi(n,e,t){const r=ft(n.runner);E(r,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});const{fragment:s,tag:o,topics:i}=await to(n,t),{addr:a,subs:c}=Ce(n);let l=c.get(o);if(!l){const f={address:a||n,topics:i},h=A=>{let y=s;if(y==null)try{y=n.interface.getEvent(A.topics[0])}catch{}if(y){const v=y,N=s?n.interface.decodeEventLog(s,A.data,A.topics):[];bs(n,t,N,T=>new fg(n,T,t,v,A))}else bs(n,t,[],v=>new fl(n,v,t,A))};let p=[];l={tag:o,listeners:[],start:()=>{p.length||p.push(r.on(f,h))},stop:async()=>{if(p.length==0)return;let A=p;p=[],await Promise.all(A),r.off(f,h)}},c.set(o,l)}return l}let ys=Promise.resolve();async function bg(n,e,t,r){await ys;const s=await rn(n,e);if(!s)return!1;const o=s.listeners.length;return s.listeners=s.listeners.filter(({listener:i,once:a})=>{const c=Array.from(t);r&&c.push(r(a?null:i));try{i.call(n,...c)}catch{}return!a}),s.listeners.length===0&&(s.stop(),Ce(n).subs.delete(s.tag)),o>0}async function bs(n,e,t,r){try{await ys}catch{}const s=bg(n,e,t,r);return ys=s,await s}const Qn=["then"];class an{target;interface;runner;filters;[lr];fallback;constructor(e,t,r,s){w(typeof e=="string"||xc(e),"invalid value for Contract target","target",e),r==null&&(r=null);const o=Dt.from(t);O(this,{target:e,runner:r,interface:o}),Object.defineProperty(this,lr,{value:{}});let i,a=null,c=null;if(s){const f=ft(r);c=new eo(this.interface,f,s)}let l=new Map;if(typeof e=="string")if(z(e))a=e,i=Promise.resolve(e);else{const f=yt(r,"resolveName");if(!Pr(f))throw ee("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});i=f.resolveName(e).then(h=>{if(h==null)throw ee("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return Ce(this).addr=h,h})}else i=e.getAddress().then(f=>{if(f==null)throw new Error("TODO");return Ce(this).addr=f,f});wg(this,{addrPromise:i,addr:a,deployTx:c,subs:l});const u=new Proxy({},{get:(f,h,p)=>{if(typeof h=="symbol"||Qn.indexOf(h)>=0)return Reflect.get(f,h,p);try{return this.getEvent(h)}catch(g){if(!ue(g,"INVALID_ARGUMENT")||g.argument!=="key")throw g}},has:(f,h)=>Qn.indexOf(h)>=0?Reflect.has(f,h):Reflect.has(f,h)||this.interface.hasEvent(String(h))});return O(this,{filters:u}),O(this,{fallback:o.receive||o.fallback?pg(this):null}),new Proxy(this,{get:(f,h,p)=>{if(typeof h=="symbol"||h in f||Qn.indexOf(h)>=0)return Reflect.get(f,h,p);try{return f.getFunction(h)}catch(g){if(!ue(g,"INVALID_ARGUMENT")||g.argument!=="key")throw g}},has:(f,h)=>typeof h=="symbol"||h in f||Qn.indexOf(h)>=0?Reflect.has(f,h):f.interface.hasFunction(h)})}connect(e){return new an(this.target,this.interface,e)}attach(e){return new an(e,this.interface,this.runner)}async getAddress(){return await Ce(this).addrPromise}async getDeployedCode(){const e=ft(this.runner);E(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const t=await e.getCode(await this.getAddress());return t==="0x"?null:t}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(await this.getDeployedCode()!=null)return this;const r=ft(this.runner);return E(r!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((s,o)=>{const i=async()=>{try{if(await this.getDeployedCode()!=null)return s(this);r.once("block",i)}catch(a){o(a)}};i()})}deploymentTransaction(){return Ce(this).deployTx}getFunction(e){return typeof e!="string"&&(e=e.format()),mg(this,e)}getEvent(e){return typeof e!="string"&&(e=e.format()),gg(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,t,r){t==null&&(t=0),r==null&&(r="latest");const{addr:s,addrPromise:o}=Ce(this),i=s||await o,{fragment:a,topics:c}=await to(this,e),l={address:i,topics:c,fromBlock:t,toBlock:r},u=ft(this.runner);return E(u,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await u.getLogs(l)).map(f=>{let h=a;if(h==null)try{h=this.interface.getEvent(f.topics[0])}catch{}if(h)try{return new qs(f,this.interface,h)}catch(p){return new ul(f,p)}return new Cn(f,u)})}async on(e,t){const r=await xi(this,"on",e);return r.listeners.push({listener:t,once:!1}),r.start(),this}async once(e,t){const r=await xi(this,"once",e);return r.listeners.push({listener:t,once:!0}),r.start(),this}async emit(e,...t){return await bs(this,e,t,null)}async listenerCount(e){if(e){const s=await rn(this,e);return s?s.listeners.length:0}const{subs:t}=Ce(this);let r=0;for(const{listeners:s}of t.values())r+=s.length;return r}async listeners(e){if(e){const s=await rn(this,e);return s?s.listeners.map(({listener:o})=>o):[]}const{subs:t}=Ce(this);let r=[];for(const{listeners:s}of t.values())r=r.concat(s.map(({listener:o})=>o));return r}async off(e,t){const r=await rn(this,e);if(!r)return this;if(t){const s=r.listeners.map(({listener:o})=>o).indexOf(t);s>=0&&r.listeners.splice(s,1)}return(t==null||r.listeners.length===0)&&(r.stop(),Ce(this).subs.delete(r.tag)),this}async removeAllListeners(e){if(e){const t=await rn(this,e);if(!t)return this;t.stop(),Ce(this).subs.delete(t.tag)}else{const{subs:t}=Ce(this);for(const{tag:r,stop:s}of t.values())s(),t.delete(r)}return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return await this.off(e,t)}static buildClass(e){class t extends an{constructor(s,o=null){super(s,e,o)}}return t}static from(e,t,r){return r==null&&(r=null),new this(e,t,r)}}function Ag(){return an}class cn extends Ag(){}function Yr(n){return n.match(/^ipfs:\/\/ipfs\//i)?n=n.substring(12):n.match(/^ipfs:\/\//i)?n=n.substring(7):w(!1,"unsupported IPFS format","link",n),`https://gateway.ipfs.io/ipfs/${n}`}class Eg{name;constructor(e){O(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,t){throw new Error("unsupported coin")}async decodeAddress(e,t){throw new Error("unsupported coin")}}const yl=new RegExp("^(ipfs)://(.*)$","i"),Pi=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),yl,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];class Lt{provider;address;name;#e;#t;constructor(e,t,r){O(this,{provider:e,address:t,name:r}),this.#e=null,this.#t=new cn(t,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e)}async supportsWildcard(){return this.#e==null&&(this.#e=(async()=>{try{return await this.#t.supportsInterface("0x9061b923")}catch(e){if(ue(e,"CALL_EXCEPTION"))return!1;throw this.#e=null,e}})()),await this.#e}async#n(e,t){t=(t||[]).slice();const r=this.#t.interface;t.unshift(ws(this.name));let s=null;await this.supportsWildcard()&&(s=r.getFunction(e),E(s,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),t=[xm(this.name,255),r.encodeFunctionData(s,t)],e="resolve(bytes,bytes)"),t.push({enableCcipRead:!0});try{const o=await this.#t[e](...t);return s?r.decodeFunctionResult(s,o)[0]:o}catch(o){if(!ue(o,"CALL_EXCEPTION"))throw o}return null}async getAddress(e){if(e==null&&(e=60),e===60)try{const o=await this.#n("addr(bytes32)");return o==null||o===hn?null:o}catch(o){if(ue(o,"CALL_EXCEPTION"))return null;throw o}if(e>=0&&e<2147483648){let o=e+2147483648;const i=await this.#n("addr(bytes32,uint)",[o]);if(z(i,20))return H(i)}let t=null;for(const o of this.provider.plugins)if(o instanceof Eg&&o.supportsCoinType(e)){t=o;break}if(t==null)return null;const r=await this.#n("addr(bytes32,uint)",[e]);if(r==null||r==="0x")return null;const s=await t.decodeAddress(e,r);if(s!=null)return s;E(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:r}})}async getText(e){const t=await this.#n("text(bytes32,string)",[e]);return t==null||t==="0x"?null:t}async getContentHash(){const e=await this.#n("contenthash(bytes32)");if(e==null||e==="0x")return null;const t=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){const s=t[1]==="e3010170"?"ipfs":"ipns",o=parseInt(t[4],16);if(t[5].length===o*2)return`${s}://${op("0x"+t[2])}`}const r=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(r&&r[1].length===64)return`bzz://${r[1]}`;E(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const t=await this.getText("avatar");if(t==null)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:t});for(let r=0;r<Pi.length;r++){const s=t.match(Pi[r]);if(s==null)continue;const o=s[1].toLowerCase();switch(o){case"https":case"data":return e.push({type:"url",value:t}),{linkage:e,url:t};case"ipfs":{const i=Yr(t);return e.push({type:"ipfs",value:t}),e.push({type:"url",value:i}),{linkage:e,url:i}}case"erc721":case"erc1155":{const i=o==="erc721"?"tokenURI(uint256)":"uri(uint256)";e.push({type:o,value:t});const a=await this.getAddress();if(a==null)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const c=(s[2]||"").split("/");if(c.length!==2)return e.push({type:`!${o}caip`,value:s[2]||""}),{url:null,linkage:e};const l=c[1],u=new cn(c[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(o==="erc721"){const m=await u.ownerOf(l);if(a!==m)return e.push({type:"!owner",value:m}),{url:null,linkage:e};e.push({type:"owner",value:m})}else if(o==="erc1155"){const m=await u.balanceOf(a,l);if(!m)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:m.toString()})}let f=await u[i](l);if(f==null||f==="0x")return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:f}),o==="erc1155"&&(f=f.replace("{id}",nt(l,32).substring(2)),e.push({type:"metadata-url-expanded",value:f})),f.match(/^ipfs:/i)&&(f=Yr(f)),e.push({type:"metadata-url",value:f});let h={};const p=await new Ke(f).send();p.assertOk();try{h=p.bodyJson}catch{try{e.push({type:"!metadata",value:p.bodyText})}catch{const y=p.body;return y&&e.push({type:"!metadata",value:S(y)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!h)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(h)});let g=h.image;if(typeof g!="string")return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(!g.match(/^(https:\/\/|data:)/i)){if(g.match(yl)==null)return e.push({type:"!imageUrl-ipfs",value:g}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:g}),g=Yr(g)}return e.push({type:"url",value:g}),{linkage:e,url:g}}}}}catch{}return{linkage:e,url:null}}static async getEnsAddress(e){const t=await e.getNetwork(),r=t.getPlugin("org.ethers.plugins.network.Ens");return E(r,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:t}}),r.address}static async#r(e,t){const r=await Lt.getEnsAddress(e);try{const o=await new cn(r,["function resolver(bytes32) view returns (address)"],e).resolver(ws(t),{enableCcipRead:!0});return o===hn?null:o}catch(s){throw s}return null}static async fromName(e,t){let r=t;for(;;){if(r===""||r==="."||t!=="eth"&&r==="eth")return null;const s=await Lt.#r(e,r);if(s!=null){const o=new Lt(e,s,t);return r!==t&&!await o.supportsWildcard()?null:o}r=r.split(".").slice(1).join(".")}}}const Ri=BigInt(0);function L(n,e){return function(t){return t==null?e:n(t)}}function Rr(n,e){return t=>{if(e&&t==null)return null;if(!Array.isArray(t))throw new Error("not an array");return t.map(r=>n(r))}}function Pn(n,e){return t=>{const r={};for(const s in n){let o=s;if(e&&s in e&&!(o in t)){for(const i of e[s])if(i in t){o=i;break}}try{const i=n[s](t[o]);i!==void 0&&(r[s]=i)}catch(i){const a=i instanceof Error?i.message:"not-an-error";E(!1,`invalid value for value.${s} (${a})`,"BAD_DATA",{value:t})}}return r}}function vg(n){switch(n){case!0:case"true":return!0;case!1:case"false":return!1}w(!1,`invalid boolean; ${JSON.stringify(n)}`,"value",n)}function Vt(n){return w(z(n,!0),"invalid data","value",n),n}function le(n){return w(z(n,32),"invalid hash","value",n),n}const Cg=Pn({address:H,blockHash:le,blockNumber:F,data:Vt,index:F,removed:L(vg,!1),topics:Rr(le),transactionHash:le,transactionIndex:F},{index:["logIndex"]});function xg(n){return Cg(n)}const Pg=Pn({hash:L(le),parentHash:le,parentBeaconBlockRoot:L(le,null),number:F,timestamp:F,nonce:L(Vt),difficulty:P,gasLimit:P,gasUsed:P,stateRoot:L(le,null),receiptsRoot:L(le,null),blobGasUsed:L(P,null),excessBlobGas:L(P,null),miner:L(H),extraData:Vt,baseFeePerGas:L(P)});function Rg(n){const e=Pg(n);return e.transactions=n.transactions.map(t=>typeof t=="string"?t:bl(t)),e}const Ng=Pn({transactionIndex:F,blockNumber:F,transactionHash:le,address:H,topics:Rr(le),data:Vt,index:F,blockHash:le},{index:["logIndex"]});function Sg(n){return Ng(n)}const Og=Pn({to:L(H,null),from:L(H,null),contractAddress:L(H,null),index:F,root:L(S),gasUsed:P,blobGasUsed:L(P,null),logsBloom:L(Vt),blockHash:le,hash:le,logs:Rr(Sg),blockNumber:F,cumulativeGasUsed:P,effectiveGasPrice:L(P),blobGasPrice:L(P,null),status:L(F),type:L(F,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function Tg(n){return Og(n)}function bl(n){n.to&&P(n.to)===Ri&&(n.to="0x0000000000000000000000000000000000000000");const e=Pn({hash:le,index:L(F,void 0),type:t=>t==="0x"||t==null?0:F(t),accessList:L(At,null),blobVersionedHashes:L(Rr(le,!0),null),blockHash:L(le,null),blockNumber:L(F,null),transactionIndex:L(F,null),from:H,gasPrice:L(P),maxPriorityFeePerGas:L(P),maxFeePerGas:L(P),maxFeePerBlobGas:L(P,null),gasLimit:P,to:L(H,null),value:P,nonce:F,data:Vt,creates:L(H,null),chainId:L(P,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(n);if(e.to==null&&e.creates==null&&(e.creates=Np(e)),(n.type===1||n.type===2)&&n.accessList==null&&(e.accessList=[]),n.signature?e.signature=ne.from(n.signature):e.signature=ne.from(n),e.chainId==null){const t=e.signature.legacyChainId;t!=null&&(e.chainId=t)}return e.blockHash&&P(e.blockHash)===Ri&&(e.blockHash=null),e}const Ig="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class Rn{name;constructor(e){O(this,{name:e})}clone(){return new Rn(this.name)}}class Nr extends Rn{effectiveBlock;txBase;txCreate;txDataZero;txDataNonzero;txAccessListStorageKey;txAccessListAddress;constructor(e,t){e==null&&(e=0),super(`org.ethers.network.plugins.GasCost#${e||0}`);const r={effectiveBlock:e};function s(o,i){let a=(t||{})[o];a==null&&(a=i),w(typeof a=="number",`invalud value for ${o}`,"costs",t),r[o]=a}s("txBase",21e3),s("txCreate",32e3),s("txDataZero",4),s("txDataNonzero",16),s("txAccessListStorageKey",1900),s("txAccessListAddress",2400),O(this,r)}clone(){return new Nr(this.effectiveBlock,this)}}class Sr extends Rn{address;targetNetwork;constructor(e,t){super("org.ethers.plugins.network.Ens"),O(this,{address:e||Ig,targetNetwork:t??1})}clone(){return new Sr(this.address,this.targetNetwork)}}class kg extends Rn{#e;#t;get url(){return this.#e}get processFunc(){return this.#t}constructor(e,t){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin"),this.#e=e,this.#t=t}clone(){return this}}const Xr=new Map;class xe{#e;#t;#n;constructor(e,t){this.#e=e,this.#t=P(t),this.#n=new Map}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return this.#e}set name(e){this.#e=e}get chainId(){return this.#t}set chainId(e){this.#t=P(e,"chainId")}matches(e){if(e==null)return!1;if(typeof e=="string"){try{return this.chainId===P(e)}catch{}return this.name===e}if(typeof e=="number"||typeof e=="bigint"){try{return this.chainId===P(e)}catch{}return!1}if(typeof e=="object"){if(e.chainId!=null){try{return this.chainId===P(e.chainId)}catch{}return!1}return e.name!=null?this.name===e.name:!1}return!1}get plugins(){return Array.from(this.#n.values())}attachPlugin(e){if(this.#n.get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return this.#n.set(e.name,e.clone()),this}getPlugin(e){return this.#n.get(e)||null}getPlugins(e){return this.plugins.filter(t=>t.name.split("#")[0]===e)}clone(){const e=new xe(this.name,this.chainId);return this.plugins.forEach(t=>{e.attachPlugin(t.clone())}),e}computeIntrinsicGas(e){const t=this.getPlugin("org.ethers.plugins.network.GasCost")||new Nr;let r=t.txBase;if(e.to==null&&(r+=t.txCreate),e.data)for(let s=2;s<e.data.length;s+=2)e.data.substring(s,s+2)==="00"?r+=t.txDataZero:r+=t.txDataNonzero;if(e.accessList){const s=At(e.accessList);for(const o in s)r+=t.txAccessListAddress+t.txAccessListStorageKey*s[o].storageKeys.length}return r}static from(e){if(Mg(),e==null)return xe.from("mainnet");if(typeof e=="number"&&(e=BigInt(e)),typeof e=="string"||typeof e=="bigint"){const t=Xr.get(e);if(t)return t();if(typeof e=="bigint")return new xe("unknown",e);w(!1,"unknown network","network",e)}if(typeof e.clone=="function")return e.clone();if(typeof e=="object"){w(typeof e.name=="string"&&typeof e.chainId=="number","invalid network object name or chainId","network",e);const t=new xe(e.name,e.chainId);return(e.ensAddress||e.ensNetwork!=null)&&t.attachPlugin(new Sr(e.ensAddress,e.ensNetwork)),t}w(!1,"invalid network","network",e)}static register(e,t){typeof e=="number"&&(e=BigInt(e));const r=Xr.get(e);r&&w(!1,`conflicting network for ${JSON.stringify(r.name)}`,"nameOrChainId",e),Xr.set(e,t)}}function Ni(n,e){const t=String(n);if(!t.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${n}`);const r=t.split(".");if(r.length===1&&r.push(""),r.length!==2)throw new Error(`invalid gwei value: ${n}`);for(;r[1].length<e;)r[1]+="0";if(r[1].length>9){let s=BigInt(r[1].substring(0,9));r[1].substring(9).match(/^0+$/)||s++,r[1]=s.toString()}return BigInt(r[0]+r[1])}function Si(n){return new kg(n,async(e,t,r)=>{r.setHeader("User-Agent","ethers");let s;try{const[o,i]=await Promise.all([r.send(),e()]);s=o;const a=s.bodyJson.standard;return{gasPrice:i.gasPrice,maxFeePerGas:Ni(a.maxFee,9),maxPriorityFeePerGas:Ni(a.maxPriorityFee,9)}}catch(o){E(!1,`error encountered with polygon gas station (${JSON.stringify(r.url)})`,"SERVER_ERROR",{request:r,response:s,error:o})}})}let Oi=!1;function Mg(){if(Oi)return;Oi=!0;function n(e,t,r){const s=function(){const o=new xe(e,t);return r.ensNetwork!=null&&o.attachPlugin(new Sr(null,r.ensNetwork)),o.attachPlugin(new Nr),(r.plugins||[]).forEach(i=>{o.attachPlugin(i)}),o};xe.register(e,s),xe.register(t,s),r.altNames&&r.altNames.forEach(o=>{xe.register(o,s)})}n("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),n("ropsten",3,{ensNetwork:3}),n("rinkeby",4,{ensNetwork:4}),n("goerli",5,{ensNetwork:5}),n("kovan",42,{ensNetwork:42}),n("sepolia",11155111,{ensNetwork:11155111}),n("holesky",17e3,{ensNetwork:17e3}),n("classic",61,{}),n("classicKotti",6,{}),n("arbitrum",42161,{ensNetwork:1}),n("arbitrum-goerli",421613,{}),n("arbitrum-sepolia",421614,{}),n("base",8453,{ensNetwork:1}),n("base-goerli",84531,{}),n("base-sepolia",84532,{}),n("bnb",56,{ensNetwork:1}),n("bnbt",97,{}),n("linea",59144,{ensNetwork:1}),n("linea-goerli",59140,{}),n("matic",137,{ensNetwork:1,plugins:[Si("https://gasstation.polygon.technology/v2")]}),n("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[Si("https://gasstation-testnet.polygon.technology/v2")]}),n("optimism",10,{ensNetwork:1,plugins:[]}),n("optimism-goerli",420,{}),n("optimism-sepolia",11155420,{}),n("xdai",100,{ensNetwork:1})}function As(n){return JSON.parse(JSON.stringify(n))}class Dg{#e;#t;#n;#r;constructor(e){this.#e=e,this.#t=null,this.#n=4e3,this.#r=-2}get pollingInterval(){return this.#n}set pollingInterval(e){this.#n=e}async#s(){try{const e=await this.#e.getBlockNumber();if(this.#r===-2){this.#r=e;return}if(e!==this.#r){for(let t=this.#r+1;t<=e;t++){if(this.#t==null)return;await this.#e.emit("block",t)}this.#r=e}}catch{}this.#t!=null&&(this.#t=this.#e._setTimeout(this.#s.bind(this),this.#n))}start(){this.#t||(this.#t=this.#e._setTimeout(this.#s.bind(this),this.#n),this.#s())}stop(){this.#t&&(this.#e._clearTimeout(this.#t),this.#t=null)}pause(e){this.stop(),e&&(this.#r=-2)}resume(){this.start()}}class no{#e;#t;#n;constructor(e){this.#e=e,this.#n=!1,this.#t=t=>{this._poll(t,this.#e)}}async _poll(e,t){throw new Error("sub-classes must override this")}start(){this.#n||(this.#n=!0,this.#t(-2),this.#e.on("block",this.#t))}stop(){this.#n&&(this.#n=!1,this.#e.off("block",this.#t))}pause(e){this.stop()}resume(){this.start()}}class Bg extends no{#e;#t;constructor(e,t){super(e),this.#e=t,this.#t=-2}pause(e){e&&(this.#t=-2),super.pause(e)}async _poll(e,t){const r=await t.getBlock(this.#e);r!=null&&(this.#t===-2?this.#t=r.number:r.number>this.#t&&(t.emit(this.#e,r.number),this.#t=r.number))}}class Fg extends no{#e;constructor(e,t){super(e),this.#e=As(t)}async _poll(e,t){throw new Error("@TODO")}}class $g extends no{#e;constructor(e,t){super(e),this.#e=t}async _poll(e,t){const r=await t.getTransactionReceipt(this.#e);r&&t.emit(this.#e,r)}}class ro{#e;#t;#n;#r;#s;constructor(e,t){this.#e=e,this.#t=As(t),this.#n=this.#i.bind(this),this.#r=!1,this.#s=-2}async#i(e){if(this.#s===-2)return;const t=As(this.#t);t.fromBlock=this.#s+1,t.toBlock=e;const r=await this.#e.getLogs(t);if(r.length===0){this.#s<e-60&&(this.#s=e-60);return}for(const s of r)this.#e.emit(this.#t,s),this.#s=s.blockNumber}start(){this.#r||(this.#r=!0,this.#s===-2&&this.#e.getBlockNumber().then(e=>{this.#s=e}),this.#e.on("block",this.#n))}stop(){this.#r&&(this.#r=!1,this.#e.off("block",this.#n))}pause(e){this.stop(),e&&(this.#s=-2)}resume(){this.start()}}const Lg=BigInt(2),Ug=10;function Vn(n){return n&&typeof n.then=="function"}function jn(n,e){return n+":"+JSON.stringify(e,(t,r)=>{if(r==null)return"null";if(typeof r=="bigint")return`bigint:${r.toString()}`;if(typeof r=="string")return r.toLowerCase();if(typeof r=="object"&&!Array.isArray(r)){const s=Object.keys(r);return s.sort(),s.reduce((o,i)=>(o[i]=r[i],o),{})}return r})}class Al{name;constructor(e){O(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function _g(n){return JSON.parse(JSON.stringify(n))}function Es(n){return n=Array.from(new Set(n).values()),n.sort(),n}async function Zr(n,e){if(n==null)throw new Error("invalid event");if(Array.isArray(n)&&(n={topics:n}),typeof n=="string")switch(n){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:n,tag:n}}if(z(n,32)){const t=n.toLowerCase();return{type:"transaction",tag:jn("tx",{hash:t}),hash:t}}if(n.orphan){const t=n;return{type:"orphan",tag:jn("orphan",t),filter:_g(t)}}if(n.address||n.topics){const t=n,r={topics:(t.topics||[]).map(s=>s==null?null:Array.isArray(s)?Es(s.map(o=>o.toLowerCase())):s.toLowerCase())};if(t.address){const s=[],o=[],i=a=>{z(a)?s.push(a):o.push((async()=>{s.push(await ge(a,e))})())};Array.isArray(t.address)?t.address.forEach(i):i(t.address),o.length&&await Promise.all(o),r.address=Es(s.map(a=>a.toLowerCase()))}return{filter:r,tag:jn("event",r),type:"event"}}w(!1,"unknown ProviderEvent","event",n)}function qr(){return new Date().getTime()}const Gg={cacheTimeout:250,pollingInterval:4e3};class Hg{#e;#t;#n;#r;#s;#i;#o;#a;#f;#l;#d;#h;constructor(e,t){if(this.#h=Object.assign({},Gg,t||{}),e==="any")this.#i=!0,this.#s=null;else if(e){const r=xe.from(e);this.#i=!1,this.#s=Promise.resolve(r),setTimeout(()=>{this.emit("network",r,null)},0)}else this.#i=!1,this.#s=null;this.#a=-1,this.#o=new Map,this.#e=new Map,this.#t=new Map,this.#n=null,this.#r=!1,this.#f=1,this.#l=new Map,this.#d=!1}get pollingInterval(){return this.#h.pollingInterval}get provider(){return this}get plugins(){return Array.from(this.#t.values())}attachPlugin(e){if(this.#t.get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return this.#t.set(e.name,e.connect(this)),this}getPlugin(e){return this.#t.get(e)||null}get disableCcipRead(){return this.#d}set disableCcipRead(e){this.#d=!!e}async#c(e){const t=this.#h.cacheTimeout;if(t<0)return await this._perform(e);const r=jn(e.method,e);let s=this.#o.get(r);return s||(s=this._perform(e),this.#o.set(r,s),setTimeout(()=>{this.#o.get(r)===s&&this.#o.delete(r)},t)),await s}async ccipReadFetch(e,t,r){if(this.disableCcipRead||r.length===0||e.to==null)return null;const s=e.to.toLowerCase(),o=t.toLowerCase(),i=[];for(let a=0;a<r.length;a++){const c=r[a],l=c.replace("{sender}",s).replace("{data}",o),u=new Ke(l);c.indexOf("{data}")===-1&&(u.body={data:o,sender:s}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:u,index:a,urls:r});let f="unknown error";const h=await u.send();try{const p=h.bodyJson;if(p.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:u,result:p}),p.data;p.message&&(f=p.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:u,result:p})}catch{}E(h.statusCode<400||h.statusCode>=500,`response not found during CCIP fetch: ${f}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:c,errorMessage:f}}),i.push(f)}E(!1,`error encountered during CCIP fetch: ${i.map(a=>JSON.stringify(a)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:r,errorMessages:i}})}_wrapBlock(e,t){return new ag(Rg(e),this)}_wrapLog(e,t){return new Cn(xg(e),this)}_wrapTransactionReceipt(e,t){return new al(Tg(e),this)}_wrapTransactionResponse(e,t){return new xn(bl(e),this)}_detectNetwork(){E(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){E(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=F(await this.#c({method:"getBlockNumber"}),"%response");return this.#a>=0&&(this.#a=e),e}_getAddress(e){return ge(e,this)}_getBlockTag(e){if(e==null)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}if(z(e))return z(e,32)?e:Mt(e);if(typeof e=="bigint"&&(e=F(e,"blockTag")),typeof e=="number")return e>=0?Mt(e):this.#a>=0?Mt(this.#a+e):this.getBlockNumber().then(t=>Mt(t+e));w(!1,"invalid blockTag","blockTag",e)}_getFilter(e){const t=(e.topics||[]).map(c=>c==null?null:Array.isArray(c)?Es(c.map(l=>l.toLowerCase())):c.toLowerCase()),r="blockHash"in e?e.blockHash:void 0,s=(c,l,u)=>{let f;switch(c.length){case 0:break;case 1:f=c[0];break;default:c.sort(),f=c}if(r&&(l!=null||u!=null))throw new Error("invalid filter");const h={};return f&&(h.address=f),t.length&&(h.topics=t),l&&(h.fromBlock=l),u&&(h.toBlock=u),r&&(h.blockHash=r),h};let o=[];if(e.address)if(Array.isArray(e.address))for(const c of e.address)o.push(this._getAddress(c));else o.push(this._getAddress(e.address));let i;"fromBlock"in e&&(i=this._getBlockTag(e.fromBlock));let a;return"toBlock"in e&&(a=this._getBlockTag(e.toBlock)),o.filter(c=>typeof c!="string").length||i!=null&&typeof i!="string"||a!=null&&typeof a!="string"?Promise.all([Promise.all(o),i,a]).then(c=>s(c[0],c[1],c[2])):s(o,i,a)}_getTransactionRequest(e){const t=cr(e),r=[];if(["to","from"].forEach(s=>{if(t[s]==null)return;const o=ge(t[s],this);Vn(o)?r.push(async function(){t[s]=await o}()):t[s]=o}),t.blockTag!=null){const s=this._getBlockTag(t.blockTag);Vn(s)?r.push(async function(){t.blockTag=await s}()):t.blockTag=s}return r.length?async function(){return await Promise.all(r),t}():t}async getNetwork(){if(this.#s==null){const s=(async()=>{try{const o=await this._detectNetwork();return this.emit("network",o,null),o}catch(o){throw this.#s===s&&(this.#s=null),o}})();return this.#s=s,(await s).clone()}const e=this.#s,[t,r]=await Promise.all([e,this._detectNetwork()]);return t.chainId!==r.chainId&&(this.#i?(this.emit("network",r,t),this.#s===e&&(this.#s=Promise.resolve(r))):E(!1,`network changed: ${t.chainId} => ${r.chainId} `,"NETWORK_ERROR",{event:"changed"})),t.clone()}async getFeeData(){const e=await this.getNetwork(),t=async()=>{const{_block:s,gasPrice:o,priorityFee:i}=await de({_block:this.#y("latest",!1),gasPrice:(async()=>{try{const u=await this.#c({method:"getGasPrice"});return P(u,"%response")}catch{}return null})(),priorityFee:(async()=>{try{const u=await this.#c({method:"getPriorityFee"});return P(u,"%response")}catch{}return null})()});let a=null,c=null;const l=this._wrapBlock(s,e);return l&&l.baseFeePerGas&&(c=i??BigInt("1000000000"),a=l.baseFeePerGas*Lg+c),new vi(o,a,c)},r=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(r){const s=new Ke(r.url),o=await r.processFunc(t,this,s);return new vi(o.gasPrice,o.maxFeePerGas,o.maxPriorityFeePerGas)}return await t()}async estimateGas(e){let t=this._getTransactionRequest(e);return Vn(t)&&(t=await t),P(await this.#c({method:"estimateGas",transaction:t}),"%response")}async#u(e,t,r){E(r<Ug,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:t,enableCcipRead:!0})});const s=cr(e);try{return S(await this._perform({method:"call",transaction:s,blockTag:t}))}catch(o){if(!this.disableCcipRead&&Qs(o)&&o.data&&r>=0&&t==="latest"&&s.to!=null&&Y(o.data,0,4)==="0x556f1830"){const i=o.data,a=await ge(s.to,this);let c;try{c=Jg(Y(o.data,4))}catch(f){E(!1,f.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:s,info:{data:i}})}E(c.sender.toLowerCase()===a.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:i,reason:"OffchainLookup",transaction:s,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:c.errorArgs}});const l=await this.ccipReadFetch(s,c.calldata,c.urls);E(l!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:s,info:{data:o.data,errorArgs:c.errorArgs}});const u={to:a,data:te([c.selector,jg([l,c.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:u});try{const f=await this.#u(u,t,r+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},u),result:f}),f}catch(f){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},u),error:f}),f}}throw o}}async#m(e){const{value:t}=await de({network:this.getNetwork(),value:e});return t}async call(e){const{tx:t,blockTag:r}=await de({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await this.#m(this.#u(t,r,e.enableCcipRead?0:-1))}async#p(e,t,r){let s=this._getAddress(t),o=this._getBlockTag(r);return(typeof s!="string"||typeof o!="string")&&([s,o]=await Promise.all([s,o])),await this.#m(this.#c(Object.assign(e,{address:s,blockTag:o})))}async getBalance(e,t){return P(await this.#p({method:"getBalance"},e,t),"%response")}async getTransactionCount(e,t){return F(await this.#p({method:"getTransactionCount"},e,t),"%response")}async getCode(e,t){return S(await this.#p({method:"getCode"},e,t))}async getStorage(e,t,r){const s=P(t,"position");return S(await this.#p({method:"getStorage",position:s},e,r))}async broadcastTransaction(e){const{blockNumber:t,hash:r,network:s}=await de({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),o=Be.from(e);if(o.hash!==r)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(o,s).replaceableTransaction(t)}async#y(e,t){if(z(e,32))return await this.#c({method:"getBlock",blockHash:e,includeTransactions:t});let r=this._getBlockTag(e);return typeof r!="string"&&(r=await r),await this.#c({method:"getBlock",blockTag:r,includeTransactions:t})}async getBlock(e,t){const{network:r,params:s}=await de({network:this.getNetwork(),params:this.#y(e,!!t)});return s==null?null:this._wrapBlock(s,r)}async getTransaction(e){const{network:t,params:r}=await de({network:this.getNetwork(),params:this.#c({method:"getTransaction",hash:e})});return r==null?null:this._wrapTransactionResponse(r,t)}async getTransactionReceipt(e){const{network:t,params:r}=await de({network:this.getNetwork(),params:this.#c({method:"getTransactionReceipt",hash:e})});if(r==null)return null;if(r.gasPrice==null&&r.effectiveGasPrice==null){const s=await this.#c({method:"getTransaction",hash:e});if(s==null)throw new Error("report this; could not find tx or effectiveGasPrice");r.effectiveGasPrice=s.gasPrice}return this._wrapTransactionReceipt(r,t)}async getTransactionResult(e){const{result:t}=await de({network:this.getNetwork(),result:this.#c({method:"getTransactionResult",hash:e})});return t==null?null:S(t)}async getLogs(e){let t=this._getFilter(e);Vn(t)&&(t=await t);const{network:r,params:s}=await de({network:this.getNetwork(),params:this.#c({method:"getLogs",filter:t})});return s.map(o=>this._wrapLog(o,r))}_getProvider(e){E(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await Lt.fromName(this,e)}async getAvatar(e){const t=await this.getResolver(e);return t?await t.getAvatar():null}async resolveName(e){const t=await this.getResolver(e);return t?await t.getAddress():null}async lookupAddress(e){e=H(e);const t=ws(e.substring(2).toLowerCase()+".addr.reverse");try{const r=await Lt.getEnsAddress(this),o=await new cn(r,["function resolver(bytes32) view returns (address)"],this).resolver(t);if(o==null||o===hn)return null;const a=await new cn(o,["function name(bytes32) view returns (string)"],this).name(t);return await this.resolveName(a)!==e?null:a}catch(r){if(ue(r,"BAD_DATA")&&r.value==="0x"||ue(r,"CALL_EXCEPTION"))return null;throw r}return null}async waitForTransaction(e,t,r){const s=t??1;return s===0?this.getTransactionReceipt(e):new Promise(async(o,i)=>{let a=null;const c=async l=>{try{const u=await this.getTransactionReceipt(e);if(u!=null&&l-u.blockNumber+1>=s){o(u),a&&(clearTimeout(a),a=null);return}}catch(u){console.log("EEE",u)}this.once("block",c)};r!=null&&(a=setTimeout(()=>{a!=null&&(a=null,this.off("block",c),i(ee("timeout","TIMEOUT",{reason:"timeout"})))},r)),c(await this.getBlockNumber())})}async waitForBlock(e){E(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const t=this.#l.get(e);t&&(t.timer&&clearTimeout(t.timer),this.#l.delete(e))}_setTimeout(e,t){t==null&&(t=0);const r=this.#f++,s=()=>{this.#l.delete(r),e()};if(this.paused)this.#l.set(r,{timer:null,func:s,time:t});else{const o=setTimeout(s,t);this.#l.set(r,{timer:o,func:s,time:qr()})}return r}_forEachSubscriber(e){for(const t of this.#e.values())e(t.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new Al(e.type);case"block":{const t=new Dg(this);return t.pollingInterval=this.pollingInterval,t}case"safe":case"finalized":return new Bg(this,e.type);case"event":return new ro(this,e.filter);case"transaction":return new $g(this,e.hash);case"orphan":return new Fg(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,t){for(const r of this.#e.values())if(r.subscriber===e){r.started&&r.subscriber.stop(),r.subscriber=t,r.started&&t.start(),this.#n!=null&&t.pause(this.#n);break}}async#g(e,t){let r=await Zr(e,this);return r.type==="event"&&t&&t.length>0&&t[0].removed===!0&&(r=await Zr({orphan:"drop-log",log:t[0]},this)),this.#e.get(r.tag)||null}async#w(e){const t=await Zr(e,this),r=t.tag;let s=this.#e.get(r);return s||(s={subscriber:this._getSubscriber(t),tag:r,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},this.#e.set(r,s)),s}async on(e,t){const r=await this.#w(e);return r.listeners.push({listener:t,once:!1}),r.started||(r.subscriber.start(),r.started=!0,this.#n!=null&&r.subscriber.pause(this.#n)),this}async once(e,t){const r=await this.#w(e);return r.listeners.push({listener:t,once:!0}),r.started||(r.subscriber.start(),r.started=!0,this.#n!=null&&r.subscriber.pause(this.#n)),this}async emit(e,...t){const r=await this.#g(e,t);if(!r||r.listeners.length===0)return!1;const s=r.listeners.length;return r.listeners=r.listeners.filter(({listener:o,once:i})=>{const a=new hc(this,i?null:o,e);try{o.call(this,...t,a)}catch{}return!i}),r.listeners.length===0&&(r.started&&r.subscriber.stop(),this.#e.delete(r.tag)),s>0}async listenerCount(e){if(e){const r=await this.#g(e);return r?r.listeners.length:0}let t=0;for(const{listeners:r}of this.#e.values())t+=r.length;return t}async listeners(e){if(e){const r=await this.#g(e);return r?r.listeners.map(({listener:s})=>s):[]}let t=[];for(const{listeners:r}of this.#e.values())t=t.concat(r.map(({listener:s})=>s));return t}async off(e,t){const r=await this.#g(e);if(!r)return this;if(t){const s=r.listeners.map(({listener:o})=>o).indexOf(t);s>=0&&r.listeners.splice(s,1)}return(!t||r.listeners.length===0)&&(r.started&&r.subscriber.stop(),this.#e.delete(r.tag)),this}async removeAllListeners(e){if(e){const{tag:t,started:r,subscriber:s}=await this.#w(e);r&&s.stop(),this.#e.delete(t)}else for(const[t,{started:r,subscriber:s}]of this.#e)r&&s.stop(),this.#e.delete(t);return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return this.off(e,t)}get destroyed(){return this.#r}destroy(){this.removeAllListeners();for(const e of this.#l.keys())this._clearTimeout(e);this.#r=!0}get paused(){return this.#n!=null}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(this.#a=-1,this.#n!=null){if(this.#n==!!e)return;E(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(t=>t.pause(e)),this.#n=!!e;for(const t of this.#l.values())t.timer&&clearTimeout(t.timer),t.time=qr()-t.time}resume(){if(this.#n!=null){this._forEachSubscriber(e=>e.resume()),this.#n=null;for(const e of this.#l.values()){let t=e.time;t<0&&(t=0),e.time=qr(),setTimeout(e.func,t)}}}}function Qg(n,e){try{const t=vs(n,e);if(t)return nr(t)}catch{}return null}function vs(n,e){if(n==="0x")return null;try{const t=F(Y(n,e,e+32)),r=F(Y(n,t,t+32));return Y(n,t+32,t+32+r)}catch{}return null}function Ti(n){const e=pe(n);if(e.length>32)throw new Error("internal; should not happen");const t=new Uint8Array(32);return t.set(e,32-e.length),t}function Vg(n){if(n.length%32===0)return n;const e=new Uint8Array(Math.ceil(n.length/32)*32);return e.set(n),e}const zg=new Uint8Array([]);function jg(n){const e=[];let t=0;for(let r=0;r<n.length;r++)e.push(zg),t+=32;for(let r=0;r<n.length;r++){const s=G(n[r]);e[r]=Ti(t),e.push(Ti(s.length)),e.push(Vg(s)),t+=32+Math.ceil(s.length/32)*32}return te(e)}const Ii="0x0000000000000000000000000000000000000000000000000000000000000000";function Jg(n){const e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};E(Bt(n)>=5*32,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const t=Y(n,0,32);E(Y(t,0,12)===Y(Ii,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=Y(t,12);try{const r=[],s=F(Y(n,32,64)),o=F(Y(n,s,s+32)),i=Y(n,s+32);for(let a=0;a<o;a++){const c=Qg(i,a*32);if(c==null)throw new Error("abort");r.push(c)}e.urls=r}catch{E(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const r=vs(n,64);if(r==null)throw new Error("abort");e.calldata=r}catch{E(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}E(Y(n,100,128)===Y(Ii,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=Y(n,96,100);try{const r=vs(n,128);if(r==null)throw new Error("abort");e.extraData=r}catch{E(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(r=>e[r]),e}function Nt(n,e){if(n.provider)return n.provider;E(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function ki(n,e){let t=cr(e);if(t.to!=null&&(t.to=ge(t.to,n)),t.from!=null){const r=t.from;t.from=Promise.all([n.getAddress(),ge(r,n)]).then(([s,o])=>(w(s.toLowerCase()===o.toLowerCase(),"transaction from mismatch","tx.from",o),s))}else t.from=n.getAddress();return await de(t)}class Kg{provider;constructor(e){O(this,{provider:e||null})}async getNonce(e){return Nt(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await ki(this,e)}async populateTransaction(e){const t=Nt(this,"populateTransaction"),r=await ki(this,e);r.nonce==null&&(r.nonce=await this.getNonce("pending")),r.gasLimit==null&&(r.gasLimit=await this.estimateGas(r));const s=await this.provider.getNetwork();if(r.chainId!=null){const i=P(r.chainId);w(i===s.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else r.chainId=s.chainId;const o=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||o)?w(!1,"eip-1559 transaction do not support gasPrice","tx",e):(r.type===0||r.type===1)&&o&&w(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1){const i=await t.getFeeData();E(i.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),r.gasPrice==null&&(r.gasPrice=i.gasPrice)}else{const i=await t.getFeeData();if(r.type==null)if(i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)if(r.type=2,r.gasPrice!=null){const a=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=a,r.maxPriorityFeePerGas=a}else r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas);else i.gasPrice!=null?(E(!o,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=i.gasPrice),r.type=0):E(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else r.type===2&&(r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas))}return await de(r)}async estimateGas(e){return Nt(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return Nt(this,"call").call(await this.populateCall(e))}async resolveName(e){return await Nt(this,"resolveName").resolveName(e)}async sendTransaction(e){const t=Nt(this,"sendTransaction"),r=await this.populateTransaction(e);delete r.from;const s=Be.from(r);return await t.broadcastTransaction(await this.signTransaction(s))}}function Wg(n){return JSON.parse(JSON.stringify(n))}class El{#e;#t;#n;#r;#s;#i;constructor(e){this.#e=e,this.#t=null,this.#n=this.#o.bind(this),this.#r=!1,this.#s=null,this.#i=!1}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,t){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}async#o(e){try{this.#t==null&&(this.#t=this._subscribe(this.#e));let t=null;try{t=await this.#t}catch(o){if(!ue(o,"UNSUPPORTED_OPERATION")||o.operation!=="eth_newFilter")throw o}if(t==null){this.#t=null,this.#e._recoverSubscriber(this,this._recover(this.#e));return}const r=await this.#e.getNetwork();if(this.#s||(this.#s=r),this.#s.chainId!==r.chainId)throw new Error("chaid changed");if(this.#i)return;const s=await this.#e.send("eth_getFilterChanges",[t]);await this._emitResults(this.#e,s)}catch(t){console.log("@TODO",t)}this.#e.once("block",this.#n)}#a(){const e=this.#t;e&&(this.#t=null,e.then(t=>{this.#e.send("eth_uninstallFilter",[t])}))}start(){this.#r||(this.#r=!0,this.#o(-2))}stop(){this.#r&&(this.#r=!1,this.#i=!0,this.#a(),this.#e.off("block",this.#n))}pause(e){e&&this.#a(),this.#e.off("block",this.#n)}resume(){this.start()}}class Yg extends El{#e;constructor(e,t){super(e),this.#e=Wg(t)}_recover(e){return new ro(e,this.#e)}async _subscribe(e){return await e.send("eth_newFilter",[this.#e])}async _emitResults(e,t){for(const r of t)e.emit(this.#e,e._wrapLog(r,e._network))}}class Xg extends El{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,t){for(const r of t)e.emit("pending",r)}}const Zg="bigint,boolean,function,number,string,symbol".split(/,/g);function Jn(n){if(n==null||Zg.indexOf(typeof n)>=0||typeof n.getAddress=="function")return n;if(Array.isArray(n))return n.map(Jn);if(typeof n=="object")return Object.keys(n).reduce((e,t)=>(e[t]=n[t],e),{});throw new Error(`should not happen: ${n} (${typeof n})`)}function qg(n){return new Promise(e=>{setTimeout(e,n)})}function St(n){return n&&n.toLowerCase()}function Mi(n){return n&&typeof n.pollingInterval=="number"}const e0={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class Kn extends Kg{address;constructor(e,t){super(e),t=H(t),O(this,{address:t})}connect(e){E(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(e){return await this.populateCall(e)}async sendUncheckedTransaction(e){const t=Jn(e),r=[];if(t.from){const o=t.from;r.push((async()=>{const i=await ge(o,this.provider);w(i!=null&&i.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),t.from=i})())}else t.from=this.address;if(t.gasLimit==null&&r.push((async()=>{t.gasLimit=await this.provider.estimateGas({...t,from:this.address})})()),t.to!=null){const o=t.to;r.push((async()=>{t.to=await ge(o,this.provider)})())}r.length&&await Promise.all(r);const s=this.provider.getRpcTransaction(t);return this.provider.send("eth_sendTransaction",[s])}async sendTransaction(e){const t=await this.provider.getBlockNumber(),r=await this.sendUncheckedTransaction(e);return await new Promise((s,o)=>{const i=[1e3,100];let a=0;const c=async()=>{try{const l=await this.provider.getTransaction(r);if(l!=null){s(l.replaceableTransaction(t));return}}catch(l){if(ue(l,"CANCELLED")||ue(l,"BAD_DATA")||ue(l,"NETWORK_ERROR")){l.info==null&&(l.info={}),l.info.sendTransactionHash=r,o(l);return}if(ue(l,"INVALID_ARGUMENT")&&(a++,l.info==null&&(l.info={}),l.info.sendTransactionHash=r,a>10)){o(l);return}this.provider.emit("error",ee("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:l}))}this.provider._setTimeout(()=>{c()},i.pop()||4e3)};c()})}async signTransaction(e){const t=Jn(e);if(t.from){const s=await ge(t.from,this.provider);w(s!=null&&s.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),t.from=s}else t.from=this.address;const r=this.provider.getRpcTransaction(t);return await this.provider.send("eth_signTransaction",[r])}async signMessage(e){const t=typeof e=="string"?je(e):e;return await this.provider.send("personal_sign",[S(t),this.address.toLowerCase()])}async signTypedData(e,t,r){const s=Jn(r),o=await ve.resolveNames(e,t,s,async i=>{const a=await ge(i);return w(a!=null,"TypedData does not support null address","value",i),a});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(ve.getPayload(o.domain,t,o.value))])}async unlock(e){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),e,null])}async _legacySignMessage(e){const t=typeof e=="string"?je(e):e;return await this.provider.send("eth_sign",[this.address.toLowerCase(),S(t)])}}class t0 extends Hg{#e;#t;#n;#r;#s;#i;#o;#a(){if(this.#r)return;const e=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");this.#r=setTimeout(()=>{this.#r=null;const t=this.#n;for(this.#n=[];t.length;){const r=[t.shift()];for(;t.length&&r.length!==this.#e.batchMaxCount;)if(r.push(t.shift()),JSON.stringify(r.map(o=>o.payload)).length>this.#e.batchMaxSize){t.unshift(r.pop());break}(async()=>{const s=r.length===1?r[0].payload:r.map(o=>o.payload);this.emit("debug",{action:"sendRpcPayload",payload:s});try{const o=await this._send(s);this.emit("debug",{action:"receiveRpcResult",result:o});for(const{resolve:i,reject:a,payload:c}of r){if(this.destroyed){a(ee("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:c.method}));continue}const l=o.filter(u=>u.id===c.id)[0];if(l==null){const u=ee("missing response for request","BAD_DATA",{value:o,info:{payload:c}});this.emit("error",u),a(u);continue}if("error"in l){a(this.getRpcError(c,l));continue}i(l.result)}}catch(o){this.emit("debug",{action:"receiveRpcError",error:o});for(const{reject:i}of r)i(o)}})()}},e)}constructor(e,t){super(e,t),this.#t=1,this.#e=Object.assign({},e0,t||{}),this.#n=[],this.#r=null,this.#i=null,this.#o=null;{let s=null;const o=new Promise(i=>{s=i});this.#s={promise:o,resolve:s}}const r=this._getOption("staticNetwork");typeof r=="boolean"?(w(!r||e!=="any","staticNetwork cannot be used on special network 'any'","options",t),r&&e!=null&&(this.#i=xe.from(e))):r&&(w(e==null||r.matches(e),"staticNetwork MUST match network object","options",t),this.#i=r)}_getOption(e){return this.#e[e]}get _network(){return E(this.#i,"network is not available yet","NETWORK_ERROR"),this.#i}async _perform(e){if(e.method==="call"||e.method==="estimateGas"){let r=e.transaction;if(r&&r.type!=null&&P(r.type)&&r.maxFeePerGas==null&&r.maxPriorityFeePerGas==null){const s=await this.getFeeData();s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null&&(e=Object.assign({},e,{transaction:Object.assign({},r,{type:void 0})}))}}const t=this.getRpcRequest(e);return t!=null?await this.send(t.method,t.args):super._perform(e)}async _detectNetwork(){const e=this._getOption("staticNetwork");if(e)if(e===!0){if(this.#i)return this.#i}else return e;return this.#o?await this.#o:this.ready?(this.#o=(async()=>{try{const t=xe.from(P(await this.send("eth_chainId",[])));return this.#o=null,t}catch(t){throw this.#o=null,t}})(),await this.#o):(this.#o=(async()=>{const t={id:this.#t++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:t});let r;try{r=(await this._send(t))[0],this.#o=null}catch(s){throw this.#o=null,this.emit("debug",{action:"receiveRpcError",error:s}),s}if(this.emit("debug",{action:"receiveRpcResult",result:r}),"result"in r)return xe.from(P(r.result));throw this.getRpcError(t,r)})(),await this.#o)}_start(){this.#s==null||this.#s.resolve==null||(this.#s.resolve(),this.#s=null,(async()=>{for(;this.#i==null&&!this.destroyed;)try{this.#i=await this._detectNetwork()}catch(e){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",ee("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:e}})),await qg(1e3)}this.#a()})())}async _waitUntilReady(){if(this.#s!=null)return await this.#s.promise}_getSubscriber(e){return e.type==="pending"?new Xg(this):e.type==="event"?this._getOption("polling")?new ro(this,e.filter):new Yg(this,e.filter):e.type==="orphan"&&e.filter.orphan==="drop-log"?new Al("orphan"):super._getSubscriber(e)}get ready(){return this.#s==null}getRpcTransaction(e){const t={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(r=>{if(e[r]==null)return;let s=r;r==="gasLimit"&&(s="gas"),t[s]=Mt(P(e[r],`tx.${r}`))}),["from","to","data"].forEach(r=>{e[r]!=null&&(t[r]=S(e[r]))}),e.accessList&&(t.accessList=At(e.accessList)),t}getRpcRequest(e){switch(e.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[St(e.address),e.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[St(e.address),e.blockTag]};case"getCode":return{method:"eth_getCode",args:[St(e.address),e.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[St(e.address),"0x"+e.position.toString(16),e.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[e.signedTransaction]};case"getBlock":if("blockTag"in e)return{method:"eth_getBlockByNumber",args:[e.blockTag,!!e.includeTransactions]};if("blockHash"in e)return{method:"eth_getBlockByHash",args:[e.blockHash,!!e.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[e.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[e.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(e.transaction),e.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(e.transaction)]};case"getLogs":return e.filter&&e.filter.address!=null&&(Array.isArray(e.filter.address)?e.filter.address=e.filter.address.map(St):e.filter.address=St(e.filter.address)),{method:"eth_getLogs",args:[e.filter]}}return null}getRpcError(e,t){const{method:r}=e,{error:s}=t;if(r==="eth_estimateGas"&&s.message){const a=s.message;if(!a.match(/revert/i)&&a.match(/insufficient funds/i))return ee("insufficient funds","INSUFFICIENT_FUNDS",{transaction:e.params[0],info:{payload:e,error:s}})}if(r==="eth_call"||r==="eth_estimateGas"){const a=Cs(s),c=Qt.getBuiltinCallException(r==="eth_call"?"call":"estimateGas",e.params[0],a?a.data:null);return c.info={error:s,payload:e},c}const o=JSON.stringify(r0(s));if(typeof s.message=="string"&&s.message.match(/user denied|ethers-user-denied/i))return ee("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[r]||"unknown",reason:"rejected",info:{payload:e,error:s}});if(r==="eth_sendRawTransaction"||r==="eth_sendTransaction"){const a=e.params[0];if(o.match(/insufficient funds|base fee exceeds gas limit/i))return ee("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:a,info:{error:s}});if(o.match(/nonce/i)&&o.match(/too low/i))return ee("nonce has already been used","NONCE_EXPIRED",{transaction:a,info:{error:s}});if(o.match(/replacement transaction/i)&&o.match(/underpriced/i))return ee("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:a,info:{error:s}});if(o.match(/only replay-protected/i))return ee("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:r,info:{transaction:a,info:{error:s}}})}let i=!!o.match(/the method .* does not exist/i);return i||s&&s.details&&s.details.startsWith("Unauthorized method:")&&(i=!0),i?ee("unsupported operation","UNSUPPORTED_OPERATION",{operation:e.method,info:{error:s,payload:e}}):ee("could not coalesce error","UNKNOWN_ERROR",{error:s,payload:e})}send(e,t){if(this.destroyed)return Promise.reject(ee("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e}));const r=this.#t++,s=new Promise((o,i)=>{this.#n.push({resolve:o,reject:i,payload:{method:e,params:t,id:r,jsonrpc:"2.0"}})});return this.#a(),s}async getSigner(e){e==null&&(e=0);const t=this.send("eth_accounts",[]);if(typeof e=="number"){const s=await t;if(e>=s.length)throw new Error("no such account");return new Kn(this,s[e])}const{accounts:r}=await de({network:this.getNetwork(),accounts:t});e=H(e);for(const s of r)if(H(s)===e)return new Kn(this,e);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(t=>new Kn(this,t))}destroy(){this.#r&&(clearTimeout(this.#r),this.#r=null);for(const{payload:e,reject:t}of this.#n)t(ee("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e.method}));this.#n=[],super.destroy()}}class n0 extends t0{#e;constructor(e,t){super(e,t),this.#e=4e3}_getSubscriber(e){const t=super._getSubscriber(e);return Mi(t)&&(t.pollingInterval=this.#e),t}get pollingInterval(){return this.#e}set pollingInterval(e){if(!Number.isInteger(e)||e<0)throw new Error("invalid interval");this.#e=e,this._forEachSubscriber(t=>{Mi(t)&&(t.pollingInterval=this.#e)})}}function Cs(n){if(n==null)return null;if(typeof n.message=="string"&&n.message.match(/revert/i)&&z(n.data))return{message:n.message,data:n.data};if(typeof n=="object"){for(const e in n){const t=Cs(n[e]);if(t)return t}return null}if(typeof n=="string")try{return Cs(JSON.parse(n))}catch{}return null}function xs(n,e){if(n!=null){if(typeof n.message=="string"&&e.push(n.message),typeof n=="object")for(const t in n)xs(n[t],e);if(typeof n=="string")try{return xs(JSON.parse(n),e)}catch{}}}function r0(n){const e=[];return xs(n,e),e}class s0 extends n0{#e;constructor(e,t){w(e&&e.request,"invalid EIP-1193 provider","ethereum",e),super(t,{batchMaxCount:1}),this.#e=async(r,s)=>{const o={method:r,params:s};this.emit("debug",{action:"sendEip1193Request",payload:o});try{const i=await e.request(o);return this.emit("debug",{action:"receiveEip1193Result",result:i}),i}catch(i){const a=new Error(i.message);throw a.code=i.code,a.data=i.data,a.payload=o,this.emit("debug",{action:"receiveEip1193Error",error:a}),a}}}async send(e,t){return await this._start(),await super.send(e,t)}async _send(e){w(!Array.isArray(e),"EIP-1193 does not support batch request","payload",e);try{const t=await this.#e(e.method,e.params||[]);return[{id:e.id,result:t}]}catch(t){return[{id:e.id,error:{code:t.code,data:t.data,message:t.message}}]}}getRpcError(e,t){switch(t=JSON.parse(JSON.stringify(t)),t.error.code||-1){case 4001:t.error.message=`ethers-user-denied: ${t.error.message}`;break;case 4200:t.error.message=`ethers-unsupported: ${t.error.message}`;break}return super.getRpcError(e,t)}async hasSigner(e){e==null&&(e=0);const t=await this.send("eth_accounts",[]);return typeof e=="number"?t.length>e:(e=e.toLowerCase(),t.filter(r=>r.toLowerCase()===e).length!==0)}async getSigner(e){if(e==null&&(e=0),!await this.hasSigner(e))try{await this.#e("eth_requestAccounts",[])}catch(t){const r=t.payload;throw this.getRpcError(r,{id:r.id,error:t})}return await super.getSigner(e)}}function o0(n){const{account:e,chain:t,transport:r}=n,s={chainId:t?.id,name:t?.name,ensAddress:t?.contracts?.ensRegistry?.address},o=new s0(r,s);return new Kn(o,e.address)}function vl({chainId:n}={}){const{data:e}=nu({chainId:n});return d.useMemo(()=>e?o0(e):void 0,[e])}function i0(){const{address:n}=Os(),{signMessageAsync:e}=ru(),t=vl({chainId:1123}),r=d.useCallback(async()=>{const o=String(Date.now()),i=await e({message:o});return{msg:o,signature:i}},[n]);return{getSign:d.useCallback(async()=>{if(console.log(t),!t)return;const o=String(Date.now()),i=await t.signMessage(o);return console.log("rawSignature:",i),{rawSignature:i,msg:o}},[t]),handleSign:r}}function Cl(n,e){return function(){return n.apply(e,arguments)}}const{toString:a0}=Object.prototype,{getPrototypeOf:so}=Object,Or=(n=>e=>{const t=a0.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Ue=n=>(n=n.toLowerCase(),e=>Or(e)===n),Tr=n=>e=>typeof e===n,{isArray:jt}=Array,bn=Tr("undefined");function c0(n){return n!==null&&!bn(n)&&n.constructor!==null&&!bn(n.constructor)&&Re(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const xl=Ue("ArrayBuffer");function l0(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&xl(n.buffer),e}const u0=Tr("string"),Re=Tr("function"),Pl=Tr("number"),Ir=n=>n!==null&&typeof n=="object",f0=n=>n===!0||n===!1,Wn=n=>{if(Or(n)!=="object")return!1;const e=so(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},d0=Ue("Date"),h0=Ue("File"),p0=Ue("Blob"),m0=Ue("FileList"),g0=n=>Ir(n)&&Re(n.pipe),w0=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||Re(n.append)&&((e=Or(n))==="formdata"||e==="object"&&Re(n.toString)&&n.toString()==="[object FormData]"))},y0=Ue("URLSearchParams"),b0=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Nn(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,s;if(typeof n!="object"&&(n=[n]),jt(n))for(r=0,s=n.length;r<s;r++)e.call(null,n[r],r,n);else{const o=t?Object.getOwnPropertyNames(n):Object.keys(n),i=o.length;let a;for(r=0;r<i;r++)a=o[r],e.call(null,n[a],a,n)}}function Rl(n,e){e=e.toLowerCase();const t=Object.keys(n);let r=t.length,s;for(;r-- >0;)if(s=t[r],e===s.toLowerCase())return s;return null}const Nl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Sl=n=>!bn(n)&&n!==Nl;function Ps(){const{caseless:n}=Sl(this)&&this||{},e={},t=(r,s)=>{const o=n&&Rl(e,s)||s;Wn(e[o])&&Wn(r)?e[o]=Ps(e[o],r):Wn(r)?e[o]=Ps({},r):jt(r)?e[o]=r.slice():e[o]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&Nn(arguments[r],t);return e}const A0=(n,e,t,{allOwnKeys:r}={})=>(Nn(e,(s,o)=>{t&&Re(s)?n[o]=Cl(s,t):n[o]=s},{allOwnKeys:r}),n),E0=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),v0=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},C0=(n,e,t,r)=>{let s,o,i;const a={};if(e=e||{},n==null)return e;do{for(s=Object.getOwnPropertyNames(n),o=s.length;o-- >0;)i=s[o],(!r||r(i,n,e))&&!a[i]&&(e[i]=n[i],a[i]=!0);n=t!==!1&&so(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},x0=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},P0=n=>{if(!n)return null;if(jt(n))return n;let e=n.length;if(!Pl(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},R0=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&so(Uint8Array)),N0=(n,e)=>{const r=(n&&n[Symbol.iterator]).call(n);let s;for(;(s=r.next())&&!s.done;){const o=s.value;e.call(n,o[0],o[1])}},S0=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},O0=Ue("HTMLFormElement"),T0=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,s){return r.toUpperCase()+s}),Di=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),I0=Ue("RegExp"),Ol=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};Nn(t,(s,o)=>{e(s,o,n)!==!1&&(r[o]=s)}),Object.defineProperties(n,r)},k0=n=>{Ol(n,(e,t)=>{if(Re(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(Re(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},M0=(n,e)=>{const t={},r=s=>{s.forEach(o=>{t[o]=!0})};return jt(n)?r(n):r(String(n).split(e)),t},D0=()=>{},B0=(n,e)=>(n=+n,Number.isFinite(n)?n:e),es="abcdefghijklmnopqrstuvwxyz",Bi="0123456789",Tl={DIGIT:Bi,ALPHA:es,ALPHA_DIGIT:es+es.toUpperCase()+Bi},F0=(n=16,e=Tl.ALPHA_DIGIT)=>{let t="";const{length:r}=e;for(;n--;)t+=e[Math.random()*r|0];return t};function $0(n){return!!(n&&Re(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const L0=n=>{const e=new Array(10),t=(r,s)=>{if(Ir(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[s]=r;const o=jt(r)?[]:{};return Nn(r,(i,a)=>{const c=t(i,s+1);!bn(c)&&(o[a]=c)}),e[s]=void 0,o}}return r};return t(n,0)},U0=Ue("AsyncFunction"),_0=n=>n&&(Ir(n)||Re(n))&&Re(n.then)&&Re(n.catch),b={isArray:jt,isArrayBuffer:xl,isBuffer:c0,isFormData:w0,isArrayBufferView:l0,isString:u0,isNumber:Pl,isBoolean:f0,isObject:Ir,isPlainObject:Wn,isUndefined:bn,isDate:d0,isFile:h0,isBlob:p0,isRegExp:I0,isFunction:Re,isStream:g0,isURLSearchParams:y0,isTypedArray:R0,isFileList:m0,forEach:Nn,merge:Ps,extend:A0,trim:b0,stripBOM:E0,inherits:v0,toFlatObject:C0,kindOf:Or,kindOfTest:Ue,endsWith:x0,toArray:P0,forEachEntry:N0,matchAll:S0,isHTMLForm:O0,hasOwnProperty:Di,hasOwnProp:Di,reduceDescriptors:Ol,freezeMethods:k0,toObjectSet:M0,toCamelCase:T0,noop:D0,toFiniteNumber:B0,findKey:Rl,global:Nl,isContextDefined:Sl,ALPHABET:Tl,generateString:F0,isSpecCompliantForm:$0,toJSONObject:L0,isAsyncFn:U0,isThenable:_0};function U(n,e,t,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),s&&(this.response=s)}b.inherits(U,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:b.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Il=U.prototype,kl={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{kl[n]={value:n}});Object.defineProperties(U,kl);Object.defineProperty(Il,"isAxiosError",{value:!0});U.from=(n,e,t,r,s,o)=>{const i=Object.create(Il);return b.toFlatObject(n,i,function(c){return c!==Error.prototype},a=>a!=="isAxiosError"),U.call(i,n.message,e,t,r,s),i.cause=n,i.name=n.name,o&&Object.assign(i,o),i};const G0=null;function Rs(n){return b.isPlainObject(n)||b.isArray(n)}function Ml(n){return b.endsWith(n,"[]")?n.slice(0,-2):n}function Fi(n,e,t){return n?n.concat(e).map(function(s,o){return s=Ml(s),!t&&o?"["+s+"]":s}).join(t?".":""):e}function H0(n){return b.isArray(n)&&!n.some(Rs)}const Q0=b.toFlatObject(b,{},null,function(e){return/^is[A-Z]/.test(e)});function kr(n,e,t){if(!b.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=b.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,A){return!b.isUndefined(A[m])});const r=t.metaTokens,s=t.visitor||u,o=t.dots,i=t.indexes,c=(t.Blob||typeof Blob<"u"&&Blob)&&b.isSpecCompliantForm(e);if(!b.isFunction(s))throw new TypeError("visitor must be a function");function l(g){if(g===null)return"";if(b.isDate(g))return g.toISOString();if(!c&&b.isBlob(g))throw new U("Blob is not supported. Use a Buffer instead.");return b.isArrayBuffer(g)||b.isTypedArray(g)?c&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function u(g,m,A){let y=g;if(g&&!A&&typeof g=="object"){if(b.endsWith(m,"{}"))m=r?m:m.slice(0,-2),g=JSON.stringify(g);else if(b.isArray(g)&&H0(g)||(b.isFileList(g)||b.endsWith(m,"[]"))&&(y=b.toArray(g)))return m=Ml(m),y.forEach(function(N,T){!(b.isUndefined(N)||N===null)&&e.append(i===!0?Fi([m],T,o):i===null?m:m+"[]",l(N))}),!1}return Rs(g)?!0:(e.append(Fi(A,m,o),l(g)),!1)}const f=[],h=Object.assign(Q0,{defaultVisitor:u,convertValue:l,isVisitable:Rs});function p(g,m){if(!b.isUndefined(g)){if(f.indexOf(g)!==-1)throw Error("Circular reference detected in "+m.join("."));f.push(g),b.forEach(g,function(y,v){(!(b.isUndefined(y)||y===null)&&s.call(e,y,b.isString(v)?v.trim():v,m,h))===!0&&p(y,m?m.concat(v):[v])}),f.pop()}}if(!b.isObject(n))throw new TypeError("data must be an object");return p(n),e}function $i(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function oo(n,e){this._pairs=[],n&&kr(n,this,e)}const Dl=oo.prototype;Dl.append=function(e,t){this._pairs.push([e,t])};Dl.toString=function(e){const t=e?function(r){return e.call(this,r,$i)}:$i;return this._pairs.map(function(s){return t(s[0])+"="+t(s[1])},"").join("&")};function V0(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Bl(n,e,t){if(!e)return n;const r=t&&t.encode||V0,s=t&&t.serialize;let o;if(s?o=s(e,t):o=b.isURLSearchParams(e)?e.toString():new oo(e,t).toString(r),o){const i=n.indexOf("#");i!==-1&&(n=n.slice(0,i)),n+=(n.indexOf("?")===-1?"?":"&")+o}return n}class Li{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){b.forEach(this.handlers,function(r){r!==null&&e(r)})}}const Fl={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},z0=typeof URLSearchParams<"u"?URLSearchParams:oo,j0=typeof FormData<"u"?FormData:null,J0=typeof Blob<"u"?Blob:null,K0=(()=>{let n;return typeof navigator<"u"&&((n=navigator.product)==="ReactNative"||n==="NativeScript"||n==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),W0=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Le={isBrowser:!0,classes:{URLSearchParams:z0,FormData:j0,Blob:J0},isStandardBrowserEnv:K0,isStandardBrowserWebWorkerEnv:W0,protocols:["http","https","file","blob","url","data"]};function Y0(n,e){return kr(n,new Le.classes.URLSearchParams,Object.assign({visitor:function(t,r,s,o){return Le.isNode&&b.isBuffer(t)?(this.append(r,t.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function X0(n){return b.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Z0(n){const e={},t=Object.keys(n);let r;const s=t.length;let o;for(r=0;r<s;r++)o=t[r],e[o]=n[o];return e}function $l(n){function e(t,r,s,o){let i=t[o++];const a=Number.isFinite(+i),c=o>=t.length;return i=!i&&b.isArray(s)?s.length:i,c?(b.hasOwnProp(s,i)?s[i]=[s[i],r]:s[i]=r,!a):((!s[i]||!b.isObject(s[i]))&&(s[i]=[]),e(t,r,s[i],o)&&b.isArray(s[i])&&(s[i]=Z0(s[i])),!a)}if(b.isFormData(n)&&b.isFunction(n.entries)){const t={};return b.forEachEntry(n,(r,s)=>{e(X0(r),s,t,0)}),t}return null}const q0={"Content-Type":void 0};function ew(n,e,t){if(b.isString(n))try{return(e||JSON.parse)(n),b.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const Jt={transitional:Fl,adapter:["xhr","http"],transformRequest:[function(e,t){const r=t.getContentType()||"",s=r.indexOf("application/json")>-1,o=b.isObject(e);if(o&&b.isHTMLForm(e)&&(e=new FormData(e)),b.isFormData(e))return s&&s?JSON.stringify($l(e)):e;if(b.isArrayBuffer(e)||b.isBuffer(e)||b.isStream(e)||b.isFile(e)||b.isBlob(e))return e;if(b.isArrayBufferView(e))return e.buffer;if(b.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Y0(e,this.formSerializer).toString();if((a=b.isFileList(e))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return kr(a?{"files[]":e}:e,c&&new c,this.formSerializer)}}return o||s?(t.setContentType("application/json",!1),ew(e)):e}],transformResponse:[function(e){const t=this.transitional||Jt.transitional,r=t&&t.forcedJSONParsing,s=this.responseType==="json";if(e&&b.isString(e)&&(r&&!this.responseType||s)){const i=!(t&&t.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(a){if(i)throw a.name==="SyntaxError"?U.from(a,U.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Le.classes.FormData,Blob:Le.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};b.forEach(["delete","get","head"],function(e){Jt.headers[e]={}});b.forEach(["post","put","patch"],function(e){Jt.headers[e]=b.merge(q0)});const tw=b.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),nw=n=>{const e={};let t,r,s;return n&&n.split(`
`).forEach(function(i){s=i.indexOf(":"),t=i.substring(0,s).trim().toLowerCase(),r=i.substring(s+1).trim(),!(!t||e[t]&&tw[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},Ui=Symbol("internals");function en(n){return n&&String(n).trim().toLowerCase()}function Yn(n){return n===!1||n==null?n:b.isArray(n)?n.map(Yn):String(n)}function rw(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const sw=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function ts(n,e,t,r,s){if(b.isFunction(r))return r.call(this,e,t);if(s&&(e=t),!!b.isString(e)){if(b.isString(r))return e.indexOf(r)!==-1;if(b.isRegExp(r))return r.test(e)}}function ow(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function iw(n,e){const t=b.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(s,o,i){return this[r].call(this,e,s,o,i)},configurable:!0})})}class Ne{constructor(e){e&&this.set(e)}set(e,t,r){const s=this;function o(a,c,l){const u=en(c);if(!u)throw new Error("header name must be a non-empty string");const f=b.findKey(s,u);(!f||s[f]===void 0||l===!0||l===void 0&&s[f]!==!1)&&(s[f||c]=Yn(a))}const i=(a,c)=>b.forEach(a,(l,u)=>o(l,u,c));return b.isPlainObject(e)||e instanceof this.constructor?i(e,t):b.isString(e)&&(e=e.trim())&&!sw(e)?i(nw(e),t):e!=null&&o(t,e,r),this}get(e,t){if(e=en(e),e){const r=b.findKey(this,e);if(r){const s=this[r];if(!t)return s;if(t===!0)return rw(s);if(b.isFunction(t))return t.call(this,s,r);if(b.isRegExp(t))return t.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=en(e),e){const r=b.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||ts(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let s=!1;function o(i){if(i=en(i),i){const a=b.findKey(r,i);a&&(!t||ts(r,r[a],a,t))&&(delete r[a],s=!0)}}return b.isArray(e)?e.forEach(o):o(e),s}clear(e){const t=Object.keys(this);let r=t.length,s=!1;for(;r--;){const o=t[r];(!e||ts(this,this[o],o,e,!0))&&(delete this[o],s=!0)}return s}normalize(e){const t=this,r={};return b.forEach(this,(s,o)=>{const i=b.findKey(r,o);if(i){t[i]=Yn(s),delete t[o];return}const a=e?ow(o):String(o).trim();a!==o&&delete t[o],t[a]=Yn(s),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return b.forEach(this,(r,s)=>{r!=null&&r!==!1&&(t[s]=e&&b.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[Ui]=this[Ui]={accessors:{}}).accessors,s=this.prototype;function o(i){const a=en(i);r[a]||(iw(s,i),r[a]=!0)}return b.isArray(e)?e.forEach(o):o(e),this}}Ne.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);b.freezeMethods(Ne.prototype);b.freezeMethods(Ne);function ns(n,e){const t=this||Jt,r=e||t,s=Ne.from(r.headers);let o=r.data;return b.forEach(n,function(a){o=a.call(t,o,s.normalize(),e?e.status:void 0)}),s.normalize(),o}function Ll(n){return!!(n&&n.__CANCEL__)}function Sn(n,e,t){U.call(this,n??"canceled",U.ERR_CANCELED,e,t),this.name="CanceledError"}b.inherits(Sn,U,{__CANCEL__:!0});function aw(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new U("Request failed with status code "+t.status,[U.ERR_BAD_REQUEST,U.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}const cw=Le.isStandardBrowserEnv?function(){return{write:function(t,r,s,o,i,a){const c=[];c.push(t+"="+encodeURIComponent(r)),b.isNumber(s)&&c.push("expires="+new Date(s).toGMTString()),b.isString(o)&&c.push("path="+o),b.isString(i)&&c.push("domain="+i),a===!0&&c.push("secure"),document.cookie=c.join("; ")},read:function(t){const r=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function lw(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function uw(n,e){return e?n.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):n}function Ul(n,e){return n&&!lw(e)?uw(n,e):e}const fw=Le.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let r;function s(o){let i=o;return e&&(t.setAttribute("href",i),i=t.href),t.setAttribute("href",i),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:t.pathname.charAt(0)==="/"?t.pathname:"/"+t.pathname}}return r=s(window.location.href),function(i){const a=b.isString(i)?s(i):i;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}();function dw(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function hw(n,e){n=n||10;const t=new Array(n),r=new Array(n);let s=0,o=0,i;return e=e!==void 0?e:1e3,function(c){const l=Date.now(),u=r[o];i||(i=l),t[s]=c,r[s]=l;let f=o,h=0;for(;f!==s;)h+=t[f++],f=f%n;if(s=(s+1)%n,s===o&&(o=(o+1)%n),l-i<e)return;const p=u&&l-u;return p?Math.round(h*1e3/p):void 0}}function _i(n,e){let t=0;const r=hw(50,250);return s=>{const o=s.loaded,i=s.lengthComputable?s.total:void 0,a=o-t,c=r(a),l=o<=i;t=o;const u={loaded:o,total:i,progress:i?o/i:void 0,bytes:a,rate:c||void 0,estimated:c&&i&&l?(i-o)/c:void 0,event:s};u[e?"download":"upload"]=!0,n(u)}}const pw=typeof XMLHttpRequest<"u",mw=pw&&function(n){return new Promise(function(t,r){let s=n.data;const o=Ne.from(n.headers).normalize(),i=n.responseType;let a;function c(){n.cancelToken&&n.cancelToken.unsubscribe(a),n.signal&&n.signal.removeEventListener("abort",a)}b.isFormData(s)&&(Le.isStandardBrowserEnv||Le.isStandardBrowserWebWorkerEnv?o.setContentType(!1):o.setContentType("multipart/form-data;",!1));let l=new XMLHttpRequest;if(n.auth){const p=n.auth.username||"",g=n.auth.password?unescape(encodeURIComponent(n.auth.password)):"";o.set("Authorization","Basic "+btoa(p+":"+g))}const u=Ul(n.baseURL,n.url);l.open(n.method.toUpperCase(),Bl(u,n.params,n.paramsSerializer),!0),l.timeout=n.timeout;function f(){if(!l)return;const p=Ne.from("getAllResponseHeaders"in l&&l.getAllResponseHeaders()),m={data:!i||i==="text"||i==="json"?l.responseText:l.response,status:l.status,statusText:l.statusText,headers:p,config:n,request:l};aw(function(y){t(y),c()},function(y){r(y),c()},m),l=null}if("onloadend"in l?l.onloadend=f:l.onreadystatechange=function(){!l||l.readyState!==4||l.status===0&&!(l.responseURL&&l.responseURL.indexOf("file:")===0)||setTimeout(f)},l.onabort=function(){l&&(r(new U("Request aborted",U.ECONNABORTED,n,l)),l=null)},l.onerror=function(){r(new U("Network Error",U.ERR_NETWORK,n,l)),l=null},l.ontimeout=function(){let g=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const m=n.transitional||Fl;n.timeoutErrorMessage&&(g=n.timeoutErrorMessage),r(new U(g,m.clarifyTimeoutError?U.ETIMEDOUT:U.ECONNABORTED,n,l)),l=null},Le.isStandardBrowserEnv){const p=(n.withCredentials||fw(u))&&n.xsrfCookieName&&cw.read(n.xsrfCookieName);p&&o.set(n.xsrfHeaderName,p)}s===void 0&&o.setContentType(null),"setRequestHeader"in l&&b.forEach(o.toJSON(),function(g,m){l.setRequestHeader(m,g)}),b.isUndefined(n.withCredentials)||(l.withCredentials=!!n.withCredentials),i&&i!=="json"&&(l.responseType=n.responseType),typeof n.onDownloadProgress=="function"&&l.addEventListener("progress",_i(n.onDownloadProgress,!0)),typeof n.onUploadProgress=="function"&&l.upload&&l.upload.addEventListener("progress",_i(n.onUploadProgress)),(n.cancelToken||n.signal)&&(a=p=>{l&&(r(!p||p.type?new Sn(null,n,l):p),l.abort(),l=null)},n.cancelToken&&n.cancelToken.subscribe(a),n.signal&&(n.signal.aborted?a():n.signal.addEventListener("abort",a)));const h=dw(u);if(h&&Le.protocols.indexOf(h)===-1){r(new U("Unsupported protocol "+h+":",U.ERR_BAD_REQUEST,n));return}l.send(s||null)})},Xn={http:G0,xhr:mw};b.forEach(Xn,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const gw={getAdapter:n=>{n=b.isArray(n)?n:[n];const{length:e}=n;let t,r;for(let s=0;s<e&&(t=n[s],!(r=b.isString(t)?Xn[t.toLowerCase()]:t));s++);if(!r)throw r===!1?new U(`Adapter ${t} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(b.hasOwnProp(Xn,t)?`Adapter '${t}' is not available in the build`:`Unknown adapter '${t}'`);if(!b.isFunction(r))throw new TypeError("adapter is not a function");return r},adapters:Xn};function rs(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Sn(null,n)}function Gi(n){return rs(n),n.headers=Ne.from(n.headers),n.data=ns.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),gw.getAdapter(n.adapter||Jt.adapter)(n).then(function(r){return rs(n),r.data=ns.call(n,n.transformResponse,r),r.headers=Ne.from(r.headers),r},function(r){return Ll(r)||(rs(n),r&&r.response&&(r.response.data=ns.call(n,n.transformResponse,r.response),r.response.headers=Ne.from(r.response.headers))),Promise.reject(r)})}const Hi=n=>n instanceof Ne?n.toJSON():n;function zt(n,e){e=e||{};const t={};function r(l,u,f){return b.isPlainObject(l)&&b.isPlainObject(u)?b.merge.call({caseless:f},l,u):b.isPlainObject(u)?b.merge({},u):b.isArray(u)?u.slice():u}function s(l,u,f){if(b.isUndefined(u)){if(!b.isUndefined(l))return r(void 0,l,f)}else return r(l,u,f)}function o(l,u){if(!b.isUndefined(u))return r(void 0,u)}function i(l,u){if(b.isUndefined(u)){if(!b.isUndefined(l))return r(void 0,l)}else return r(void 0,u)}function a(l,u,f){if(f in e)return r(l,u);if(f in n)return r(void 0,l)}const c={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:a,headers:(l,u)=>s(Hi(l),Hi(u),!0)};return b.forEach(Object.keys(Object.assign({},n,e)),function(u){const f=c[u]||s,h=f(n[u],e[u],u);b.isUndefined(h)&&f!==a||(t[u]=h)}),t}const _l="1.4.0",io={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{io[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const Qi={};io.transitional=function(e,t,r){function s(o,i){return"[Axios v"+_l+"] Transitional option '"+o+"'"+i+(r?". "+r:"")}return(o,i,a)=>{if(e===!1)throw new U(s(i," has been removed"+(t?" in "+t:"")),U.ERR_DEPRECATED);return t&&!Qi[i]&&(Qi[i]=!0,console.warn(s(i," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(o,i,a):!0}};function ww(n,e,t){if(typeof n!="object")throw new U("options must be an object",U.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let s=r.length;for(;s-- >0;){const o=r[s],i=e[o];if(i){const a=n[o],c=a===void 0||i(a,o,n);if(c!==!0)throw new U("option "+o+" must be "+c,U.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new U("Unknown option "+o,U.ERR_BAD_OPTION)}}const Ns={assertOptions:ww,validators:io},qe=Ns.validators;class ht{constructor(e){this.defaults=e,this.interceptors={request:new Li,response:new Li}}request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=zt(this.defaults,t);const{transitional:r,paramsSerializer:s,headers:o}=t;r!==void 0&&Ns.assertOptions(r,{silentJSONParsing:qe.transitional(qe.boolean),forcedJSONParsing:qe.transitional(qe.boolean),clarifyTimeoutError:qe.transitional(qe.boolean)},!1),s!=null&&(b.isFunction(s)?t.paramsSerializer={serialize:s}:Ns.assertOptions(s,{encode:qe.function,serialize:qe.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let i;i=o&&b.merge(o.common,o[t.method]),i&&b.forEach(["delete","get","head","post","put","patch","common"],g=>{delete o[g]}),t.headers=Ne.concat(i,o);const a=[];let c=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(t)===!1||(c=c&&m.synchronous,a.unshift(m.fulfilled,m.rejected))});const l=[];this.interceptors.response.forEach(function(m){l.push(m.fulfilled,m.rejected)});let u,f=0,h;if(!c){const g=[Gi.bind(this),void 0];for(g.unshift.apply(g,a),g.push.apply(g,l),h=g.length,u=Promise.resolve(t);f<h;)u=u.then(g[f++],g[f++]);return u}h=a.length;let p=t;for(f=0;f<h;){const g=a[f++],m=a[f++];try{p=g(p)}catch(A){m.call(this,A);break}}try{u=Gi.call(this,p)}catch(g){return Promise.reject(g)}for(f=0,h=l.length;f<h;)u=u.then(l[f++],l[f++]);return u}getUri(e){e=zt(this.defaults,e);const t=Ul(e.baseURL,e.url);return Bl(t,e.params,e.paramsSerializer)}}b.forEach(["delete","get","head","options"],function(e){ht.prototype[e]=function(t,r){return this.request(zt(r||{},{method:e,url:t,data:(r||{}).data}))}});b.forEach(["post","put","patch"],function(e){function t(r){return function(o,i,a){return this.request(zt(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:i}))}}ht.prototype[e]=t(),ht.prototype[e+"Form"]=t(!0)});class ao{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(o){t=o});const r=this;this.promise.then(s=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](s);r._listeners=null}),this.promise.then=s=>{let o;const i=new Promise(a=>{r.subscribe(a),o=a}).then(s);return i.cancel=function(){r.unsubscribe(o)},i},e(function(o,i,a){r.reason||(r.reason=new Sn(o,i,a),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}static source(){let e;return{token:new ao(function(s){e=s}),cancel:e}}}function yw(n){return function(t){return n.apply(null,t)}}function bw(n){return b.isObject(n)&&n.isAxiosError===!0}const Ss={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ss).forEach(([n,e])=>{Ss[e]=n});function Gl(n){const e=new ht(n),t=Cl(ht.prototype.request,e);return b.extend(t,ht.prototype,e,{allOwnKeys:!0}),b.extend(t,e,null,{allOwnKeys:!0}),t.create=function(s){return Gl(zt(n,s))},t}const re=Gl(Jt);re.Axios=ht;re.CanceledError=Sn;re.CancelToken=ao;re.isCancel=Ll;re.VERSION=_l;re.toFormData=kr;re.AxiosError=U;re.Cancel=re.CanceledError;re.all=function(e){return Promise.all(e)};re.spread=yw;re.isAxiosError=bw;re.mergeConfig=zt;re.AxiosHeaders=Ne;re.formToJSON=n=>$l(b.isHTMLForm(n)?new FormData(n):n);re.HttpStatusCode=Ss;re.default=re;const co=re.create({baseURL:"https://app-beta.memoo.ai"});co.interceptors.request.use(n=>(n.headers.Authorization=`Bearer ${localStorage.getItem(dn)??""}`,n));co.interceptors.response.use(n=>n.data.code!==200?Promise.reject(n.data):n.data,n=>n.response?.data?Promise.reject(n.response.data):Promise.reject(n));const Aw="/backend/api/v1",Ew=n=>co.post(`${Aw}/auth/login`,{...n}),vw=()=>{const{getSign:n}=i0(),{address:e}=Os();return{loginMeme:d.useCallback(async()=>{const r=await n();if(console.log("getSign:",r),e&&r){const s=await Ew({address:e,message:r.msg,signature:r.rawSignature,chain:"Ethereum"});console.log(s),localStorage.setItem(dn,s.data.token)}},[e,n])}},Ow=()=>{const n=vl({chainId:1123}),[e,t]=d.useState(!1),{loginMeme:r}=vw();return zi(),Vi(),su({onConnect(s){t(!0)},onDisconnect(){localStorage.removeItem(dn),window.location.reload()}}),d.useEffect(()=>{e&&!localStorage.getItem(dn)&&(async()=>n&&(console.log("useEffect,loginMeme"),await r(),window.location.reload()))()},[e,n]),C.jsxs("div",{children:[So()&&C.jsx(Kh,{}),!So()&&C.jsxs(C.Fragment,{children:[C.jsx(zh,{}),C.jsx(jh,{}),C.jsx("div",{className:Ph.content,children:C.jsx(uu,{})}),C.jsx(Jh,{})]})]})};export{Ow as default};
